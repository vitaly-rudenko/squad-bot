/*! For license information please see jimp.js.LICENSE.txt */(()=>{var __webpack_modules__={236:(xe,re,q)=>{var f=q(4618);function S(l,o){var e=new f(l,o);return function(a){return e.convert(a)}}S.BIN="01",S.OCT="01234567",S.DEC="0123456789",S.HEX="0123456789abcdef",xe.exports=S},4618:xe=>{function re(q,f){if(!(q&&f&&q.length&&f.length))throw new Error("Bad alphabet");this.srcAlphabet=q,this.dstAlphabet=f}re.prototype.convert=function(q){var f,S,l,o={},e=this.srcAlphabet.length,a=this.dstAlphabet.length,n=q.length,t=typeof q=="string"?"":[];if(!this.isValid(q))throw new Error('Number "'+q+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return q;for(f=0;f<n;f++)o[f]=this.srcAlphabet.indexOf(q[f]);do{for(S=0,l=0,f=0;f<n;f++)(S=S*e+o[f])>=a?(o[l++]=parseInt(S/a,10),S%=a):l>0&&(o[l++]=0);n=l,t=this.dstAlphabet.slice(S,S+1).concat(t)}while(l!==0);return t},re.prototype.isValid=function(q){for(var f=0;f<q.length;++f)if(this.srcAlphabet.indexOf(q[f])===-1)return!1;return!0},xe.exports=re},5766:(xe,re)=>{re.byteLength=function(t){var s=a(t),d=s[0],y=s[1];return 3*(d+y)/4-y},re.toByteArray=function(t){var s,d,y=a(t),E=y[0],M=y[1],b=new S(function(F,N,$){return 3*(N+$)/4-$}(0,E,M)),k=0,I=M>0?E-4:E;for(d=0;d<I;d+=4)s=f[t.charCodeAt(d)]<<18|f[t.charCodeAt(d+1)]<<12|f[t.charCodeAt(d+2)]<<6|f[t.charCodeAt(d+3)],b[k++]=s>>16&255,b[k++]=s>>8&255,b[k++]=255&s;return M===2&&(s=f[t.charCodeAt(d)]<<2|f[t.charCodeAt(d+1)]>>4,b[k++]=255&s),M===1&&(s=f[t.charCodeAt(d)]<<10|f[t.charCodeAt(d+1)]<<4|f[t.charCodeAt(d+2)]>>2,b[k++]=s>>8&255,b[k++]=255&s),b},re.fromByteArray=function(t){for(var s,d=t.length,y=d%3,E=[],M=16383,b=0,k=d-y;b<k;b+=M)E.push(n(t,b,b+M>k?k:b+M));return y===1?(s=t[d-1],E.push(q[s>>2]+q[s<<4&63]+"==")):y===2&&(s=(t[d-2]<<8)+t[d-1],E.push(q[s>>10]+q[s>>4&63]+q[s<<2&63]+"=")),E.join("")};for(var q=[],f=[],S=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,e=l.length;o<e;++o)q[o]=l[o],f[l.charCodeAt(o)]=o;function a(t){var s=t.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var d=t.indexOf("=");return d===-1&&(d=s),[d,d===s?0:4-d%4]}function n(t,s,d){for(var y,E,M=[],b=s;b<d;b+=3)y=(t[b]<<16&16711680)+(t[b+1]<<8&65280)+(255&t[b+2]),M.push(q[(E=y)>>18&63]+q[E>>12&63]+q[E>>6&63]+q[63&E]);return M.join("")}f[45]=62,f[95]=63},486:(xe,re,q)=>{var f=q(5433),S=q(1651);xe.exports={encode:f,decode:S}},1651:(xe,re,q)=>{var f=q(8834).lW;function S(l,o){if(this.pos=0,this.buffer=l,this.is_with_alpha=!!o,this.bottom_up=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),this.flag!="BM")throw new Error("Invalid BMP File");this.parseHeader(),this.parseRGBA()}S.prototype.parseHeader=function(){if(this.fileSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.reserved=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.offset=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.headerSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.width=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.height=this.buffer.readInt32LE(this.pos),this.pos+=4,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compress=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.rawSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.hr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.vr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.colors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.importantColors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var l=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(l);for(var o=0;o<l;o++){var e=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++);this.palette[o]={red:n,green:a,blue:e,quad:t}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},S.prototype.parseRGBA=function(){var l="bit"+this.bitPP,o=this.width*this.height*4;this.data=new f(o),this[l]()},S.prototype.bit1=function(){var l=Math.ceil(this.width/8),o=l%4,e=this.height>=0?this.height-1:-this.height;for(e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,n=0;n<l;n++)for(var t=this.buffer.readUInt8(this.pos++),s=a*this.width*4+8*n*4,d=0;d<8&&8*n+d<this.width;d++){var y=this.palette[t>>7-d&1];this.data[s+4*d]=0,this.data[s+4*d+1]=y.blue,this.data[s+4*d+2]=y.green,this.data[s+4*d+3]=y.red}o!=0&&(this.pos+=4-o)}},S.prototype.bit4=function(){if(this.compress==2){let $=function(X){var _=this.palette[X];this.data[l]=0,this.data[l+1]=_.blue,this.data[l+2]=_.green,this.data[l+3]=_.red,l+=4};var N=$;this.data.fill(255);for(var l=0,o=this.bottom_up?this.height-1:0,e=!1;l<this.data.length;){var a=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++);if(a==0){if(n==0){this.bottom_up?o--:o++,l=o*this.width*4,e=!1;continue}if(n==1)break;if(n==2){var t=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++);this.bottom_up?o-=s:o+=s,l+=s*this.width*4+4*t}else{for(var d=this.buffer.readUInt8(this.pos++),y=0;y<n;y++)e?$.call(this,15&d):$.call(this,(240&d)>>4),1&y&&y+1<n&&(d=this.buffer.readUInt8(this.pos++)),e=!e;(n+1>>1&1)==1&&this.pos++}}else for(y=0;y<a;y++)e?$.call(this,15&n):$.call(this,(240&n)>>4),e=!e}}else{var E=Math.ceil(this.width/2),M=E%4;for(s=this.height-1;s>=0;s--){var b=this.bottom_up?s:this.height-1-s;for(t=0;t<E;t++){n=this.buffer.readUInt8(this.pos++),l=b*this.width*4+2*t*4;var k=n>>4,I=15&n,F=this.palette[k];if(this.data[l]=0,this.data[l+1]=F.blue,this.data[l+2]=F.green,this.data[l+3]=F.red,2*t+1>=this.width)break;F=this.palette[I],this.data[l+4]=0,this.data[l+4+1]=F.blue,this.data[l+4+2]=F.green,this.data[l+4+3]=F.red}M!=0&&(this.pos+=4-M)}}},S.prototype.bit8=function(){if(this.compress==1){let k=function(I){var F=this.palette[I];this.data[l]=0,this.data[l+1]=F.blue,this.data[l+2]=F.green,this.data[l+3]=F.red,l+=4};var b=k;this.data.fill(255);for(var l=0,o=this.bottom_up?this.height-1:0;l<this.data.length;){var e=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);if(e==0){if(a==0){this.bottom_up?o--:o++,l=o*this.width*4;continue}if(a==1)break;if(a==2){var n=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++);this.bottom_up?o-=t:o+=t,l+=t*this.width*4+4*n}else{for(var s=0;s<a;s++){var d=this.buffer.readUInt8(this.pos++);k.call(this,d)}!0&a&&this.pos++}}else for(s=0;s<e;s++)k.call(this,a)}}else{var y=this.width%4;for(t=this.height-1;t>=0;t--){var E=this.bottom_up?t:this.height-1-t;for(n=0;n<this.width;n++)if(a=this.buffer.readUInt8(this.pos++),l=E*this.width*4+4*n,a<this.palette.length){var M=this.palette[a];this.data[l]=0,this.data[l+1]=M.blue,this.data[l+2]=M.green,this.data[l+3]=M.red}else this.data[l]=0,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255;y!=0&&(this.pos+=4-y)}}},S.prototype.bit15=function(){for(var l=this.width%3,o=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var t=this.buffer.readUInt16LE(this.pos);this.pos+=2;var s=(t&o)/o*255|0,d=(t>>5&o)/o*255|0,y=(t>>10&o)/o*255|0,E=t>>15?255:0,M=a*this.width*4+4*n;this.data[M]=E,this.data[M+1]=s,this.data[M+2]=d,this.data[M+3]=y}this.pos+=l}},S.prototype.bit16=function(){var l=this.width%2*2;this.maskRed=31744,this.maskGreen=992,this.maskBlue=31,this.mask0=0,this.compress==3&&(this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4);for(var o=[0,0,0],e=0;e<16;e++)this.maskRed>>e&1&&o[0]++,this.maskGreen>>e&1&&o[1]++,this.maskBlue>>e&1&&o[2]++;o[1]+=o[0],o[2]+=o[1],o[0]=8-o[0],o[1]-=8,o[2]-=8;for(var a=this.height-1;a>=0;a--){for(var n=this.bottom_up?a:this.height-1-a,t=0;t<this.width;t++){var s=this.buffer.readUInt16LE(this.pos);this.pos+=2;var d=(s&this.maskBlue)<<o[0],y=(s&this.maskGreen)>>o[1],E=(s&this.maskRed)>>o[2],M=n*this.width*4+4*t;this.data[M]=0,this.data[M+1]=d,this.data[M+2]=y,this.data[M+3]=E}this.pos+=l}},S.prototype.bit24=function(){for(var l=this.height-1;l>=0;l--){for(var o=this.bottom_up?l:this.height-1-l,e=0;e<this.width;e++){var a=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++),s=o*this.width*4+4*e;this.data[s]=0,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=t}this.pos+=this.width%4}},S.prototype.bit32=function(){if(this.compress==3){this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4;for(var l=this.height-1;l>=0;l--)for(var o=this.bottom_up?l:this.height-1-l,e=0;e<this.width;e++){var a=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++),d=o*this.width*4+4*e;this.data[d]=a,this.data[d+1]=n,this.data[d+2]=t,this.data[d+3]=s}}else for(l=this.height-1;l>=0;l--)for(o=this.bottom_up?l:this.height-1-l,e=0;e<this.width;e++)n=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),d=o*this.width*4+4*e,this.data[d]=a,this.data[d+1]=n,this.data[d+2]=t,this.data[d+3]=s},S.prototype.getData=function(){return this.data},xe.exports=function(l){return new S(l)}},5433:(xe,re,q)=>{var f=q(8834).lW;function S(l){this.buffer=l.data,this.width=l.width,this.height=l.height,this.extraBytes=this.width%4,this.rgbSize=this.height*(3*this.width+this.extraBytes),this.headerInfoSize=40,this.data=[],this.flag="BM",this.reserved=0,this.offset=54,this.fileSize=this.rgbSize+this.offset,this.planes=1,this.bitPP=24,this.compress=0,this.hr=0,this.vr=0,this.colors=0,this.importantColors=0}S.prototype.encode=function(){var l=new f(this.offset+this.rgbSize);this.pos=0,l.write(this.flag,this.pos,2),this.pos+=2,l.writeUInt32LE(this.fileSize,this.pos),this.pos+=4,l.writeUInt32LE(this.reserved,this.pos),this.pos+=4,l.writeUInt32LE(this.offset,this.pos),this.pos+=4,l.writeUInt32LE(this.headerInfoSize,this.pos),this.pos+=4,l.writeUInt32LE(this.width,this.pos),this.pos+=4,l.writeInt32LE(-this.height,this.pos),this.pos+=4,l.writeUInt16LE(this.planes,this.pos),this.pos+=2,l.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,l.writeUInt32LE(this.compress,this.pos),this.pos+=4,l.writeUInt32LE(this.rgbSize,this.pos),this.pos+=4,l.writeUInt32LE(this.hr,this.pos),this.pos+=4,l.writeUInt32LE(this.vr,this.pos),this.pos+=4,l.writeUInt32LE(this.colors,this.pos),this.pos+=4,l.writeUInt32LE(this.importantColors,this.pos),this.pos+=4;for(var o=0,e=3*this.width+this.extraBytes,a=0;a<this.height;a++){for(var n=0;n<this.width;n++){var t=this.pos+a*e+3*n;o++,l[t]=this.buffer[o++],l[t+1]=this.buffer[o++],l[t+2]=this.buffer[o++]}if(this.extraBytes>0){var s=this.pos+a*e+3*this.width;l.fill(0,s,s+this.extraBytes)}}return l},xe.exports=function(l,o){return{data:new S(l).encode(),width:l.width,height:l.height}}},5137:(xe,re,q)=>{var f=q(8834).lW;xe.exports=function(S,l){if(f.isBuffer(S)&&f.isBuffer(l)){if(typeof S.equals=="function")return S.equals(l);if(S.length!==l.length)return!1;for(var o=0;o<S.length;o++)if(S[o]!==l[o])return!1;return!0}}},8834:(xe,re,q)=>{var f=q(5766),S=q(4181);re.lW=e,re.h2=50;var l=2147483647;function o(m){if(m>l)throw new RangeError('The value "'+m+'" is invalid for option "size"');var v=new Uint8Array(m);return v.__proto__=e.prototype,v}function e(m,v,A){if(typeof m=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return t(m)}return a(m,v,A)}function a(m,v,A){if(typeof m=="string")return function(r,h){if(typeof h=="string"&&h!==""||(h="utf8"),!e.isEncoding(h))throw new TypeError("Unknown encoding: "+h);var L=0|y(r,h),Q=o(L),g=Q.write(r,h);return g!==L&&(Q=Q.slice(0,g)),Q}(m,v);if(ArrayBuffer.isView(m))return s(m);if(m==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);if(le(m,ArrayBuffer)||m&&le(m.buffer,ArrayBuffer))return function(r,h,L){if(h<0||r.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<h+(L||0))throw new RangeError('"length" is outside of buffer bounds');var Q;return(Q=h===void 0&&L===void 0?new Uint8Array(r):L===void 0?new Uint8Array(r,h):new Uint8Array(r,h,L)).__proto__=e.prototype,Q}(m,v,A);if(typeof m=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var V=m.valueOf&&m.valueOf();if(V!=null&&V!==m)return e.from(V,v,A);var i=function(r){if(e.isBuffer(r)){var h=0|d(r.length),L=o(h);return L.length===0||r.copy(L,0,0,h),L}return r.length!==void 0?typeof r.length!="number"||fe(r.length)?o(0):s(r):r.type==="Buffer"&&Array.isArray(r.data)?s(r.data):void 0}(m);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof m[Symbol.toPrimitive]=="function")return e.from(m[Symbol.toPrimitive]("string"),v,A);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m)}function n(m){if(typeof m!="number")throw new TypeError('"size" argument must be of type number');if(m<0)throw new RangeError('The value "'+m+'" is invalid for option "size"')}function t(m){return n(m),o(m<0?0:0|d(m))}function s(m){for(var v=m.length<0?0:0|d(m.length),A=o(v),V=0;V<v;V+=1)A[V]=255&m[V];return A}function d(m){if(m>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return 0|m}function y(m,v){if(e.isBuffer(m))return m.length;if(ArrayBuffer.isView(m)||le(m,ArrayBuffer))return m.byteLength;if(typeof m!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof m);var A=m.length,V=arguments.length>2&&arguments[2]===!0;if(!V&&A===0)return 0;for(var i=!1;;)switch(v){case"ascii":case"latin1":case"binary":return A;case"utf8":case"utf-8":return T(m).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*A;case"hex":return A>>>1;case"base64":return P(m).length;default:if(i)return V?-1:T(m).length;v=(""+v).toLowerCase(),i=!0}}function E(m,v,A){var V=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((A===void 0||A>this.length)&&(A=this.length),A<=0)||(A>>>=0)<=(v>>>=0))return"";for(m||(m="utf8");;)switch(m){case"hex":return D(this,v,A);case"utf8":case"utf-8":return O(this,v,A);case"ascii":return R(this,v,A);case"latin1":case"binary":return C(this,v,A);case"base64":return p(this,v,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,v,A);default:if(V)throw new TypeError("Unknown encoding: "+m);m=(m+"").toLowerCase(),V=!0}}function M(m,v,A){var V=m[v];m[v]=m[A],m[A]=V}function b(m,v,A,V,i){if(m.length===0)return-1;if(typeof A=="string"?(V=A,A=0):A>2147483647?A=2147483647:A<-2147483648&&(A=-2147483648),fe(A=+A)&&(A=i?0:m.length-1),A<0&&(A=m.length+A),A>=m.length){if(i)return-1;A=m.length-1}else if(A<0){if(!i)return-1;A=0}if(typeof v=="string"&&(v=e.from(v,V)),e.isBuffer(v))return v.length===0?-1:k(m,v,A,V,i);if(typeof v=="number")return v&=255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(m,v,A):Uint8Array.prototype.lastIndexOf.call(m,v,A):k(m,[v],A,V,i);throw new TypeError("val must be string, number or Buffer")}function k(m,v,A,V,i){var r,h=1,L=m.length,Q=v.length;if(V!==void 0&&((V=String(V).toLowerCase())==="ucs2"||V==="ucs-2"||V==="utf16le"||V==="utf-16le")){if(m.length<2||v.length<2)return-1;h=2,L/=2,Q/=2,A/=2}function g(ge,ve){return h===1?ge[ve]:ge.readUInt16BE(ve*h)}if(i){var J=-1;for(r=A;r<L;r++)if(g(m,r)===g(v,J===-1?0:r-J)){if(J===-1&&(J=r),r-J+1===Q)return J*h}else J!==-1&&(r-=r-J),J=-1}else for(A+Q>L&&(A=L-Q),r=A;r>=0;r--){for(var oe=!0,H=0;H<Q;H++)if(g(m,r+H)!==g(v,H)){oe=!1;break}if(oe)return r}return-1}function I(m,v,A,V){A=Number(A)||0;var i=m.length-A;V?(V=Number(V))>i&&(V=i):V=i;var r=v.length;V>r/2&&(V=r/2);for(var h=0;h<V;++h){var L=parseInt(v.substr(2*h,2),16);if(fe(L))return h;m[A+h]=L}return h}function F(m,v,A,V){return ie(T(v,m.length-A),m,A,V)}function N(m,v,A,V){return ie(function(i){for(var r=[],h=0;h<i.length;++h)r.push(255&i.charCodeAt(h));return r}(v),m,A,V)}function $(m,v,A,V){return N(m,v,A,V)}function X(m,v,A,V){return ie(P(v),m,A,V)}function _(m,v,A,V){return ie(function(i,r){for(var h,L,Q,g=[],J=0;J<i.length&&!((r-=2)<0);++J)L=(h=i.charCodeAt(J))>>8,Q=h%256,g.push(Q),g.push(L);return g}(v,m.length-A),m,A,V)}function p(m,v,A){return v===0&&A===m.length?f.fromByteArray(m):f.fromByteArray(m.slice(v,A))}function O(m,v,A){A=Math.min(m.length,A);for(var V=[],i=v;i<A;){var r,h,L,Q,g=m[i],J=null,oe=g>239?4:g>223?3:g>191?2:1;if(i+oe<=A)switch(oe){case 1:g<128&&(J=g);break;case 2:(192&(r=m[i+1]))==128&&(Q=(31&g)<<6|63&r)>127&&(J=Q);break;case 3:r=m[i+1],h=m[i+2],(192&r)==128&&(192&h)==128&&(Q=(15&g)<<12|(63&r)<<6|63&h)>2047&&(Q<55296||Q>57343)&&(J=Q);break;case 4:r=m[i+1],h=m[i+2],L=m[i+3],(192&r)==128&&(192&h)==128&&(192&L)==128&&(Q=(15&g)<<18|(63&r)<<12|(63&h)<<6|63&L)>65535&&Q<1114112&&(J=Q)}J===null?(J=65533,oe=1):J>65535&&(J-=65536,V.push(J>>>10&1023|55296),J=56320|1023&J),V.push(J),i+=oe}return function(H){var ge=H.length;if(ge<=W)return String.fromCharCode.apply(String,H);for(var ve="",Ie=0;Ie<ge;)ve+=String.fromCharCode.apply(String,H.slice(Ie,Ie+=W));return ve}(V)}e.TYPED_ARRAY_SUPPORT=function(){try{var m=new Uint8Array(1);return m.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},m.foo()===42}catch{return!1}}(),e.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(e.prototype,"parent",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.buffer}}),Object.defineProperty(e.prototype,"offset",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),e.poolSize=8192,e.from=function(m,v,A){return a(m,v,A)},e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,e.alloc=function(m,v,A){return function(V,i,r){return n(V),V<=0?o(V):i!==void 0?typeof r=="string"?o(V).fill(i,r):o(V).fill(i):o(V)}(m,v,A)},e.allocUnsafe=function(m){return t(m)},e.allocUnsafeSlow=function(m){return t(m)},e.isBuffer=function(m){return m!=null&&m._isBuffer===!0&&m!==e.prototype},e.compare=function(m,v){if(le(m,Uint8Array)&&(m=e.from(m,m.offset,m.byteLength)),le(v,Uint8Array)&&(v=e.from(v,v.offset,v.byteLength)),!e.isBuffer(m)||!e.isBuffer(v))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===v)return 0;for(var A=m.length,V=v.length,i=0,r=Math.min(A,V);i<r;++i)if(m[i]!==v[i]){A=m[i],V=v[i];break}return A<V?-1:V<A?1:0},e.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(m,v){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(m.length===0)return e.alloc(0);var A;if(v===void 0)for(v=0,A=0;A<m.length;++A)v+=m[A].length;var V=e.allocUnsafe(v),i=0;for(A=0;A<m.length;++A){var r=m[A];if(le(r,Uint8Array)&&(r=e.from(r)),!e.isBuffer(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(V,i),i+=r.length}return V},e.byteLength=y,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var m=this.length;if(m%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var v=0;v<m;v+=2)M(this,v,v+1);return this},e.prototype.swap32=function(){var m=this.length;if(m%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var v=0;v<m;v+=4)M(this,v,v+3),M(this,v+1,v+2);return this},e.prototype.swap64=function(){var m=this.length;if(m%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var v=0;v<m;v+=8)M(this,v,v+7),M(this,v+1,v+6),M(this,v+2,v+5),M(this,v+3,v+4);return this},e.prototype.toString=function(){var m=this.length;return m===0?"":arguments.length===0?O(this,0,m):E.apply(this,arguments)},e.prototype.toLocaleString=e.prototype.toString,e.prototype.equals=function(m){if(!e.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m||e.compare(this,m)===0},e.prototype.inspect=function(){var m="",v=re.h2;return m=this.toString("hex",0,v).replace(/(.{2})/g,"$1 ").trim(),this.length>v&&(m+=" ... "),"<Buffer "+m+">"},e.prototype.compare=function(m,v,A,V,i){if(le(m,Uint8Array)&&(m=e.from(m,m.offset,m.byteLength)),!e.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);if(v===void 0&&(v=0),A===void 0&&(A=m?m.length:0),V===void 0&&(V=0),i===void 0&&(i=this.length),v<0||A>m.length||V<0||i>this.length)throw new RangeError("out of range index");if(V>=i&&v>=A)return 0;if(V>=i)return-1;if(v>=A)return 1;if(this===m)return 0;for(var r=(i>>>=0)-(V>>>=0),h=(A>>>=0)-(v>>>=0),L=Math.min(r,h),Q=this.slice(V,i),g=m.slice(v,A),J=0;J<L;++J)if(Q[J]!==g[J]){r=Q[J],h=g[J];break}return r<h?-1:h<r?1:0},e.prototype.includes=function(m,v,A){return this.indexOf(m,v,A)!==-1},e.prototype.indexOf=function(m,v,A){return b(this,m,v,A,!0)},e.prototype.lastIndexOf=function(m,v,A){return b(this,m,v,A,!1)},e.prototype.write=function(m,v,A,V){if(v===void 0)V="utf8",A=this.length,v=0;else if(A===void 0&&typeof v=="string")V=v,A=this.length,v=0;else{if(!isFinite(v))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");v>>>=0,isFinite(A)?(A>>>=0,V===void 0&&(V="utf8")):(V=A,A=void 0)}var i=this.length-v;if((A===void 0||A>i)&&(A=i),m.length>0&&(A<0||v<0)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");V||(V="utf8");for(var r=!1;;)switch(V){case"hex":return I(this,m,v,A);case"utf8":case"utf-8":return F(this,m,v,A);case"ascii":return N(this,m,v,A);case"latin1":case"binary":return $(this,m,v,A);case"base64":return X(this,m,v,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,m,v,A);default:if(r)throw new TypeError("Unknown encoding: "+V);V=(""+V).toLowerCase(),r=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var W=4096;function R(m,v,A){var V="";A=Math.min(m.length,A);for(var i=v;i<A;++i)V+=String.fromCharCode(127&m[i]);return V}function C(m,v,A){var V="";A=Math.min(m.length,A);for(var i=v;i<A;++i)V+=String.fromCharCode(m[i]);return V}function D(m,v,A){var V,i=m.length;(!v||v<0)&&(v=0),(!A||A<0||A>i)&&(A=i);for(var r="",h=v;h<A;++h)r+=(V=m[h])<16?"0"+V.toString(16):V.toString(16);return r}function x(m,v,A){for(var V=m.slice(v,A),i="",r=0;r<V.length;r+=2)i+=String.fromCharCode(V[r]+256*V[r+1]);return i}function ne(m,v,A){if(m%1!=0||m<0)throw new RangeError("offset is not uint");if(m+v>A)throw new RangeError("Trying to access beyond buffer length")}function Y(m,v,A,V,i,r){if(!e.isBuffer(m))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>i||v<r)throw new RangeError('"value" argument is out of bounds');if(A+V>m.length)throw new RangeError("Index out of range")}function K(m,v,A,V,i,r){if(A+V>m.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("Index out of range")}function G(m,v,A,V,i){return v=+v,A>>>=0,i||K(m,0,A,4),S.write(m,v,A,V,23,4),A+4}function B(m,v,A,V,i){return v=+v,A>>>=0,i||K(m,0,A,8),S.write(m,v,A,V,52,8),A+8}e.prototype.slice=function(m,v){var A=this.length;(m=~~m)<0?(m+=A)<0&&(m=0):m>A&&(m=A),(v=v===void 0?A:~~v)<0?(v+=A)<0&&(v=0):v>A&&(v=A),v<m&&(v=m);var V=this.subarray(m,v);return V.__proto__=e.prototype,V},e.prototype.readUIntLE=function(m,v,A){m>>>=0,v>>>=0,A||ne(m,v,this.length);for(var V=this[m],i=1,r=0;++r<v&&(i*=256);)V+=this[m+r]*i;return V},e.prototype.readUIntBE=function(m,v,A){m>>>=0,v>>>=0,A||ne(m,v,this.length);for(var V=this[m+--v],i=1;v>0&&(i*=256);)V+=this[m+--v]*i;return V},e.prototype.readUInt8=function(m,v){return m>>>=0,v||ne(m,1,this.length),this[m]},e.prototype.readUInt16LE=function(m,v){return m>>>=0,v||ne(m,2,this.length),this[m]|this[m+1]<<8},e.prototype.readUInt16BE=function(m,v){return m>>>=0,v||ne(m,2,this.length),this[m]<<8|this[m+1]},e.prototype.readUInt32LE=function(m,v){return m>>>=0,v||ne(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+16777216*this[m+3]},e.prototype.readUInt32BE=function(m,v){return m>>>=0,v||ne(m,4,this.length),16777216*this[m]+(this[m+1]<<16|this[m+2]<<8|this[m+3])},e.prototype.readIntLE=function(m,v,A){m>>>=0,v>>>=0,A||ne(m,v,this.length);for(var V=this[m],i=1,r=0;++r<v&&(i*=256);)V+=this[m+r]*i;return V>=(i*=128)&&(V-=Math.pow(2,8*v)),V},e.prototype.readIntBE=function(m,v,A){m>>>=0,v>>>=0,A||ne(m,v,this.length);for(var V=v,i=1,r=this[m+--V];V>0&&(i*=256);)r+=this[m+--V]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*v)),r},e.prototype.readInt8=function(m,v){return m>>>=0,v||ne(m,1,this.length),128&this[m]?-1*(255-this[m]+1):this[m]},e.prototype.readInt16LE=function(m,v){m>>>=0,v||ne(m,2,this.length);var A=this[m]|this[m+1]<<8;return 32768&A?4294901760|A:A},e.prototype.readInt16BE=function(m,v){m>>>=0,v||ne(m,2,this.length);var A=this[m+1]|this[m]<<8;return 32768&A?4294901760|A:A},e.prototype.readInt32LE=function(m,v){return m>>>=0,v||ne(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},e.prototype.readInt32BE=function(m,v){return m>>>=0,v||ne(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},e.prototype.readFloatLE=function(m,v){return m>>>=0,v||ne(m,4,this.length),S.read(this,m,!0,23,4)},e.prototype.readFloatBE=function(m,v){return m>>>=0,v||ne(m,4,this.length),S.read(this,m,!1,23,4)},e.prototype.readDoubleLE=function(m,v){return m>>>=0,v||ne(m,8,this.length),S.read(this,m,!0,52,8)},e.prototype.readDoubleBE=function(m,v){return m>>>=0,v||ne(m,8,this.length),S.read(this,m,!1,52,8)},e.prototype.writeUIntLE=function(m,v,A,V){m=+m,v>>>=0,A>>>=0,V||Y(this,m,v,A,Math.pow(2,8*A)-1,0);var i=1,r=0;for(this[v]=255&m;++r<A&&(i*=256);)this[v+r]=m/i&255;return v+A},e.prototype.writeUIntBE=function(m,v,A,V){m=+m,v>>>=0,A>>>=0,V||Y(this,m,v,A,Math.pow(2,8*A)-1,0);var i=A-1,r=1;for(this[v+i]=255&m;--i>=0&&(r*=256);)this[v+i]=m/r&255;return v+A},e.prototype.writeUInt8=function(m,v,A){return m=+m,v>>>=0,A||Y(this,m,v,1,255,0),this[v]=255&m,v+1},e.prototype.writeUInt16LE=function(m,v,A){return m=+m,v>>>=0,A||Y(this,m,v,2,65535,0),this[v]=255&m,this[v+1]=m>>>8,v+2},e.prototype.writeUInt16BE=function(m,v,A){return m=+m,v>>>=0,A||Y(this,m,v,2,65535,0),this[v]=m>>>8,this[v+1]=255&m,v+2},e.prototype.writeUInt32LE=function(m,v,A){return m=+m,v>>>=0,A||Y(this,m,v,4,4294967295,0),this[v+3]=m>>>24,this[v+2]=m>>>16,this[v+1]=m>>>8,this[v]=255&m,v+4},e.prototype.writeUInt32BE=function(m,v,A){return m=+m,v>>>=0,A||Y(this,m,v,4,4294967295,0),this[v]=m>>>24,this[v+1]=m>>>16,this[v+2]=m>>>8,this[v+3]=255&m,v+4},e.prototype.writeIntLE=function(m,v,A,V){if(m=+m,v>>>=0,!V){var i=Math.pow(2,8*A-1);Y(this,m,v,A,i-1,-i)}var r=0,h=1,L=0;for(this[v]=255&m;++r<A&&(h*=256);)m<0&&L===0&&this[v+r-1]!==0&&(L=1),this[v+r]=(m/h>>0)-L&255;return v+A},e.prototype.writeIntBE=function(m,v,A,V){if(m=+m,v>>>=0,!V){var i=Math.pow(2,8*A-1);Y(this,m,v,A,i-1,-i)}var r=A-1,h=1,L=0;for(this[v+r]=255&m;--r>=0&&(h*=256);)m<0&&L===0&&this[v+r+1]!==0&&(L=1),this[v+r]=(m/h>>0)-L&255;return v+A},e.prototype.writeInt8=function(m,v,A){return m=+m,v>>>=0,A||Y(this,m,v,1,127,-128),m<0&&(m=255+m+1),this[v]=255&m,v+1},e.prototype.writeInt16LE=function(m,v,A){return m=+m,v>>>=0,A||Y(this,m,v,2,32767,-32768),this[v]=255&m,this[v+1]=m>>>8,v+2},e.prototype.writeInt16BE=function(m,v,A){return m=+m,v>>>=0,A||Y(this,m,v,2,32767,-32768),this[v]=m>>>8,this[v+1]=255&m,v+2},e.prototype.writeInt32LE=function(m,v,A){return m=+m,v>>>=0,A||Y(this,m,v,4,2147483647,-2147483648),this[v]=255&m,this[v+1]=m>>>8,this[v+2]=m>>>16,this[v+3]=m>>>24,v+4},e.prototype.writeInt32BE=function(m,v,A){return m=+m,v>>>=0,A||Y(this,m,v,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[v]=m>>>24,this[v+1]=m>>>16,this[v+2]=m>>>8,this[v+3]=255&m,v+4},e.prototype.writeFloatLE=function(m,v,A){return G(this,m,v,!0,A)},e.prototype.writeFloatBE=function(m,v,A){return G(this,m,v,!1,A)},e.prototype.writeDoubleLE=function(m,v,A){return B(this,m,v,!0,A)},e.prototype.writeDoubleBE=function(m,v,A){return B(this,m,v,!1,A)},e.prototype.copy=function(m,v,A,V){if(!e.isBuffer(m))throw new TypeError("argument should be a Buffer");if(A||(A=0),V||V===0||(V=this.length),v>=m.length&&(v=m.length),v||(v=0),V>0&&V<A&&(V=A),V===A||m.length===0||this.length===0)return 0;if(v<0)throw new RangeError("targetStart out of bounds");if(A<0||A>=this.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("sourceEnd out of bounds");V>this.length&&(V=this.length),m.length-v<V-A&&(V=m.length-v+A);var i=V-A;if(this===m&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(v,A,V);else if(this===m&&A<v&&v<V)for(var r=i-1;r>=0;--r)m[r+v]=this[r+A];else Uint8Array.prototype.set.call(m,this.subarray(A,V),v);return i},e.prototype.fill=function(m,v,A,V){if(typeof m=="string"){if(typeof v=="string"?(V=v,v=0,A=this.length):typeof A=="string"&&(V=A,A=this.length),V!==void 0&&typeof V!="string")throw new TypeError("encoding must be a string");if(typeof V=="string"&&!e.isEncoding(V))throw new TypeError("Unknown encoding: "+V);if(m.length===1){var i=m.charCodeAt(0);(V==="utf8"&&i<128||V==="latin1")&&(m=i)}}else typeof m=="number"&&(m&=255);if(v<0||this.length<v||this.length<A)throw new RangeError("Out of range index");if(A<=v)return this;var r;if(v>>>=0,A=A===void 0?this.length:A>>>0,m||(m=0),typeof m=="number")for(r=v;r<A;++r)this[r]=m;else{var h=e.isBuffer(m)?m:e.from(m,V),L=h.length;if(L===0)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(r=0;r<A-v;++r)this[r+v]=h[r%L]}return this};var te=/[^+/0-9A-Za-z-_]/g;function T(m,v){var A;v=v||1/0;for(var V=m.length,i=null,r=[],h=0;h<V;++h){if((A=m.charCodeAt(h))>55295&&A<57344){if(!i){if(A>56319){(v-=3)>-1&&r.push(239,191,189);continue}if(h+1===V){(v-=3)>-1&&r.push(239,191,189);continue}i=A;continue}if(A<56320){(v-=3)>-1&&r.push(239,191,189),i=A;continue}A=65536+(i-55296<<10|A-56320)}else i&&(v-=3)>-1&&r.push(239,191,189);if(i=null,A<128){if((v-=1)<0)break;r.push(A)}else if(A<2048){if((v-=2)<0)break;r.push(A>>6|192,63&A|128)}else if(A<65536){if((v-=3)<0)break;r.push(A>>12|224,A>>6&63|128,63&A|128)}else{if(!(A<1114112))throw new Error("Invalid code point");if((v-=4)<0)break;r.push(A>>18|240,A>>12&63|128,A>>6&63|128,63&A|128)}}return r}function P(m){return f.toByteArray(function(v){if((v=(v=v.split("=")[0]).trim().replace(te,"")).length<2)return"";for(;v.length%4!=0;)v+="=";return v}(m))}function ie(m,v,A,V){for(var i=0;i<V&&!(i+A>=v.length||i>=m.length);++i)v[i+A]=m[i];return i}function le(m,v){return m instanceof v||m!=null&&m.constructor!=null&&m.constructor.name!=null&&m.constructor.name===v.name}function fe(m){return m!=m}},4181:(xe,re)=>{re.read=function(q,f,S,l,o){var e,a,n=8*o-l-1,t=(1<<n)-1,s=t>>1,d=-7,y=S?o-1:0,E=S?-1:1,M=q[f+y];for(y+=E,e=M&(1<<-d)-1,M>>=-d,d+=n;d>0;e=256*e+q[f+y],y+=E,d-=8);for(a=e&(1<<-d)-1,e>>=-d,d+=l;d>0;a=256*a+q[f+y],y+=E,d-=8);if(e===0)e=1-s;else{if(e===t)return a?NaN:1/0*(M?-1:1);a+=Math.pow(2,l),e-=s}return(M?-1:1)*a*Math.pow(2,e-l)},re.write=function(q,f,S,l,o,e){var a,n,t,s=8*e-o-1,d=(1<<s)-1,y=d>>1,E=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=l?0:e-1,b=l?1:-1,k=f<0||f===0&&1/f<0?1:0;for(f=Math.abs(f),isNaN(f)||f===1/0?(n=isNaN(f)?1:0,a=d):(a=Math.floor(Math.log(f)/Math.LN2),f*(t=Math.pow(2,-a))<1&&(a--,t*=2),(f+=a+y>=1?E/t:E*Math.pow(2,1-y))*t>=2&&(a++,t/=2),a+y>=d?(n=0,a=d):a+y>=1?(n=(f*t-1)*Math.pow(2,o),a+=y):(n=f*Math.pow(2,y-1)*Math.pow(2,o),a=0));o>=8;q[S+M]=255&n,M+=b,n/=256,o-=8);for(a=a<<o|n,s+=o;s>0;q[S+M]=255&a,M+=b,a/=256,s-=8);q[S+M-b]|=128*k}},2699:xe=>{var re,q=typeof Reflect=="object"?Reflect:null,f=q&&typeof q.apply=="function"?q.apply:function(b,k,I){return Function.prototype.apply.call(b,k,I)};re=q&&typeof q.ownKeys=="function"?q.ownKeys:Object.getOwnPropertySymbols?function(b){return Object.getOwnPropertyNames(b).concat(Object.getOwnPropertySymbols(b))}:function(b){return Object.getOwnPropertyNames(b)};var S=Number.isNaN||function(b){return b!=b};function l(){l.init.call(this)}xe.exports=l,xe.exports.once=function(b,k){return new Promise(function(I,F){function N(X){b.removeListener(k,$),F(X)}function $(){typeof b.removeListener=="function"&&b.removeListener("error",N),I([].slice.call(arguments))}M(b,k,$,{once:!0}),k!=="error"&&function(X,_,p){typeof X.on=="function"&&M(X,"error",_,{once:!0})}(b,N)})},l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var o=10;function e(b){if(typeof b!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b)}function a(b){return b._maxListeners===void 0?l.defaultMaxListeners:b._maxListeners}function n(b,k,I,F){var N,$,X,_;if(e(I),($=b._events)===void 0?($=b._events=Object.create(null),b._eventsCount=0):($.newListener!==void 0&&(b.emit("newListener",k,I.listener?I.listener:I),$=b._events),X=$[k]),X===void 0)X=$[k]=I,++b._eventsCount;else if(typeof X=="function"?X=$[k]=F?[I,X]:[X,I]:F?X.unshift(I):X.push(I),(N=a(b))>0&&X.length>N&&!X.warned){X.warned=!0;var p=new Error("Possible EventEmitter memory leak detected. "+X.length+" "+String(k)+" listeners added. Use emitter.setMaxListeners() to increase limit");p.name="MaxListenersExceededWarning",p.emitter=b,p.type=k,p.count=X.length,_=p,console&&console.warn&&console.warn(_)}return b}function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function s(b,k,I){var F={fired:!1,wrapFn:void 0,target:b,type:k,listener:I},N=t.bind(F);return N.listener=I,F.wrapFn=N,N}function d(b,k,I){var F=b._events;if(F===void 0)return[];var N=F[k];return N===void 0?[]:typeof N=="function"?I?[N.listener||N]:[N]:I?function($){for(var X=new Array($.length),_=0;_<X.length;++_)X[_]=$[_].listener||$[_];return X}(N):E(N,N.length)}function y(b){var k=this._events;if(k!==void 0){var I=k[b];if(typeof I=="function")return 1;if(I!==void 0)return I.length}return 0}function E(b,k){for(var I=new Array(k),F=0;F<k;++F)I[F]=b[F];return I}function M(b,k,I,F){if(typeof b.on=="function")F.once?b.once(k,I):b.on(k,I);else{if(typeof b.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof b);b.addEventListener(k,function N($){F.once&&b.removeEventListener(k,N),I($)})}}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(b){if(typeof b!="number"||b<0||S(b))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+b+".");o=b}}),l.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(b){if(typeof b!="number"||b<0||S(b))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+b+".");return this._maxListeners=b,this},l.prototype.getMaxListeners=function(){return a(this)},l.prototype.emit=function(b){for(var k=[],I=1;I<arguments.length;I++)k.push(arguments[I]);var F=b==="error",N=this._events;if(N!==void 0)F=F&&N.error===void 0;else if(!F)return!1;if(F){var $;if(k.length>0&&($=k[0]),$ instanceof Error)throw $;var X=new Error("Unhandled error."+($?" ("+$.message+")":""));throw X.context=$,X}var _=N[b];if(_===void 0)return!1;if(typeof _=="function")f(_,this,k);else{var p=_.length,O=E(_,p);for(I=0;I<p;++I)f(O[I],this,k)}return!0},l.prototype.addListener=function(b,k){return n(this,b,k,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(b,k){return n(this,b,k,!0)},l.prototype.once=function(b,k){return e(k),this.on(b,s(this,b,k)),this},l.prototype.prependOnceListener=function(b,k){return e(k),this.prependListener(b,s(this,b,k)),this},l.prototype.removeListener=function(b,k){var I,F,N,$,X;if(e(k),(F=this._events)===void 0)return this;if((I=F[b])===void 0)return this;if(I===k||I.listener===k)--this._eventsCount==0?this._events=Object.create(null):(delete F[b],F.removeListener&&this.emit("removeListener",b,I.listener||k));else if(typeof I!="function"){for(N=-1,$=I.length-1;$>=0;$--)if(I[$]===k||I[$].listener===k){X=I[$].listener,N=$;break}if(N<0)return this;N===0?I.shift():function(_,p){for(;p+1<_.length;p++)_[p]=_[p+1];_.pop()}(I,N),I.length===1&&(F[b]=I[0]),F.removeListener!==void 0&&this.emit("removeListener",b,X||k)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(b){var k,I,F;if((I=this._events)===void 0)return this;if(I.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):I[b]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete I[b]),this;if(arguments.length===0){var N,$=Object.keys(I);for(F=0;F<$.length;++F)(N=$[F])!=="removeListener"&&this.removeAllListeners(N);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(k=I[b])=="function")this.removeListener(b,k);else if(k!==void 0)for(F=k.length-1;F>=0;F--)this.removeListener(b,k[F]);return this},l.prototype.listeners=function(b){return d(this,b,!0)},l.prototype.rawListeners=function(b){return d(this,b,!1)},l.listenerCount=function(b,k){return typeof b.listenerCount=="function"?b.listenerCount(k):y.call(b,k)},l.prototype.listenerCount=y,l.prototype.eventNames=function(){return this._eventsCount>0?re(this._events):[]}},6551:(xe,re,q)=>{var f=q(453);xe.exports={create:function(S,l){if(S instanceof(l=l||(0,eval)("this")).ArrayBuffer){var o=q(909);return new f(new o(S,0,S.byteLength,!0,l))}var e=q(3684);return new f(new e(S,0,S.length,!0))}}},3684:xe=>{function re(q,f,S,l){this.buffer=q,this.offset=f||0,S=typeof S=="number"?S:q.length,this.endPosition=this.offset+S,this.setBigEndian(l)}re.prototype={setBigEndian:function(q){this.bigEndian=!!q},nextUInt8:function(){var q=this.buffer.readUInt8(this.offset);return this.offset+=1,q},nextInt8:function(){var q=this.buffer.readInt8(this.offset);return this.offset+=1,q},nextUInt16:function(){var q=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,q},nextUInt32:function(){var q=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,q},nextInt16:function(){var q=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,q},nextInt32:function(){var q=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,q},nextFloat:function(){var q=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,q},nextDouble:function(){var q=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,q},nextBuffer:function(q){var f=this.buffer.slice(this.offset,this.offset+q);return this.offset+=q,f},remainingLength:function(){return this.endPosition-this.offset},nextString:function(q){var f=this.buffer.toString("utf8",this.offset,this.offset+q);return this.offset+=q,f},mark:function(){var q=this;return{openWithOffset:function(f){return f=(f||0)+this.offset,new re(q.buffer,f,q.endPosition-f,q.bigEndian)},offset:this.offset}},offsetFrom:function(q){return this.offset-q.offset},skip:function(q){this.offset+=q},branch:function(q,f){return f=typeof f=="number"?f:this.endPosition-(this.offset+q),new re(this.buffer,this.offset+q,f,this.bigEndian)}},xe.exports=re},565:xe=>{function re(e){return parseInt(e,10)}var q=3600,f=60;function S(e,a){e=e.map(re),a=a.map(re);var n=e[0],t=e[1]-1,s=e[2],d=a[0],y=a[1],E=a[2];return Date.UTC(n,t,s,d,y,E,0)/1e3}function l(e){var a=e.substr(0,10).split("-"),n=e.substr(11,8).split(":"),t=e.substr(19,6).split(":").map(re),s=t[0]*q+t[1]*f,d=S(a,n);if(typeof(d-=s)=="number"&&!isNaN(d))return d}function o(e){var a=e.split(" "),n=S(a[0].split(":"),a[1].split(":"));if(typeof n=="number"&&!isNaN(n))return n}xe.exports={parseDateWithSpecFormat:o,parseDateWithTimezoneFormat:l,parseExifDate:function(e){var a=e.length===19&&e.charAt(4)===":";return e.length===25&&e.charAt(10)==="T"?l(e):a?o(e):void 0}}},909:xe=>{function re(q,f,S,l,o,e){this.global=o,f=f||0,S=S||q.byteLength-f,this.arrayBuffer=q.slice(f,f+S),this.view=new o.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(l),this.offset=0,this.parentOffset=(e||0)+f}re.prototype={setBigEndian:function(q){this.littleEndian=!q},nextUInt8:function(){var q=this.view.getUint8(this.offset);return this.offset+=1,q},nextInt8:function(){var q=this.view.getInt8(this.offset);return this.offset+=1,q},nextUInt16:function(){var q=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,q},nextUInt32:function(){var q=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,q},nextInt16:function(){var q=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,q},nextInt32:function(){var q=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,q},nextFloat:function(){var q=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,q},nextDouble:function(){var q=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,q},nextBuffer:function(q){var f=this.arrayBuffer.slice(this.offset,this.offset+q);return this.offset+=q,f},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(q){var f=this.arrayBuffer.slice(this.offset,this.offset+q);return f=String.fromCharCode.apply(null,new this.global.Uint8Array(f)),this.offset+=q,f},mark:function(){var q=this;return{openWithOffset:function(f){return f=(f||0)+this.offset,new re(q.arrayBuffer,f,q.arrayBuffer.byteLength-f,!q.littleEndian,q.global,q.parentOffset)},offset:this.offset,getParentOffset:function(){return q.parentOffset}}},offsetFrom:function(q){return this.parentOffset+this.offset-(q.offset+q.getParentOffset())},skip:function(q){this.offset+=q},branch:function(q,f){return f=typeof f=="number"?f:this.arrayBuffer.byteLength-(this.offset+q),new re(this.arrayBuffer,this.offset+q,f,!this.littleEndian,this.global,this.parentOffset)}},xe.exports=re},3332:xe=>{xe.exports={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}}},592:xe=>{function re(S,l){switch(S){case 1:return l.nextUInt8();case 3:case 8:return l.nextUInt16();case 4:case 9:return l.nextUInt32();case 5:return[l.nextUInt32(),l.nextUInt32()];case 6:return l.nextInt8();case 10:return[l.nextInt32(),l.nextInt32()];case 11:return l.nextFloat();case 12:return l.nextDouble();default:throw new Error("Invalid format while decoding: "+S)}}function q(S,l){var o,e,a=l.nextUInt16(),n=l.nextUInt16(),t=function(E){switch(E){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}(n),s=l.nextUInt32(),d=t*s;if(d>4&&(l=S.openWithOffset(l.nextUInt32())),n===2){var y=(o=l.nextString(s)).indexOf("\0");y!==-1&&(o=o.substr(0,y))}else if(n===7)o=l.nextBuffer(s);else if(n!==0)for(o=[],e=0;e<s;++e)o.push(re(n,l));return d<4&&l.skip(4-d),[a,o,n]}function f(S,l,o){var e,a,n=l.nextUInt16();for(a=0;a<n;++a)o((e=q(S,l))[0],e[1],e[2])}xe.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(S,l){var o,e,a,n;try{o=function(I){if(I.nextString(6)!=="Exif\0\0")throw new Error("Invalid EXIF header");var F=I.mark(),N=I.nextUInt16();if(N===18761)I.setBigEndian(!1);else{if(N!==19789)throw new Error("Invalid TIFF header");I.setBigEndian(!0)}if(I.nextUInt16()!==42)throw new Error("Invalid TIFF data");return F}(S)}catch{return!1}var t=o.openWithOffset(S.nextUInt32()),s=this.IFD0;f(o,t,function(I,F,N){switch(I){case 34853:a=F[0];break;case 34665:e=F[0];break;default:l(s,I,F,N)}});var d=t.nextUInt32();if(d!==0){var y=o.openWithOffset(d);f(o,y,l.bind(null,this.IFD1))}if(a){var E=o.openWithOffset(a);f(o,E,l.bind(null,this.GPSIFD))}if(e){var M=o.openWithOffset(e),b=this.InteropIFD;f(o,M,function(I,F,N){I===40965?n=F[0]:l(b,I,F,N)})}if(n){var k=o.openWithOffset(n);f(o,k,l.bind(null,this.InteropIFD))}return!0}}},656:xe=>{xe.exports={parseSections:function(re,q){var f,S;for(re.setBigEndian(!0);re.remainingLength()>0&&S!==218;){if(re.nextUInt8()!==255)throw new Error("Invalid JPEG section offset");f=(S=re.nextUInt8())>=208&&S<=217||S===218?0:re.nextUInt16()-2,q(S,re.branch(0,f)),re.skip(f)}},getSizeFromSOFSection:function(re){return re.skip(1),{height:re.nextUInt16(),width:re.nextUInt16()}},getSectionName:function(re){var q,f;switch(re){case 216:q="SOI";break;case 196:q="DHT";break;case 219:q="DQT";break;case 221:q="DRI";break;case 218:q="SOS";break;case 254:q="COM";break;case 217:q="EOI";break;default:re>=224&&re<=239?(q="APP",f=re-224):re>=192&&re<=207&&re!==196&&re!==200&&re!==204?(q="SOF",f=re-192):re>=208&&re<=215&&(q="RST",f=re-208)}var S={name:q};return typeof f=="number"&&(S.index=f),S}}},453:(xe,re,q)=>{var f=q(656),S=q(592),l=q(3814);function o(a,n,t,s,d,y,E){this.startMarker=a,this.tags=n,this.imageSize=t,this.thumbnailOffset=s,this.thumbnailLength=d,this.thumbnailType=y,this.app1Offset=E}function e(a){this.stream=a,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}o.prototype={hasThumbnail:function(a){return!(!this.thumbnailOffset||!this.thumbnailLength||typeof a=="string"&&(a.toLowerCase().trim()==="image/jpeg"?this.thumbnailType!==6:a.toLowerCase().trim()!=="image/tiff"||this.thumbnailType!==1))},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var a,n=this._getThumbnailStream();return f.parseSections(n,function(t,s){f.getSectionName(t).name==="SOF"&&(a=f.getSizeFromSOFSection(s))}),a}},e.prototype={enableBinaryFields:function(a){return this.flags.readBinaryTags=!!a,this},enablePointers:function(a){return this.flags.hidePointers=!a,this},enableTagNames:function(a){return this.flags.resolveTagNames=!!a,this},enableImageSize:function(a){return this.flags.imageSize=!!a,this},enableReturnTags:function(a){return this.flags.returnTags=!!a,this},enableSimpleValues:function(a){return this.flags.simplifyValues=!!a,this},parse:function(){var a,n,t,s,d,y,E,M,b,k=this.stream.mark(),I=k.openWithOffset(0),F=this.flags;return F.resolveTagNames&&(E=q(3332)),F.resolveTagNames?(a={},M=function(N){return a[N.name]},b=function(N,$){a[N.name]=$}):(a=[],M=function(N){var $;for($=0;$<a.length;++$)if(a[$].type===N.type&&a[$].section===N.section)return a.value},b=function(N,$){var X;for(X=0;X<a.length;++X)if(a[X].type===N.type&&a[X].section===N.section)return void(a.value=$)}),f.parseSections(I,function(N,$){var X=$.offsetFrom(k);N===225?S.parseTags($,function(_,p,O,W){if(F.readBinaryTags||W!==7){if(p===513){if(t=O[0],F.hidePointers)return}else if(p===514){if(s=O[0],F.hidePointers)return}else if(p===259&&(d=O[0],F.hidePointers))return;if(F.returnTags)if(F.simplifyValues&&(O=l.simplifyValue(O,W)),F.resolveTagNames){var R=(_===S.GPSIFD?E.gps:E.exif)[p];R||(R=E.exif[p]),a.hasOwnProperty(R)||(a[R]=O)}else a.push({section:_,type:p,value:O})}})&&(y=X):F.imageSize&&f.getSectionName(N).name==="SOF"&&(n=f.getSizeFromSOFSection($))}),F.simplifyValues&&(l.castDegreeValues(M,b),l.castDateValues(M,b)),new o(k,a,n,t,s,d,y)}},xe.exports=e},3814:(xe,re,q)=>{var f=q(592),S=q(565),l=[{section:f.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:f.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],o=[{section:f.SubIFD,type:306,name:"ModifyDate"},{section:f.SubIFD,type:36867,name:"DateTimeOriginal"},{section:f.SubIFD,type:36868,name:"CreateDate"},{section:f.SubIFD,type:306,name:"ModifyDate"}];xe.exports={castDegreeValues:function(e,a){l.forEach(function(n){var t=e(n);if(t){var s=e({section:n.section,type:n.refType,name:n.refName})===n.posVal?1:-1,d=(t[0]+t[1]/60+t[2]/3600)*s;a(n,d)}})},castDateValues:function(e,a){o.forEach(function(n){var t=e(n);if(t){var s=S.parseExifDate(t);s!==void 0&&a(n,s)}})},simplifyValue:function(e,a){return Array.isArray(e)&&(e=e.map(function(n){return a===10||a===5?n[0]/n[1]:n})).length===1&&(e=e[0]),e}}},8789:(module,__unused_webpack_exports,__webpack_require__)=>{var Buffer=__webpack_require__(8834).lW;const Token=__webpack_require__(5010),strtok3=__webpack_require__(7378),{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=__webpack_require__(7044),supported=__webpack_require__(4078),minimumBytes=4100;async function fromStream(xe){const re=await strtok3.fromStream(xe);try{return await fromTokenizer(re)}finally{await re.close()}}async function fromBuffer(xe){if(!(xe instanceof Uint8Array||xe instanceof ArrayBuffer||Buffer.isBuffer(xe)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof xe}\``);const re=xe instanceof Buffer?xe:Buffer.from(xe);if(re&&re.length>1)return fromTokenizer(strtok3.fromBuffer(re))}function _check(xe,re,q){q={offset:0,...q};for(const[f,S]of re.entries())if(q.mask){if(S!==(q.mask[f]&xe[f+q.offset]))return!1}else if(S!==xe[f+q.offset])return!1;return!0}async function fromTokenizer(xe){try{return _fromTokenizer(xe)}catch(re){if(!(re instanceof strtok3.EndOfStreamError))throw re}}async function _fromTokenizer(xe){let re=Buffer.alloc(minimumBytes);const q=(S,l)=>_check(re,S,l),f=(S,l)=>q(stringToBytes(S),l);if(xe.fileInfo.size||(xe.fileInfo.size=Number.MAX_SAFE_INTEGER),await xe.peekBuffer(re,{length:12,mayBeLess:!0}),q([66,77]))return{ext:"bmp",mime:"image/bmp"};if(q([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(q([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(q([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(q([37,33]))return await xe.peekBuffer(re,{length:24,mayBeLess:!0}),f("PS-Adobe-",{offset:2})&&f(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(q([31,160])||q([31,157]))return{ext:"Z",mime:"application/x-compress"};if(q([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(q([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(q([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(q([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(f("ID3")){await xe.ignore(6);const S=await xe.readToken(uint32SyncSafeToken);return xe.position+S>xe.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await xe.ignore(S),fromTokenizer(xe))}if(f("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((re[0]===67||re[0]===70)&&q([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(q([71,73,70]))return{ext:"gif",mime:"image/gif"};if(f("FLIF"))return{ext:"flif",mime:"image/flif"};if(f("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(f("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(f("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(f("FORM"))return{ext:"aif",mime:"audio/aiff"};if(f("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(q([80,75,3,4])){try{for(;xe.position+30<xe.fileInfo.size;){await xe.readBuffer(re,{length:30});const S={compressedSize:re.readUInt32LE(18),uncompressedSize:re.readUInt32LE(22),filenameLength:re.readUInt16LE(26),extraFieldLength:re.readUInt16LE(28)};if(S.filename=await xe.readToken(new Token.StringType(S.filenameLength,"utf-8")),await xe.ignore(S.extraFieldLength),S.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(S.filename.endsWith(".rels")||S.filename.endsWith(".xml"))switch(S.filename.split("/")[0]){case"_rels":default:break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}if(S.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(S.filename.startsWith("3D/")&&S.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(S.filename==="mimetype"&&S.compressedSize===S.uncompressedSize)switch(await xe.readToken(new Token.StringType(S.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}if(S.compressedSize===0){let l=-1;for(;l<0&&xe.position<xe.fileInfo.size;)await xe.peekBuffer(re,{mayBeLess:!0}),l=re.indexOf("504B0304",0,"hex"),await xe.ignore(l>=0?l:re.length)}else await xe.ignore(S.compressedSize)}}catch(S){if(!(S instanceof strtok3.EndOfStreamError))throw S}return{ext:"zip",mime:"application/zip"}}if(f("OggS")){await xe.ignore(28);const S=Buffer.alloc(8);return await xe.readBuffer(S),_check(S,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(S,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(S,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(S,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(S,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(S,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(q([80,75])&&(re[2]===3||re[2]===5||re[2]===7)&&(re[3]===4||re[3]===6||re[3]===8))return{ext:"zip",mime:"application/zip"};if(f("ftyp",{offset:4})&&96&re[8]){const S=re.toString("binary",8,12).replace("\0"," ").trim();switch(S){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return S.startsWith("3g")?S.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(f("MThd"))return{ext:"mid",mime:"audio/midi"};if(f("wOFF")&&(q([0,1,0,0],{offset:4})||f("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(f("wOF2")&&(q([0,1,0,0],{offset:4})||f("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(q([212,195,178,161])||q([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(f("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(f("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(f("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(q([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(f("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(f("%PDF")){await xe.ignore(1350);const S=10485760,l=Buffer.alloc(Math.min(S,xe.fileInfo.size));return await xe.readBuffer(l,{mayBeLess:!0}),l.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(q([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(q([73,73,42,0]))return f("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:q([28,0,254,0],{offset:8})||q([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:q([8,0,0,0],{offset:4})&&(q([45,0,254,0],{offset:8})||q([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(re=Buffer.alloc(24),await xe.peekBuffer(re),(q([16,251,134,1],{offset:4})||q([8,0,0,0],{offset:4}))&&q([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(q([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(f("MAC "))return{ext:"ape",mime:"audio/ape"};if(q([26,69,223,163])){async function S(){const a=await xe.peekNumber(Token.UINT8);let n=128,t=0;for(;!(a&n)&&n!==0;)++t,n>>=1;const s=Buffer.alloc(t+1);return await xe.readBuffer(s),s}async function l(){const a=await S(),n=await S();n[0]^=128>>n.length-1;const t=Math.min(6,n.length);return{id:a.readUIntBE(0,a.length),len:n.readUIntBE(n.length-t,t)}}async function o(a,n){for(;n>0;){const t=await l();if(t.id===17026)return xe.readToken(new Token.StringType(t.len,"utf-8"));await xe.ignore(t.len),--n}}const e=await l();switch(await o(0,e.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(q([82,73,70,70])){if(q([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(q([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(q([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(f("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(q([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(f("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(f("MSCF")||f("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(q([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(q([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(q([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(q([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(f("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(f("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(q([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(f("IMPM"))return{ext:"it",mime:"audio/x-it"};if(f("-lh0-",{offset:2})||f("-lh1-",{offset:2})||f("-lh2-",{offset:2})||f("-lh3-",{offset:2})||f("-lh4-",{offset:2})||f("-lh5-",{offset:2})||f("-lh6-",{offset:2})||f("-lh7-",{offset:2})||f("-lzs-",{offset:2})||f("-lz4-",{offset:2})||f("-lz5-",{offset:2})||f("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(q([0,0,1,186])){if(q([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(q([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(f("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(q([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(f("<?xml "))return{ext:"xml",mime:"application/xml"};if(q([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(q([82,97,114,33,26,7])&&(re[6]===0||re[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(f("solid "))return{ext:"stl",mime:"model/stl"};if(f("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(f("!<arch>"))return await xe.ignore(8),await xe.readToken(new Token.StringType(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(q([137,80,78,71,13,10,26,10])){async function S(){return{length:await xe.readToken(Token.INT32_BE),type:await xe.readToken(new Token.StringType(4,"binary"))}}await xe.ignore(8);do{const l=await S();if(l.length<0)return;switch(l.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await xe.ignore(l.length+4)}}while(xe.position+8<xe.fileInfo.size);return{ext:"png",mime:"image/png"}}if(q([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(q([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(q([102,114,101,101],{offset:4})||q([109,100,97,116],{offset:4})||q([109,111,111,118],{offset:4})||q([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(q([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(f("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(q([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(q([48,38,178,117,142,102,207,17,166,217])){async function S(){const l=Buffer.alloc(16);return await xe.readBuffer(l),{id:l,size:Number(await xe.readToken(Token.UINT64_LE))}}for(await xe.ignore(30);xe.position+24<xe.fileInfo.size;){const l=await S();let o=l.size-24;if(_check(l.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const e=Buffer.alloc(16);if(o-=await xe.readBuffer(e),_check(e,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(e,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await xe.ignore(o)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(q([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((q([126,16,4])||q([126,24,4]))&&q([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(q([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(q([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await xe.ignore(20),await xe.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(q([255,10])||q([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(q([0,0,1,186])||q([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(q([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(q([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(q([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(q([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await xe.peekBuffer(re,{length:Math.min(256,xe.fileInfo.size),mayBeLess:!0}),f("BEGIN:")){if(f("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(f("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(f("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(f("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(f("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(q([4,0,0,0])&&re.length>=16){const S=re.readUInt32LE(12);if(S>12&&re.length>=S+16)try{const l=re.slice(16,S+16).toString();if(JSON.parse(l).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(q([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(f("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(q([71],{offset:4})&&(q([71],{offset:192})||q([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(q([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(q([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(q([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(q([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(q([76,80],{offset:34})&&(q([0,0,1],{offset:8})||q([1,0,2],{offset:8})||q([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(q([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await xe.peekBuffer(re,{length:Math.min(512,xe.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(re))return{ext:"tar",mime:"application/x-tar"};if(q([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(f("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(re.length>=2&&q([255,224],{offset:0,mask:[255,224]})){if(q([16],{offset:1,mask:[22]}))return q([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(q([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(q([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(q([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}const stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{const xe=new stream.PassThrough;let re;re=stream.pipeline?stream.pipeline(readableStream,xe,()=>{}):readableStream.pipe(xe);const q=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const f=await fromBuffer(q);xe.fileType=f}catch(f){reject(f)}resolve(re)})}),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get:()=>new Set(supported.extensions)}),Object.defineProperty(fileType,"mimeTypes",{get:()=>new Set(supported.mimeTypes)}),module.exports=fileType},5025:(xe,re,q)=>{const f=q(3569),S=q(8789),l={fromFile:async function(o){const e=await f.fromFile(o);try{return await S.fromTokenizer(e)}finally{await e.close()}}};Object.assign(l,S),Object.defineProperty(l,"extensions",{get:()=>S.extensions}),Object.defineProperty(l,"mimeTypes",{get:()=>S.mimeTypes}),xe.exports=l},4078:xe=>{xe.exports={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]}},7044:(xe,re)=>{re.stringToBytes=q=>[...q].map(f=>f.charCodeAt(0)),re.tarHeaderChecksumMatches=(q,f=0)=>{const S=parseInt(q.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(S))return!1;let l=256;for(let o=f;o<f+148;o++)l+=q[o];for(let o=f+156;o<f+512;o++)l+=q[o];return S===l},re.uint32SyncSafeToken={get:(q,f)=>127&q[f+3]|q[f+2]<<7|q[f+1]<<14|q[f]<<21,len:4}},3243:(xe,re,q)=>{var f=q(9680),S=Object.prototype.toString,l=Object.prototype.hasOwnProperty,o=function(n,t,s){for(var d=0,y=n.length;d<y;d++)l.call(n,d)&&(s==null?t(n[d],d,n):t.call(s,n[d],d,n))},e=function(n,t,s){for(var d=0,y=n.length;d<y;d++)s==null?t(n.charAt(d),d,n):t.call(s,n.charAt(d),d,n)},a=function(n,t,s){for(var d in n)l.call(n,d)&&(s==null?t(n[d],d,n):t.call(s,n[d],d,n))};xe.exports=function(n,t,s){if(!f(t))throw new TypeError("iterator must be a function");var d;arguments.length>=3&&(d=s),S.call(n)==="[object Array]"?o(n,t,d):typeof n=="string"?e(n,t,d):a(n,t,d)}},2855:(xe,re)=>{function q(f,S,l,o){for(var e=f[S++],a=1<<e,n=a+1,t=n+1,s=e+1,d=(1<<s)-1,y=0,E=0,M=0,b=f[S++],k=new Int32Array(4096),I=null;;){for(;y<16&&b!==0;)E|=f[S++]<<y,y+=8,b===1?b=f[S++]:--b;if(y<s)break;var F=E&d;if(E>>=s,y-=s,F!==a){if(F===n)break;for(var N=F<t?F:I,$=0,X=N;X>a;)X=k[X]>>8,++$;var _=X;if(M+$+(N!==F?1:0)>o)return void console.log("Warning, gif stream longer than expected.");l[M++]=_;var p=M+=$;for(N!==F&&(l[M++]=_),X=N;$--;)X=k[X],l[--p]=255&X,X>>=8;I!==null&&t<4096&&(k[t++]=I<<8|_,t>=d+1&&s<12&&(++s,d=d<<1|1)),I=F}else t=n+1,d=(1<<(s=e+1))-1,I=null}return M!==o&&console.log("Warning, gif stream shorter than expected."),l}try{re.GifWriter=function(f,S,l,o){var e=0,a=(o=o===void 0?{}:o).loop===void 0?null:o.loop,n=o.palette===void 0?null:o.palette;if(S<=0||l<=0||S>65535||l>65535)throw new Error("Width/Height invalid.");function t(I){var F=I.length;if(F<2||F>256||F&F-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return F}f[e++]=71,f[e++]=73,f[e++]=70,f[e++]=56,f[e++]=57,f[e++]=97;var s=0,d=0;if(n!==null){for(var y=t(n);y>>=1;)++s;if(y=1<<s,--s,o.background!==void 0){if((d=o.background)>=y)throw new Error("Background index out of range.");if(d===0)throw new Error("Background index explicitly passed as 0.")}}if(f[e++]=255&S,f[e++]=S>>8&255,f[e++]=255&l,f[e++]=l>>8&255,f[e++]=(n!==null?128:0)|s,f[e++]=d,f[e++]=0,n!==null)for(var E=0,M=n.length;E<M;++E){var b=n[E];f[e++]=b>>16&255,f[e++]=b>>8&255,f[e++]=255&b}if(a!==null){if(a<0||a>65535)throw new Error("Loop count invalid.");f[e++]=33,f[e++]=255,f[e++]=11,f[e++]=78,f[e++]=69,f[e++]=84,f[e++]=83,f[e++]=67,f[e++]=65,f[e++]=80,f[e++]=69,f[e++]=50,f[e++]=46,f[e++]=48,f[e++]=3,f[e++]=1,f[e++]=255&a,f[e++]=a>>8&255,f[e++]=0}var k=!1;this.addFrame=function(I,F,N,$,X,_){if(k===!0&&(--e,k=!1),_=_===void 0?{}:_,I<0||F<0||I>65535||F>65535)throw new Error("x/y invalid.");if(N<=0||$<=0||N>65535||$>65535)throw new Error("Width/Height invalid.");if(X.length<N*$)throw new Error("Not enough pixels for the frame size.");var p=!0,O=_.palette;if(O==null&&(p=!1,O=n),O==null)throw new Error("Must supply either a local or global palette.");for(var W=t(O),R=0;W>>=1;)++R;W=1<<R;var C=_.delay===void 0?0:_.delay,D=_.disposal===void 0?0:_.disposal;if(D<0||D>3)throw new Error("Disposal out of range.");var x=!1,ne=0;if(_.transparent!==void 0&&_.transparent!==null&&(x=!0,(ne=_.transparent)<0||ne>=W))throw new Error("Transparent color index.");if((D!==0||x||C!==0)&&(f[e++]=33,f[e++]=249,f[e++]=4,f[e++]=D<<2|(x===!0?1:0),f[e++]=255&C,f[e++]=C>>8&255,f[e++]=ne,f[e++]=0),f[e++]=44,f[e++]=255&I,f[e++]=I>>8&255,f[e++]=255&F,f[e++]=F>>8&255,f[e++]=255&N,f[e++]=N>>8&255,f[e++]=255&$,f[e++]=$>>8&255,f[e++]=p===!0?128|R-1:0,p===!0)for(var Y=0,K=O.length;Y<K;++Y){var G=O[Y];f[e++]=G>>16&255,f[e++]=G>>8&255,f[e++]=255&G}return e=function(B,te,T,P){B[te++]=T;var ie=te++,le=1<<T,fe=le-1,m=le+1,v=m+1,A=T+1,V=0,i=0;function r(ve){for(;V>=ve;)B[te++]=255&i,i>>=8,V-=8,te===ie+256&&(B[ie]=255,ie=te++)}function h(ve){i|=ve<<V,V+=A,r(8)}var L=P[0]&fe,Q={};h(le);for(var g=1,J=P.length;g<J;++g){var oe=P[g]&fe,H=L<<8|oe,ge=Q[H];if(ge===void 0){for(i|=L<<V,V+=A;V>=8;)B[te++]=255&i,i>>=8,V-=8,te===ie+256&&(B[ie]=255,ie=te++);v===4096?(h(le),v=m+1,A=T+1,Q={}):(v>=1<<A&&++A,Q[H]=v++),L=oe}else L=ge}return h(L),h(m),r(1),ie+1===te?B[ie]=0:(B[ie]=te-ie-1,B[te++]=0),te}(f,e,R<2?2:R,X),e},this.end=function(){return k===!1&&(f[e++]=59,k=!0),e},this.getOutputBuffer=function(){return f},this.setOutputBuffer=function(I){f=I},this.getOutputBufferPosition=function(){return e},this.setOutputBufferPosition=function(I){e=I}},re.GifReader=function(f){var S=0;if(f[S++]!==71||f[S++]!==73||f[S++]!==70||f[S++]!==56||(f[S++]+1&253)!=56||f[S++]!==97)throw new Error("Invalid GIF 87a/89a header.");var l=f[S++]|f[S++]<<8,o=f[S++]|f[S++]<<8,e=f[S++],a=e>>7,n=1<<1+(7&e);f[S++],f[S++];var t=null,s=null;a&&(t=S,s=n,S+=3*n);var d=!0,y=[],E=0,M=null,b=0,k=null;for(this.width=l,this.height=o;d&&S<f.length;)switch(f[S++]){case 33:switch(f[S++]){case 255:if(f[S]!==11||f[S+1]==78&&f[S+2]==69&&f[S+3]==84&&f[S+4]==83&&f[S+5]==67&&f[S+6]==65&&f[S+7]==80&&f[S+8]==69&&f[S+9]==50&&f[S+10]==46&&f[S+11]==48&&f[S+12]==3&&f[S+13]==1&&f[S+16]==0)S+=14,k=f[S++]|f[S++]<<8,S++;else for(S+=12;;){if(!((x=f[S++])>=0))throw Error("Invalid block size");if(x===0)break;S+=x}break;case 249:if(f[S++]!==4||f[S+4]!==0)throw new Error("Invalid graphics extension block.");var I=f[S++];E=f[S++]|f[S++]<<8,M=f[S++],!(1&I)&&(M=null),b=I>>2&7,S++;break;case 254:for(;;){if(!((x=f[S++])>=0))throw Error("Invalid block size");if(x===0)break;S+=x}break;default:throw new Error("Unknown graphic control label: 0x"+f[S-1].toString(16))}break;case 44:var F=f[S++]|f[S++]<<8,N=f[S++]|f[S++]<<8,$=f[S++]|f[S++]<<8,X=f[S++]|f[S++]<<8,_=f[S++],p=_>>6&1,O=1<<1+(7&_),W=t,R=s,C=!1;_>>7&&(C=!0,W=S,R=O,S+=3*O);var D=S;for(S++;;){var x;if(!((x=f[S++])>=0))throw Error("Invalid block size");if(x===0)break;S+=x}y.push({x:F,y:N,width:$,height:X,has_local_palette:C,palette_offset:W,palette_size:R,data_offset:D,data_length:S-D,transparent_index:M,interlaced:!!p,delay:E,disposal:b});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+f[S-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return k},this.frameInfo=function(ne){if(ne<0||ne>=y.length)throw new Error("Frame index out of range.");return y[ne]},this.decodeAndBlitFrameBGRA=function(ne,Y){var K=this.frameInfo(ne),G=K.width*K.height,B=new Uint8Array(G);q(f,K.data_offset,B,G);var te=K.palette_offset,T=K.transparent_index;T===null&&(T=256);var P=K.width,ie=l-P,le=P,fe=4*(K.y*l+K.x),m=4*((K.y+K.height)*l+K.x),v=fe,A=4*ie;K.interlaced===!0&&(A+=4*l*7);for(var V=8,i=0,r=B.length;i<r;++i){var h=B[i];if(le===0&&(le=P,(v+=A)>=m&&(A=4*ie+4*l*(V-1),v=fe+(P+ie)*(V<<1),V>>=1)),h===T)v+=4;else{var L=f[te+3*h],Q=f[te+3*h+1],g=f[te+3*h+2];Y[v++]=g,Y[v++]=Q,Y[v++]=L,Y[v++]=255}--le}},this.decodeAndBlitFrameRGBA=function(ne,Y){var K=this.frameInfo(ne),G=K.width*K.height,B=new Uint8Array(G);q(f,K.data_offset,B,G);var te=K.palette_offset,T=K.transparent_index;T===null&&(T=256);var P=K.width,ie=l-P,le=P,fe=4*(K.y*l+K.x),m=4*((K.y+K.height)*l+K.x),v=fe,A=4*ie;K.interlaced===!0&&(A+=4*l*7);for(var V=8,i=0,r=B.length;i<r;++i){var h=B[i];if(le===0&&(le=P,(v+=A)>=m&&(A=4*ie+4*l*(V-1),v=fe+(P+ie)*(V<<1),V>>=1)),h===T)v+=4;else{var L=f[te+3*h],Q=f[te+3*h+1],g=f[te+3*h+2];Y[v++]=L,Y[v++]=Q,Y[v++]=g,Y[v++]=255}--le}}}}catch{}},7604:(xe,re,q)=>{var f=q(8834).lW;class S{constructor(...o){if(o.length===0)throw new Error("constructor requires parameters");const e=o[0];if(e!==null&&typeof e=="object")if(e instanceof S){const a=e.bitmap;this.bitmap={width:a.width,height:a.height,data:new f(a.width*a.height*4)},a.data.copy(this.bitmap.data)}else{if(!(e.width&&e.height&&e.data))throw new Error("unrecognized constructor parameters");this.bitmap=e}else{if(typeof e!="number"||typeof o[1]!="number")throw new Error("unrecognized constructor parameters");{const a=e,n=o[1],t=o[2];this.bitmap={width:a,height:n},f.isBuffer(t)?this.bitmap.data=t:(this.bitmap.data=new f(a*n*4),typeof t=="number"&&this.fillRGBA(t))}}}blit(o,e,a,n,t,s,d){if(n+s>this.bitmap.width)throw new Error("copy exceeds width of source bitmap");if(e+s>o.bitmap.width)throw new Error("copy exceeds width of target bitmap");if(t+d>this.bitmap.height)throw new Error("copy exceeds height of source bitmap");if(a+d>o.bitmap.height)throw new Erro("copy exceeds height of target bitmap");const y=this.bitmap.data,E=o.bitmap.data,M=4*this.bitmap.width,b=4*o.bitmap.width,k=4*s;let I=t*M+4*n,F=a*b+4*e;for(;--d>=0;)y.copy(E,F,I,I+k),I+=M,F+=b;return this}fillRGBA(o){const e=this.bitmap.data,a=4*this.bitmap.height;let n=0;for(;n<a;)e.writeUInt32BE(o,n),n+=4;for(;n<e.length;)e.copy(e,n,0,a),n+=a;return this}getRGBA(o,e){const a=4*(e*this.bitmap.width+o);return this.bitmap.data.readUInt32BE(a)}getRGBASet(){const o=new Set,e=this.bitmap.data;for(let a=0;a<e.length;a+=4)o.add(e.readUInt32BE(a,!0));return o}greyscale(){const o=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,(e,a,n)=>{const t=Math.round(.299*o[n]+.587*o[n+1]+.114*o[n+2]);o[n]=t,o[n+1]=t,o[n+2]=t}),this}reframe(o,e,a,n,t){const s=o<0?0:o,d=e<0?0:e,y=a+s>this.bitmap.width?this.bitmap.width-s:a,E=n+d>this.bitmap.height?this.bitmap.height-d:n,M=o<0?-o:0,b=e<0?-e:0;let k;if(t===void 0){if(s!==o||d!=e||y!==a||E!==n)throw new GifError("fillRGBA required for this reframing");k=new S(a,n)}else k=new S(a,n,t);return this.blit(k,M,b,s,d,y,E),this.bitmap=k.bitmap,this}scale(o){if(o===1)return;if(!Number.isInteger(o)||o<1)throw new Error("the scale must be an integer >= 1");const e=this.bitmap.width,a=this.bitmap.height,n=e*o*4,t=this.bitmap.data,s=new f(a*n*o);let d,y=0,E=0;for(let M=0;M<a;++M){d=E;for(let b=0;b<e;++b){const k=t.readUInt32BE(y,!0);for(let I=0;I<o;++I)s.writeUInt32BE(k,E),E+=4;y+=4}for(let b=1;b<o;++b)s.copy(s,E,d,E),E+=n,d+=n}return this.bitmap={width:e*o,height:a*o,data:s},this}scanAllCoords(o){const e=this.bitmap.width,a=this.bitmap.data.length;let n=0,t=0;for(let s=0;s<a;s+=4)o(n,t,s),++n===e&&(n=0,++t)}scanAllIndexes(o){const e=this.bitmap.data.length;for(let a=0;a<e;a+=4)o(a)}}xe.exports=S},4364:(xe,re)=>{class q{constructor(l,o,e){this.width=e.width,this.height=e.height,this.loops=e.loops,this.usesTransparency=e.usesTransparency,this.colorScope=e.colorScope,this.frames=o,this.buffer=l}}q.GlobalColorsPreferred=0,q.GlobalColorsOnly=1,q.LocalColorsOnly=2;class f extends Error{constructor(l){super(l),l instanceof Error&&(this.stack="Gif"+l.stack)}}re.Gif=q,re.GifError=f},6512:(xe,re,q)=>{var f=q(8834).lW;const S=q(2855),{Gif:l,GifError:o}=q(4364);function e(){const b=q(4602);return e=function(){return b},b}const{GifFrame:a}=q(5585),n=100;function t(b,k){const I=b.indexOf(k);return I===-1?null:I}function s(b,k){for(var I,F=0,N=b.length-1;F<=N;)if(b[I=Math.floor((F+N)/2)]>k)N=I-1;else{if(!(b[I]<k))return I;F=I+1}return null}function d(b){const k=b.colors;b.usesTransparency&&k.push(0);const I=k.length;let F=2;for(;I>F;)F<<=1;k.length=F,k.fill(0,I)}function y(b,k){let I=b.bitmap.width*b.bitmap.height;return I=Math.ceil(I*k/8),I+=Math.ceil(I/255),n+I+768}function E(b){let k=b.indexCount,I=0;for(--k;k;)++I,k>>=1;return I>0?I:1}function M(b,k,I,F,N){if(I.interlaced)throw new o("writing interlaced GIFs is not supported");const $=function(_,p,O){const W=O.colors,R=W.length<=8?t:s,C=p.bitmap.data,D=new f(C.length/4);let x=W.length,ne=0,Y=0;for(;ne<C.length;){if(C[ne+3]!==0){const K=C.readUInt32BE(ne,!0)>>8&16777215;D[Y]=R(W,K)}else D[Y]=x;ne+=4,++Y}if(O.usesTransparency){if(x===256)throw new o(`Frame ${_} already has 256 colorsand so can't use transparency`)}else x=null;return{buffer:D,transparentIndex:x}}(k,I,F),X={delay:I.delayCentisecs,disposal:I.disposalMethod,transparent:$.transparentIndex};N&&(d(F),X.palette=F.colors);try{let _,p=b.getOutputBuffer(),O=b.getOutputBufferPosition(),W=!0;for(;W;)if(_=b.addFrame(I.xOffset,I.yOffset,I.bitmap.width,I.bitmap.height,$.buffer,X),W=!1,_>=p.length-1){const R=new f(1.5*p.length);p.copy(R),b.setOutputBuffer(R),b.setOutputBufferPosition(O),p=R,W=!0}return p}catch(_){throw new o(_)}}re.GifCodec=class{constructor(b={}){this._transparentRGB=null,typeof b.transparentRGB=="number"&&b.transparentRGB!==0&&(this._transparentRGBA=256*b.transparentRGB),this._testInitialBufferSize=0}decodeGif(b){try{let k;try{k=new S.GifReader(b)}catch($){throw new o($)}const I=k.numFrames(),F=[],N={width:k.width,height:k.height,loops:k.loopCount(),usesTransparency:!1};for(let $=0;$<I;++$){const X=this._decodeFrame(k,$,N.usesTransparency);F.push(X.frame),X.usesTransparency&&(N.usesTransparency=!0)}return Promise.resolve(new l(b,F,N))}catch(k){return Promise.reject(k)}}encodeGif(b,k={}){try{if(b===null||b.length===0)throw new o("there are no frames");const I=e().getMaxDimensions(b);return(k=Object.assign({},k)).width=I.maxWidth,k.height=I.maxHeight,k.loops===void 0&&(k.loops=0),k.colorScope=k.colorScope||l.GlobalColorsPreferred,Promise.resolve(this._encodeGif(b,k))}catch(I){return Promise.reject(I)}}_decodeFrame(b,k,I){let F,N;try{if(F=b.frameInfo(k),N=new f(b.width*b.height*4),b.decodeAndBlitFrameRGBA(k,N),F.width!==b.width||F.height!==b.height){if(F.y&&(N=N.slice(F.y*b.width*4)),b.width>F.width)for(let X=0;X<F.height;++X)N.copy(N,X*F.width*4,4*(F.x+X*b.width),4*(F.x+X*b.width)+4*F.width);N=N.slice(0,F.width*F.height*4)}}catch(X){throw new o(X)}let $=!1;if(this._transparentRGBA===null){if(!I)for(let X=3;X<N.length;X+=4)N[X]===0&&($=!0,X=N.length)}else for(let X=3;X<N.length;X+=4)N[X]===0&&(N.writeUInt32BE(this._transparentRGBA,X-3),$=!0);return{frame:new a(F.width,F.height,N,{xOffset:F.x,yOffset:F.y,disposalMethod:F.disposal,interlaced:F.interlaced,delayCentisecs:F.delay}),usesTransparency:$}}_encodeGif(b,k){let I;if(k.colorScope===l.LocalColorsOnly)I=e().getColorInfo(b,0);else if(I=e().getColorInfo(b,256),!I.colors){if(k.colorScope===l.GlobalColorsOnly)throw new o("Too many color indexes for global color table");k.colorScope=l.LocalColorsOnly}k.usesTransparency=I.usesTransparency;const F=I.palettes;return k.colorScope===l.LocalColorsOnly?function(N,$,X,_){const p={loop:$.loops};let O,W=new f(2e3);try{O=new S.GifWriter(W,$.width,$.height,p)}catch(R){throw new o(R)}for(let R=0;R<N.length;++R)W=M(O,R,N[R],_[R],!0);return new l(W.slice(0,O.end()),N,$)}(b,k,0,F):function(N,$,X,_){const p={colors:_.colors.slice(),usesTransparency:_.usesTransparency};d(p);const O={palette:p.colors,loop:$.loops};let W,R=new f(2e3);try{W=new S.GifWriter(R,$.width,$.height,O)}catch(C){throw new o(C)}for(let C=0;C<N.length;++C)R=M(W,C,N[C],_,!1);return new l(R.slice(0,W.end()),N,$)}(b,k,0,I)}_getSizeEstimateGlobal(b,k){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let I=968;const F=E(b);return k.forEach(N=>{I+=y(N,F)}),I}_getSizeEstimateLocal(b,k){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let I=200;for(let F=0;F<k.length;++F){const N=E(b[F]);I+=y(k[F],N)}return I}}},5585:(xe,re,q)=>{const f=q(7604);q(4364);class S extends f{constructor(...o){if(super(...o),o[0]instanceof S){const e=o[0];this.xOffset=e.xOffset,this.yOffset=e.yOffset,this.disposalMethod=e.disposalMethod,this.delayCentisecs=e.delayCentisecs,this.interlaced=e.interlaced}else{const e=o[o.length-1];let a={};typeof e!="object"||e instanceof f||(a=e),this.xOffset=a.xOffset||0,this.yOffset=a.yOffset||0,this.disposalMethod=a.disposalMethod!==void 0?a.disposalMethod:S.DisposeToBackgroundColor,this.delayCentisecs=a.delayCentisecs||8,this.interlaced=a.interlaced||!1}}getPalette(){const o=new Set,e=this.bitmap.data;let a=0,n=!1;for(;a<e.length;){if(e[a+3]===0)n=!0;else{const y=e.readUInt32BE(a,!0)>>8&16777215;o.add(y)}a+=4}const t=new Array(o.size),s=o.values();for(a=0;a<t.length;++a)t[a]=s.next().value;t.sort((y,E)=>y-E);let d=t.length;return n&&++d,{colors:t,usesTransparency:n,indexCount:d}}}S.DisposeToAnything=0,S.DisposeNothing=1,S.DisposeToBackgroundColor=2,S.DisposeToPrevious=3,re.GifFrame=S},4602:(xe,re,q)=>{var f=q(8834).lW;const S=q(8522),l=q(2460),o=q(7604),{GifFrame:e}=q(5585),{GifError:a}=q(4364),{GifCodec:n}=q(6512),t=[".jpg",".jpeg",".png",".bmp"],s=new n;function d(y,E,M,b,k){const I=Array.isArray(y)?y:[y];if(k){if(["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"].indexOf(k.ditherAlgorithm)<0)throw new Error(`Invalid ditherAlgorithm '${k.ditherAlgorithm}'`);k.serpentine===void 0&&(k.serpentine=!0),k.minimumColorDistanceToDither===void 0&&(k.minimumColorDistanceToDither=0),k.calculateErrorLikeGIMP===void 0&&(k.calculateErrorLikeGIMP=!1)}const F=new l.distance.Euclidean,N=new l.palette[E](F,M,b);let $;$=k?new l.image.ErrorDiffusionArray(F,l.image.ErrorDiffusionArrayKernel[k.ditherAlgorithm],k.serpentine,k.minimumColorDistanceToDither,k.calculateErrorLikeGIMP):new l.image.NearestColor(F);const X=[];I.forEach(p=>{const O=p.bitmap.data,W=new ArrayBuffer(O.length),R=new Uint32Array(W);for(let D=0,x=0;D<O.length;D+=4,++x)R[x]=O.readUInt32LE(D,!0);const C=l.utils.PointContainer.fromUint32Array(R,p.bitmap.width,p.bitmap.height);N.sample(C),X.push(C)});const _=N.quantizeSync();for(let p=0;p<I.length;++p){const O=I[p].bitmap.data,W=$.quantizeSync(X[p],_).toUint32Array();for(let R=0,C=0;R<O.length;R+=4,++C)O.writeUInt32LE(W[C],R)}}re.cloneFrames=function(y){let E=[];return y.forEach(M=>{E.push(new e(M))}),E},re.getColorInfo=function(y,E){let M=!1;const b=[];for(let $=0;$<y.length;++$){let X=y[$].getPalette();if(X.usesTransparency&&(M=!0),X.indexCount>256)throw new a(`Frame ${$} uses more than 256 color indexes`);b.push(X)}if(E===0)return{usesTransparency:M,palettes:b};const k=new Set;b.forEach($=>{$.colors.forEach(X=>{k.add(X)})});let I=k.size;if(M&&++I,E&&I>E)return{usesTransparency:M,palettes:b};const F=new Array(k.size),N=k.values();for(let $=0;$<F.length;++$)F[$]=N.next().value;return F.sort(($,X)=>$-X),{colors:F,indexCount:I,usesTransparency:M,palettes:b}},re.copyAsJimp=function(y,E){return re.shareAsJimp(y,new o(E))},re.getMaxDimensions=function(y){let E=0,M=0;return y.forEach(b=>{const k=b.xOffset+b.bitmap.width;k>E&&(E=k);const I=b.yOffset+b.bitmap.height;I>M&&(M=I)}),{maxWidth:E,maxHeight:M}},re.quantizeDekker=function(y,E,M){d(y,"NeuQuantFloat",E=E||256,0,M)},re.quantizeSorokin=function(y,E,M,b){let k;switch(E=E||256,M=M||"min-pop"){case"min-pop":k=2;break;case"top-pop":k=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${M}'`)}d(y,"RGBQuant",E,k,b)},re.quantizeWu=function(y,E,M,b){if(E=E||256,(M=M||5)<1||M>8)throw new Error("Invalid quantization quality");d(y,"WuQuant",E,M,b)},re.read=function(y,E){return E=E||s,f.isBuffer(y)?E.decodeGif(y):(M=y,new Promise((b,k)=>{S.readFile(M,(I,F)=>I?k(I):b(F))})).then(b=>E.decodeGif(b));var M},re.shareAsJimp=function(y,E){const M=new y(E.bitmap.width,E.bitmap.height,0);return M.bitmap.data=E.bitmap.data,M},re.write=function(y,E,M,b){b=b||s;const k=y.match(/\.[a-zA-Z]+$/);if(k!==null&&t.includes(k[0].toLowerCase()))throw new Error(`GIF '${y}' has an unexpected suffix`);return b.encodeGif(E,M).then(I=>function(F,N){return new Promise(($,X)=>{S.writeFile(F,N,_=>_?X(_):$())})}(y,I.buffer).then(()=>I))}},9455:(xe,re,q)=>{const f=q(7604),{Gif:S,GifError:l}=q(4364),{GifCodec:o}=q(6512),{GifFrame:e}=q(5585),a=q(4602);xe.exports={BitmapImage:f,Gif:S,GifCodec:o,GifFrame:e,GifUtil:a,GifError:l}},5048:(xe,re,q)=>{var f;f=typeof window<"u"?window:q.g!==void 0?q.g:typeof self<"u"?self:{},xe.exports=f},2333:(xe,re)=>{re.read=function(q,f,S,l,o){var e,a,n=8*o-l-1,t=(1<<n)-1,s=t>>1,d=-7,y=S?o-1:0,E=S?-1:1,M=q[f+y];for(y+=E,e=M&(1<<-d)-1,M>>=-d,d+=n;d>0;e=256*e+q[f+y],y+=E,d-=8);for(a=e&(1<<-d)-1,e>>=-d,d+=l;d>0;a=256*a+q[f+y],y+=E,d-=8);if(e===0)e=1-s;else{if(e===t)return a?NaN:1/0*(M?-1:1);a+=Math.pow(2,l),e-=s}return(M?-1:1)*a*Math.pow(2,e-l)},re.write=function(q,f,S,l,o,e){var a,n,t,s=8*e-o-1,d=(1<<s)-1,y=d>>1,E=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=l?0:e-1,b=l?1:-1,k=f<0||f===0&&1/f<0?1:0;for(f=Math.abs(f),isNaN(f)||f===1/0?(n=isNaN(f)?1:0,a=d):(a=Math.floor(Math.log(f)/Math.LN2),f*(t=Math.pow(2,-a))<1&&(a--,t*=2),(f+=a+y>=1?E/t:E*Math.pow(2,1-y))*t>=2&&(a++,t/=2),a+y>=d?(n=0,a=d):a+y>=1?(n=(f*t-1)*Math.pow(2,o),a+=y):(n=f*Math.pow(2,y-1)*Math.pow(2,o),a=0));o>=8;q[S+M]=255&n,M+=b,n/=256,o-=8);for(a=a<<o|n,s+=o;s>0;q[S+M]=255&a,M+=b,a/=256,s-=8);q[S+M-b]|=128*k}},9680:xe=>{var re=Function.prototype.toString,q=/^\s*class\b/,f=function(o){try{var e=re.call(o);return q.test(e)}catch{return!1}},S=Object.prototype.toString,l=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol";xe.exports=function(o){if(!o||typeof o!="function"&&typeof o!="object")return!1;if(typeof o=="function"&&!o.prototype)return!0;if(l)return function(a){try{return!f(a)&&(re.call(a),!0)}catch{return!1}}(o);if(f(o))return!1;var e=S.call(o);return e==="[object Function]"||e==="[object GeneratorFunction]"}},9748:xe=>{xe.exports=function(q){var f=re.call(q);return f==="[object Function]"||typeof q=="function"&&f!=="[object RegExp]"||typeof window<"u"&&(q===window.setTimeout||q===window.alert||q===window.confirm||q===window.prompt)};var re=Object.prototype.toString},9307:(xe,re,q)=>{q(6168),xe.exports=self.fetch.bind(self)},2691:(xe,re,q)=>{var f=q(706),S=q(770);xe.exports={encode:f,decode:S}},770:(xe,re,q)=>{var f=q(8834).lW,S=function(){var l=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),o=4017,e=799,a=3406,n=2276,t=1567,s=3784,d=5793,y=2896;function E(){}function M(X,_){for(var p,O,W=0,R=[],C=16;C>0&&!X[C-1];)C--;R.push({children:[],index:0});var D,x=R[0];for(p=0;p<C;p++){for(O=0;O<X[p];O++){for((x=R.pop()).children[x.index]=_[W];x.index>0;){if(R.length===0)throw new Error("Could not recreate Huffman Table");x=R.pop()}for(x.index++,R.push(x);R.length<=p;)R.push(D={children:[],index:0}),x.children[x.index]=D.children,x=D;W++}p+1<C&&(R.push(D={children:[],index:0}),x.children[x.index]=D.children,x=D)}return R[0].children}function b(X,_,p,O,W,R,C,D,x,ne){p.precision,p.samplesPerLine,p.scanLines;var Y=p.mcusPerLine,K=p.progressive,G=(p.maxH,p.maxV,_),B=0,te=0;function T(){if(te>0)return te--,B>>te&1;if((B=X[_++])==255){var ke=X[_++];if(ke)throw new Error("unexpected marker: "+(B<<8|ke).toString(16))}return te=7,B>>>7}function P(ke){for(var ae,ue=ke;(ae=T())!==null;){if(typeof(ue=ue[ae])=="number")return ue;if(typeof ue!="object")throw new Error("invalid huffman sequence")}return null}function ie(ke){for(var ae=0;ke>0;){var ue=T();if(ue===null)return;ae=ae<<1|ue,ke--}return ae}function le(ke){var ae=ie(ke);return ae>=1<<ke-1?ae:ae+(-1<<ke)+1}var fe,m=0,v=0;function A(ke,ae,ue,we,Be){var be=ue%Y,Pe=(ue/Y|0)*ke.v+we,Te=be*ke.h+Be;ke.blocks[Pe]===void 0&&ne.tolerantDecoding||ae(ke,ke.blocks[Pe][Te])}function V(ke,ae,ue){var we=ue/ke.blocksPerLine|0,Be=ue%ke.blocksPerLine;ke.blocks[we]===void 0&&ne.tolerantDecoding||ae(ke,ke.blocks[we][Be])}var i,r,h,L,Q,g,J=O.length;g=K?R===0?D===0?function(ke,ae){var ue=P(ke.huffmanTableDC),we=ue===0?0:le(ue)<<x;ae[0]=ke.pred+=we}:function(ke,ae){ae[0]|=T()<<x}:D===0?function(ke,ae){if(m>0)m--;else for(var ue=R,we=C;ue<=we;){var Be=P(ke.huffmanTableAC),be=15&Be,Pe=Be>>4;if(be!==0)ae[l[ue+=Pe]]=le(be)*(1<<x),ue++;else{if(Pe<15){m=ie(Pe)+(1<<Pe)-1;break}ue+=16}}}:function(ke,ae){for(var ue=R,we=C,Be=0;ue<=we;){var be=l[ue],Pe=ae[be]<0?-1:1;switch(v){case 0:var Te=P(ke.huffmanTableAC),Ne=15&Te;if(Be=Te>>4,Ne===0)Be<15?(m=ie(Be)+(1<<Be),v=4):(Be=16,v=1);else{if(Ne!==1)throw new Error("invalid ACn encoding");fe=le(Ne),v=Be?2:3}continue;case 1:case 2:ae[be]?ae[be]+=(T()<<x)*Pe:--Be==0&&(v=v==2?3:0);break;case 3:ae[be]?ae[be]+=(T()<<x)*Pe:(ae[be]=fe<<x,v=0);break;case 4:ae[be]&&(ae[be]+=(T()<<x)*Pe)}ue++}v===4&&--m==0&&(v=0)}:function(ke,ae){var ue=P(ke.huffmanTableDC),we=ue===0?0:le(ue);ae[0]=ke.pred+=we;for(var Be=1;Be<64;){var be=P(ke.huffmanTableAC),Pe=15&be,Te=be>>4;if(Pe!==0)ae[l[Be+=Te]]=le(Pe),Be++;else{if(Te<15)break;Be+=16}}};var oe,H,ge,ve,Ie=0;for(H=J==1?O[0].blocksPerLine*O[0].blocksPerColumn:Y*p.mcusPerColumn,W||(W=H);Ie<H;){for(r=0;r<J;r++)O[r].pred=0;if(m=0,J==1)for(i=O[0],Q=0;Q<W;Q++)V(i,g,Ie),Ie++;else for(Q=0;Q<W;Q++){for(r=0;r<J;r++)for(ge=(i=O[r]).h,ve=i.v,h=0;h<ve;h++)for(L=0;L<ge;L++)A(i,g,Ie,h,L);if(++Ie===H)break}if(Ie===H)do{if(X[_]===255&&X[_+1]!==0)break;_+=1}while(_<X.length-2);if(te=0,(oe=X[_]<<8|X[_+1])<65280)throw new Error("marker was not found");if(!(oe>=65488&&oe<=65495))break;_+=2}return _-G}function k(X,_){var p,O,W=[],R=_.blocksPerLine,C=_.blocksPerColumn,D=R<<3,x=new Int32Array(64),ne=new Uint8Array(64);function Y(ie,le,fe){var m,v,A,V,i,r,h,L,Q,g,J=_.quantizationTable,oe=fe;for(g=0;g<64;g++)oe[g]=ie[g]*J[g];for(g=0;g<8;++g){var H=8*g;oe[1+H]!=0||oe[2+H]!=0||oe[3+H]!=0||oe[4+H]!=0||oe[5+H]!=0||oe[6+H]!=0||oe[7+H]!=0?(m=d*oe[0+H]+128>>8,v=d*oe[4+H]+128>>8,A=oe[2+H],V=oe[6+H],i=y*(oe[1+H]-oe[7+H])+128>>8,L=y*(oe[1+H]+oe[7+H])+128>>8,r=oe[3+H]<<4,h=oe[5+H]<<4,Q=m-v+1>>1,m=m+v+1>>1,v=Q,Q=A*s+V*t+128>>8,A=A*t-V*s+128>>8,V=Q,Q=i-h+1>>1,i=i+h+1>>1,h=Q,Q=L+r+1>>1,r=L-r+1>>1,L=Q,Q=m-V+1>>1,m=m+V+1>>1,V=Q,Q=v-A+1>>1,v=v+A+1>>1,A=Q,Q=i*n+L*a+2048>>12,i=i*a-L*n+2048>>12,L=Q,Q=r*e+h*o+2048>>12,r=r*o-h*e+2048>>12,h=Q,oe[0+H]=m+L,oe[7+H]=m-L,oe[1+H]=v+h,oe[6+H]=v-h,oe[2+H]=A+r,oe[5+H]=A-r,oe[3+H]=V+i,oe[4+H]=V-i):(Q=d*oe[0+H]+512>>10,oe[0+H]=Q,oe[1+H]=Q,oe[2+H]=Q,oe[3+H]=Q,oe[4+H]=Q,oe[5+H]=Q,oe[6+H]=Q,oe[7+H]=Q)}for(g=0;g<8;++g){var ge=g;oe[8+ge]!=0||oe[16+ge]!=0||oe[24+ge]!=0||oe[32+ge]!=0||oe[40+ge]!=0||oe[48+ge]!=0||oe[56+ge]!=0?(m=d*oe[0+ge]+2048>>12,v=d*oe[32+ge]+2048>>12,A=oe[16+ge],V=oe[48+ge],i=y*(oe[8+ge]-oe[56+ge])+2048>>12,L=y*(oe[8+ge]+oe[56+ge])+2048>>12,r=oe[24+ge],h=oe[40+ge],Q=m-v+1>>1,m=m+v+1>>1,v=Q,Q=A*s+V*t+2048>>12,A=A*t-V*s+2048>>12,V=Q,Q=i-h+1>>1,i=i+h+1>>1,h=Q,Q=L+r+1>>1,r=L-r+1>>1,L=Q,Q=m-V+1>>1,m=m+V+1>>1,V=Q,Q=v-A+1>>1,v=v+A+1>>1,A=Q,Q=i*n+L*a+2048>>12,i=i*a-L*n+2048>>12,L=Q,Q=r*e+h*o+2048>>12,r=r*o-h*e+2048>>12,h=Q,oe[0+ge]=m+L,oe[56+ge]=m-L,oe[8+ge]=v+h,oe[48+ge]=v-h,oe[16+ge]=A+r,oe[40+ge]=A-r,oe[24+ge]=V+i,oe[32+ge]=V-i):(Q=d*fe[g+0]+8192>>14,oe[0+ge]=Q,oe[8+ge]=Q,oe[16+ge]=Q,oe[24+ge]=Q,oe[32+ge]=Q,oe[40+ge]=Q,oe[48+ge]=Q,oe[56+ge]=Q)}for(g=0;g<64;++g){var ve=128+(oe[g]+8>>4);le[g]=ve<0?0:ve>255?255:ve}}$(D*C*8);for(var K=0;K<C;K++){var G=K<<3;for(p=0;p<8;p++)W.push(new Uint8Array(D));for(var B=0;B<R;B++){Y(_.blocks[K][B],ne,x);var te=0,T=B<<3;for(O=0;O<8;O++){var P=W[G+O];for(p=0;p<8;p++)P[T+p]=ne[te++]}}}return W}function I(X){return X<0?0:X>255?255:X}E.prototype={load:function(X){var _=new XMLHttpRequest;_.open("GET",X,!0),_.responseType="arraybuffer",_.onload=(function(){var p=new Uint8Array(_.response||_.mozResponseArrayBuffer);this.parse(p),this.onload&&this.onload()}).bind(this),_.send(null)},parse:function(X){var _=1e3*this.opts.maxResolutionInMP*1e3,p=0;function O(){var He=X[p]<<8|X[p+1];return p+=2,He}function W(He){var Qe,at,U=1,Ee=1;for(at in He.components)He.components.hasOwnProperty(at)&&(U<(Qe=He.components[at]).h&&(U=Qe.h),Ee<Qe.v&&(Ee=Qe.v));var Z=Math.ceil(He.samplesPerLine/8/U),ce=Math.ceil(He.scanLines/8/Ee);for(at in He.components)if(He.components.hasOwnProperty(at)){Qe=He.components[at];var Ve=Math.ceil(Math.ceil(He.samplesPerLine/8)*Qe.h/U),Le=Math.ceil(Math.ceil(He.scanLines/8)*Qe.v/Ee),$e=Z*Qe.h,De=ce*Qe.v,Xe=[];$(De*$e*256);for(var Ue=0;Ue<De;Ue++){for(var Se=[],it=0;it<$e;it++)Se.push(new Int32Array(64));Xe.push(Se)}Qe.blocksPerLine=Ve,Qe.blocksPerColumn=Le,Qe.blocks=Xe}He.maxH=U,He.maxV=Ee,He.mcusPerLine=Z,He.mcusPerColumn=ce}X.length;var R,C,D,x,ne=null,Y=null,K=[],G=[],B=[],te=[],T=O(),P=-1;if(this.comments=[],T!=65496)throw new Error("SOI not found");for(T=O();T!=65497;){switch(T){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var ie=(D=void 0,x=void 0,D=O(),x=X.subarray(p,p+D-2),p+=x.length,x);if(T===65534){var le=String.fromCharCode.apply(null,ie);this.comments.push(le)}T===65504&&ie[0]===74&&ie[1]===70&&ie[2]===73&&ie[3]===70&&ie[4]===0&&(ne={version:{major:ie[5],minor:ie[6]},densityUnits:ie[7],xDensity:ie[8]<<8|ie[9],yDensity:ie[10]<<8|ie[11],thumbWidth:ie[12],thumbHeight:ie[13],thumbData:ie.subarray(14,14+3*ie[12]*ie[13])}),T===65505&&ie[0]===69&&ie[1]===120&&ie[2]===105&&ie[3]===102&&ie[4]===0&&(this.exifBuffer=ie.subarray(5,ie.length)),T===65518&&ie[0]===65&&ie[1]===100&&ie[2]===111&&ie[3]===98&&ie[4]===101&&ie[5]===0&&(Y={version:ie[6],flags0:ie[7]<<8|ie[8],flags1:ie[9]<<8|ie[10],transformCode:ie[11]});break;case 65499:for(var fe=O()+p-2;p<fe;){var m=X[p++];$(256);var v=new Int32Array(64);if(m>>4){if(m>>4!=1)throw new Error("DQT: invalid table spec");for(Te=0;Te<64;Te++)v[l[Te]]=O()}else for(Te=0;Te<64;Te++)v[l[Te]]=X[p++];K[15&m]=v}break;case 65472:case 65473:case 65474:O(),(R={}).extended=T===65473,R.progressive=T===65474,R.precision=X[p++],R.scanLines=O(),R.samplesPerLine=O(),R.components={},R.componentsOrder=[];var A=R.scanLines*R.samplesPerLine;if(A>_){var V=Math.ceil((A-_)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${V}MP`)}var i,r=X[p++];for(be=0;be<r;be++){i=X[p];var h=X[p+1]>>4,L=15&X[p+1],Q=X[p+2];if(h<=0||L<=0)throw new Error("Invalid sampling factor, expected values above 0");R.componentsOrder.push(i),R.components[i]={h,v:L,quantizationIdx:Q},p+=3}W(R),G.push(R);break;case 65476:var g=O();for(be=2;be<g;){var J=X[p++],oe=new Uint8Array(16),H=0;for(Te=0;Te<16;Te++,p++)H+=oe[Te]=X[p];$(16+H);var ge=new Uint8Array(H);for(Te=0;Te<H;Te++,p++)ge[Te]=X[p];be+=17+H,(J>>4?B:te)[15&J]=M(oe,ge)}break;case 65501:O(),C=O();break;case 65500:O(),O();break;case 65498:O();var ve=X[p++],Ie=[];for(be=0;be<ve;be++){Ne=R.components[X[p++]];var ke=X[p++];Ne.huffmanTableDC=te[ke>>4],Ne.huffmanTableAC=B[15&ke],Ie.push(Ne)}var ae=X[p++],ue=X[p++],we=X[p++],Be=b(X,p,R,Ie,C,ae,ue,we>>4,15&we,this.opts);p+=Be;break;case 65535:X[p]!==255&&p--;break;default:if(X[p-3]==255&&X[p-2]>=192&&X[p-2]<=254){p-=3;break}if(T===224||T==225){if(P!==-1)throw new Error(`first unknown JPEG marker at offset ${P.toString(16)}, second unknown JPEG marker ${T.toString(16)} at offset ${(p-1).toString(16)}`);P=p-1;const He=O();if(X[p+He-2]===255){p+=He-2;break}}throw new Error("unknown JPEG marker "+T.toString(16))}T=O()}if(G.length!=1)throw new Error("only single frame JPEGs supported");for(var be=0;be<G.length;be++){var Pe=G[be].components;for(var Te in Pe)Pe[Te].quantizationTable=K[Pe[Te].quantizationIdx],delete Pe[Te].quantizationIdx}for(this.width=R.samplesPerLine,this.height=R.scanLines,this.jfif=ne,this.adobe=Y,this.components=[],be=0;be<R.componentsOrder.length;be++){var Ne=R.components[R.componentsOrder[be]];this.components.push({lines:k(0,Ne),scaleX:Ne.h/R.maxH,scaleY:Ne.v/R.maxV})}},getData:function(X,_){var p,O,W,R,C,D,x,ne,Y,K,G,B,te,T,P,ie,le,fe,m,v,A,V=this.width/X,i=this.height/_,r=0,h=X*_*this.components.length;$(h);var L=new Uint8Array(h);switch(this.components.length){case 1:for(p=this.components[0],K=0;K<_;K++)for(C=p.lines[0|K*p.scaleY*i],Y=0;Y<X;Y++)G=C[0|Y*p.scaleX*V],L[r++]=G;break;case 2:for(p=this.components[0],O=this.components[1],K=0;K<_;K++)for(C=p.lines[0|K*p.scaleY*i],D=O.lines[0|K*O.scaleY*i],Y=0;Y<X;Y++)G=C[0|Y*p.scaleX*V],L[r++]=G,G=D[0|Y*O.scaleX*V],L[r++]=G;break;case 3:for(A=!0,this.adobe&&this.adobe.transformCode?A=!0:this.opts.colorTransform!==void 0&&(A=!!this.opts.colorTransform),p=this.components[0],O=this.components[1],W=this.components[2],K=0;K<_;K++)for(C=p.lines[0|K*p.scaleY*i],D=O.lines[0|K*O.scaleY*i],x=W.lines[0|K*W.scaleY*i],Y=0;Y<X;Y++)A?(G=C[0|Y*p.scaleX*V],B=D[0|Y*O.scaleX*V],fe=I(G+1.402*((te=x[0|Y*W.scaleX*V])-128)),m=I(G-.3441363*(B-128)-.71413636*(te-128)),v=I(G+1.772*(B-128))):(fe=C[0|Y*p.scaleX*V],m=D[0|Y*O.scaleX*V],v=x[0|Y*W.scaleX*V]),L[r++]=fe,L[r++]=m,L[r++]=v;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(A=!1,this.adobe&&this.adobe.transformCode?A=!0:this.opts.colorTransform!==void 0&&(A=!!this.opts.colorTransform),p=this.components[0],O=this.components[1],W=this.components[2],R=this.components[3],K=0;K<_;K++)for(C=p.lines[0|K*p.scaleY*i],D=O.lines[0|K*O.scaleY*i],x=W.lines[0|K*W.scaleY*i],ne=R.lines[0|K*R.scaleY*i],Y=0;Y<X;Y++)A?(G=C[0|Y*p.scaleX*V],B=D[0|Y*O.scaleX*V],te=x[0|Y*W.scaleX*V],T=ne[0|Y*R.scaleX*V],P=255-I(G+1.402*(te-128)),ie=255-I(G-.3441363*(B-128)-.71413636*(te-128)),le=255-I(G+1.772*(B-128))):(P=C[0|Y*p.scaleX*V],ie=D[0|Y*O.scaleX*V],le=x[0|Y*W.scaleX*V],T=ne[0|Y*R.scaleX*V]),L[r++]=255-P,L[r++]=255-ie,L[r++]=255-le,L[r++]=255-T;break;default:throw new Error("Unsupported color mode")}return L},copyToImageData:function(X,_){var p,O,W,R,C,D,x,ne,Y,K=X.width,G=X.height,B=X.data,te=this.getData(K,G),T=0,P=0;switch(this.components.length){case 1:for(O=0;O<G;O++)for(p=0;p<K;p++)W=te[T++],B[P++]=W,B[P++]=W,B[P++]=W,_&&(B[P++]=255);break;case 3:for(O=0;O<G;O++)for(p=0;p<K;p++)x=te[T++],ne=te[T++],Y=te[T++],B[P++]=x,B[P++]=ne,B[P++]=Y,_&&(B[P++]=255);break;case 4:for(O=0;O<G;O++)for(p=0;p<K;p++)C=te[T++],D=te[T++],W=te[T++],x=255-I(C*(1-(R=te[T++])/255)+R),ne=255-I(D*(1-R/255)+R),Y=255-I(W*(1-R/255)+R),B[P++]=x,B[P++]=ne,B[P++]=Y,_&&(B[P++]=255);break;default:throw new Error("Unsupported color mode")}}};var F=0,N=0;function $(X=0){var _=F+X;if(_>N){var p=Math.ceil((_-N)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${p}MB`)}F=_}return E.resetMaxMemoryUsage=function(X){F=0,N=X},E.getBytesAllocated=function(){return F},E.requestMemoryAllocation=$,E}();xe.exports=function(l,o={}){var e={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512,...o},a=new Uint8Array(l),n=new S;n.opts=e,S.resetMaxMemoryUsage(1024*e.maxMemoryUsageInMB*1024),n.parse(a);var t=e.formatAsRGBA?4:3,s=n.width*n.height*t;try{S.requestMemoryAllocation(s);var d={width:n.width,height:n.height,exifBuffer:n.exifBuffer,data:e.useTArray?new Uint8Array(s):f.alloc(s)};n.comments.length>0&&(d.comments=n.comments)}catch(y){throw y instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+s):y instanceof ReferenceError&&y.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):y}return n.copyToImageData(d,e.formatAsRGBA),d}},706:(xe,re,q)=>{var f=q(8834).lW;function S(l){var o,e,a,n,t,s=Math.floor,d=new Array(64),y=new Array(64),E=new Array(64),M=new Array(64),b=new Array(65535),k=new Array(65535),I=new Array(64),F=new Array(64),N=[],$=0,X=7,_=new Array(64),p=new Array(64),O=new Array(64),W=new Array(256),R=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],x=[0,1,2,3,4,5,6,7,8,9,10,11],ne=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Y=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],K=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],te=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function T(v,A){for(var V=0,i=0,r=new Array,h=1;h<=16;h++){for(var L=1;L<=v[h];L++)r[A[i]]=[],r[A[i]][0]=V,r[A[i]][1]=h,i++,V++;V*=2}return r}function P(v){for(var A=v[0],V=v[1]-1;V>=0;)A&1<<V&&($|=1<<X),V--,--X<0&&($==255?(ie(255),ie(0)):ie($),X=7,$=0)}function ie(v){N.push(v)}function le(v){ie(v>>8&255),ie(255&v)}function fe(v,A,V,i,r){for(var h,L=r[0],Q=r[240],g=function(ue,we){var Be,be,Pe,Te,Ne,He,Qe,at,U,Ee,Z=0;for(U=0;U<8;++U){Be=ue[Z],be=ue[Z+1],Pe=ue[Z+2],Te=ue[Z+3],Ne=ue[Z+4],He=ue[Z+5],Qe=ue[Z+6];var ce=Be+(at=ue[Z+7]),Ve=Be-at,Le=be+Qe,$e=be-Qe,De=Pe+He,Xe=Pe-He,Ue=Te+Ne,Se=Te-Ne,it=ce+Ue,rt=ce-Ue,Ke=Le+De,ut=Le-De;ue[Z]=it+Ke,ue[Z+4]=it-Ke;var Mt=.707106781*(ut+rt);ue[Z+2]=rt+Mt,ue[Z+6]=rt-Mt;var mt=.382683433*((it=Se+Xe)-(ut=$e+Ve)),nt=.5411961*it+mt,vt=1.306562965*ut+mt,Rt=.707106781*(Ke=Xe+$e),It=Ve+Rt,Dt=Ve-Rt;ue[Z+5]=Dt+nt,ue[Z+3]=Dt-nt,ue[Z+1]=It+vt,ue[Z+7]=It-vt,Z+=8}for(Z=0,U=0;U<8;++U){Be=ue[Z],be=ue[Z+8],Pe=ue[Z+16],Te=ue[Z+24],Ne=ue[Z+32],He=ue[Z+40],Qe=ue[Z+48];var Bt=Be+(at=ue[Z+56]),St=Be-at,zt=be+Qe,Et=be-Qe,kt=Pe+He,Pt=Pe-He,Zt=Te+Ne,ii=Te-Ne,Gt=Bt+Zt,Ft=Bt-Zt,Vt=zt+kt,Qt=zt-kt;ue[Z]=Gt+Vt,ue[Z+32]=Gt-Vt;var qt=.707106781*(Qt+Ft);ue[Z+16]=Ft+qt,ue[Z+48]=Ft-qt;var ri=.382683433*((Gt=ii+Pt)-(Qt=Et+St)),ni=.5411961*Gt+ri,ai=1.306562965*Qt+ri,oi=.707106781*(Vt=Pt+Et),wt=St+oi,$t=St-oi;ue[Z+40]=$t+ni,ue[Z+24]=$t-ni,ue[Z+8]=wt+ai,ue[Z+56]=wt-ai,Z++}for(U=0;U<64;++U)Ee=ue[U]*we[U],I[U]=Ee>0?Ee+.5|0:Ee-.5|0;return I}(v,A),J=0;J<64;++J)F[C[J]]=g[J];var oe=F[0]-V;V=F[0],oe==0?P(i[0]):(P(i[k[h=32767+oe]]),P(b[h]));for(var H=63;H>0&&F[H]==0;H--);if(H==0)return P(L),V;for(var ge,ve=1;ve<=H;){for(var Ie=ve;F[ve]==0&&ve<=H;++ve);var ke=ve-Ie;if(ke>=16){ge=ke>>4;for(var ae=1;ae<=ge;++ae)P(Q);ke&=15}h=32767+F[ve],P(r[(ke<<4)+k[h]]),P(b[h]),ve++}return H!=63&&P(L),V}function m(v){v<=0&&(v=1),v>100&&(v=100),t!=v&&(function(A){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],i=0;i<64;i++){var r=s((V[i]*A+50)/100);r<1?r=1:r>255&&(r=255),d[C[i]]=r}for(var h=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],L=0;L<64;L++){var Q=s((h[L]*A+50)/100);Q<1?Q=1:Q>255&&(Q=255),y[C[L]]=Q}for(var g=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],J=0,oe=0;oe<8;oe++)for(var H=0;H<8;H++)E[J]=1/(d[C[J]]*g[oe]*g[H]*8),M[J]=1/(y[C[J]]*g[oe]*g[H]*8),J++}(v<50?Math.floor(5e3/v):Math.floor(200-2*v)),t=v)}this.encode=function(v,A){var V;new Date().getTime(),A&&m(A),N=new Array,$=0,X=7,le(65496),le(65504),le(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),le(1),le(1),ie(0),ie(0),(V=v.comments)!==void 0&&V.constructor===Array&&V.forEach(Pe=>{if(typeof Pe=="string"){le(65534);var Te,Ne=Pe.length;for(le(Ne+2),Te=0;Te<Ne;Te++)ie(Pe.charCodeAt(Te))}}),function(Pe){if(Pe){le(65505),Pe[0]===69&&Pe[1]===120&&Pe[2]===105&&Pe[3]===102?le(Pe.length+2):(le(Pe.length+5+2),ie(69),ie(120),ie(105),ie(102),ie(0));for(var Te=0;Te<Pe.length;Te++)ie(Pe[Te])}}(v.exifBuffer),function(){le(65499),le(132),ie(0);for(var Pe=0;Pe<64;Pe++)ie(d[Pe]);ie(1);for(var Te=0;Te<64;Te++)ie(y[Te])}(),function(Pe,Te){le(65472),le(17),ie(8),le(Te),le(Pe),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)}(v.width,v.height),function(){le(65476),le(418),ie(0);for(var Pe=0;Pe<16;Pe++)ie(D[Pe+1]);for(var Te=0;Te<=11;Te++)ie(x[Te]);ie(16);for(var Ne=0;Ne<16;Ne++)ie(ne[Ne+1]);for(var He=0;He<=161;He++)ie(Y[He]);ie(1);for(var Qe=0;Qe<16;Qe++)ie(K[Qe+1]);for(var at=0;at<=11;at++)ie(G[at]);ie(17);for(var U=0;U<16;U++)ie(B[U+1]);for(var Ee=0;Ee<=161;Ee++)ie(te[Ee])}(),le(65498),le(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var i=0,r=0,h=0;$=0,X=7,this.encode.displayName="_encode_";for(var L,Q,g,J,oe,H,ge,ve,Ie,ke=v.data,ae=v.width,ue=v.height,we=4*ae,Be=0;Be<ue;){for(L=0;L<we;){for(H=oe=we*Be+L,ge=-1,ve=0,Ie=0;Ie<64;Ie++)H=oe+(ve=Ie>>3)*we+(ge=4*(7&Ie)),Be+ve>=ue&&(H-=we*(Be+1+ve-ue)),L+ge>=we&&(H-=L+ge-we+4),Q=ke[H++],g=ke[H++],J=ke[H++],_[Ie]=(R[Q]+R[g+256>>0]+R[J+512>>0]>>16)-128,p[Ie]=(R[Q+768>>0]+R[g+1024>>0]+R[J+1280>>0]>>16)-128,O[Ie]=(R[Q+1280>>0]+R[g+1536>>0]+R[J+1792>>0]>>16)-128;i=fe(_,E,i,o,a),r=fe(p,M,r,e,n),h=fe(O,M,h,e,n),L+=32}Be+=8}if(X>=0){var be=[];be[1]=X+1,be[0]=(1<<X+1)-1,P(be)}return le(65497),f.from(N)},new Date().getTime(),l||(l=50),function(){for(var v=String.fromCharCode,A=0;A<256;A++)W[A]=v(A)}(),o=T(D,x),e=T(K,G),a=T(ne,Y),n=T(B,te),function(){for(var v=1,A=2,V=1;V<=15;V++){for(var i=v;i<A;i++)k[32767+i]=V,b[32767+i]=[],b[32767+i][1]=V,b[32767+i][0]=i;for(var r=-(A-1);r<=-v;r++)k[32767+r]=V,b[32767+r]=[],b[32767+r][1]=V,b[32767+r][0]=A-1+r;v<<=1,A<<=1}}(),function(){for(var v=0;v<256;v++)R[v]=19595*v,R[v+256>>0]=38470*v,R[v+512>>0]=7471*v+32768,R[v+768>>0]=-11059*v,R[v+1024>>0]=-21709*v,R[v+1280>>0]=32768*v+8421375,R[v+1536>>0]=-27439*v,R[v+1792>>0]=-5329*v}(),m(l),new Date().getTime()}xe.exports=function(l,o){return o===void 0&&(o=50),{data:new S(o).encode(l,o),width:l.width,height:l.height}}},8058:(xe,re,q)=>{var f=q(8834).lW,S=q(6290),l=function(){},o=q(4398),e=q(5947),a=q(8438),n=q(5565),t=q(1960),s=self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;xe.exports=function(d,y){y=typeof y=="function"?y:l,typeof d=="string"?d={uri:d}:d||(d={}),d.binary&&(d=function(E){if(s)return t(E,{responseType:"arraybuffer"});if(self.XMLHttpRequest===void 0)throw new Error("your browser does not support XHR loading");var M=new self.XMLHttpRequest;return M.overrideMimeType("text/plain; charset=x-user-defined"),t({xhr:M},E)}(d)),S(d,function(E,M,b){if(E)return y(E);if(!/^2/.test(M.statusCode))return y(new Error("http status code: "+M.statusCode));if(!b)return y(new Error("no body result"));var k,I,F=!1;if(k=b,Object.prototype.toString.call(k)==="[object ArrayBuffer]"){var N=new Uint8Array(b);b=f.from(N,"binary")}n(b)&&(F=!0,typeof b=="string"&&(b=f.from(b,"binary"))),F||(f.isBuffer(b)&&(b=b.toString(d.encoding)),b=b.trim());try{var $=M.headers["content-type"];I=F?a(b):/json/.test($)||b.charAt(0)==="{"?JSON.parse(b):/xml/.test($)||b.charAt(0)==="<"?e(b):o(b)}catch(X){y(new Error("error parsing font "+X.message)),y=l}y(null,I)})}},5565:(xe,re,q)=>{var f=q(8834).lW,S=q(5137),l=f.from([66,77,70,3]);xe.exports=function(o){return typeof o=="string"?o.substring(0,3)==="BMF":o.length>4&&S(o.slice(0,4),l)}},63:(xe,re)=>{function q(f,S,l,o){for(var e=f[S++],a=1<<e,n=a+1,t=n+1,s=e+1,d=(1<<s)-1,y=0,E=0,M=0,b=f[S++],k=new Int32Array(4096),I=null;;){for(;y<16&&b!==0;)E|=f[S++]<<y,y+=8,b===1?b=f[S++]:--b;if(y<s)break;var F=E&d;if(E>>=s,y-=s,F!==a){if(F===n)break;for(var N=F<t?F:I,$=0,X=N;X>a;)X=k[X]>>8,++$;var _=X;if(M+$+(N!==F?1:0)>o)return void console.log("Warning, gif stream longer than expected.");l[M++]=_;var p=M+=$;for(N!==F&&(l[M++]=_),X=N;$--;)X=k[X],l[--p]=255&X,X>>=8;I!==null&&t<4096&&(k[t++]=I<<8|_,t>=d+1&&s<12&&(++s,d=d<<1|1)),I=F}else t=n+1,d=(1<<(s=e+1))-1,I=null}return M!==o&&console.log("Warning, gif stream shorter than expected."),l}try{re.N=function(f){var S=0;if(f[S++]!==71||f[S++]!==73||f[S++]!==70||f[S++]!==56||(f[S++]+1&253)!=56||f[S++]!==97)throw new Error("Invalid GIF 87a/89a header.");var l=f[S++]|f[S++]<<8,o=f[S++]|f[S++]<<8,e=f[S++],a=e>>7,n=1<<1+(7&e);f[S++],f[S++];var t=null,s=null;a&&(t=S,s=n,S+=3*n);var d=!0,y=[],E=0,M=null,b=0,k=null;for(this.width=l,this.height=o;d&&S<f.length;)switch(f[S++]){case 33:switch(f[S++]){case 255:if(f[S]!==11||f[S+1]==78&&f[S+2]==69&&f[S+3]==84&&f[S+4]==83&&f[S+5]==67&&f[S+6]==65&&f[S+7]==80&&f[S+8]==69&&f[S+9]==50&&f[S+10]==46&&f[S+11]==48&&f[S+12]==3&&f[S+13]==1&&f[S+16]==0)S+=14,k=f[S++]|f[S++]<<8,S++;else for(S+=12;;){if(!((x=f[S++])>=0))throw Error("Invalid block size");if(x===0)break;S+=x}break;case 249:if(f[S++]!==4||f[S+4]!==0)throw new Error("Invalid graphics extension block.");var I=f[S++];E=f[S++]|f[S++]<<8,M=f[S++],!(1&I)&&(M=null),b=I>>2&7,S++;break;case 254:for(;;){if(!((x=f[S++])>=0))throw Error("Invalid block size");if(x===0)break;S+=x}break;default:throw new Error("Unknown graphic control label: 0x"+f[S-1].toString(16))}break;case 44:var F=f[S++]|f[S++]<<8,N=f[S++]|f[S++]<<8,$=f[S++]|f[S++]<<8,X=f[S++]|f[S++]<<8,_=f[S++],p=_>>6&1,O=1<<1+(7&_),W=t,R=s,C=!1;_>>7&&(C=!0,W=S,R=O,S+=3*O);var D=S;for(S++;;){var x;if(!((x=f[S++])>=0))throw Error("Invalid block size");if(x===0)break;S+=x}y.push({x:F,y:N,width:$,height:X,has_local_palette:C,palette_offset:W,palette_size:R,data_offset:D,data_length:S-D,transparent_index:M,interlaced:!!p,delay:E,disposal:b});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+f[S-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return k},this.frameInfo=function(ne){if(ne<0||ne>=y.length)throw new Error("Frame index out of range.");return y[ne]},this.decodeAndBlitFrameBGRA=function(ne,Y){var K=this.frameInfo(ne),G=K.width*K.height,B=new Uint8Array(G);q(f,K.data_offset,B,G);var te=K.palette_offset,T=K.transparent_index;T===null&&(T=256);var P=K.width,ie=l-P,le=P,fe=4*(K.y*l+K.x),m=4*((K.y+K.height)*l+K.x),v=fe,A=4*ie;K.interlaced===!0&&(A+=4*l*7);for(var V=8,i=0,r=B.length;i<r;++i){var h=B[i];if(le===0&&(le=P,(v+=A)>=m&&(A=4*ie+4*l*(V-1),v=fe+(P+ie)*(V<<1),V>>=1)),h===T)v+=4;else{var L=f[te+3*h],Q=f[te+3*h+1],g=f[te+3*h+2];Y[v++]=g,Y[v++]=Q,Y[v++]=L,Y[v++]=255}--le}},this.decodeAndBlitFrameRGBA=function(ne,Y){var K=this.frameInfo(ne),G=K.width*K.height,B=new Uint8Array(G);q(f,K.data_offset,B,G);var te=K.palette_offset,T=K.transparent_index;T===null&&(T=256);var P=K.width,ie=l-P,le=P,fe=4*(K.y*l+K.x),m=4*((K.y+K.height)*l+K.x),v=fe,A=4*ie;K.interlaced===!0&&(A+=4*l*7);for(var V=8,i=0,r=B.length;i<r;++i){var h=B[i];if(le===0&&(le=P,(v+=A)>=m&&(A=4*ie+4*l*(V-1),v=fe+(P+ie)*(V<<1),V>>=1)),h===T)v+=4;else{var L=f[te+3*h],Q=f[te+3*h+1],g=f[te+3*h+2];Y[v++]=L,Y[v++]=Q,Y[v++]=g,Y[v++]=255}--le}}}}catch{}},2845:(xe,re,q)=>{var f={};(0,q(9761).assign)(f,q(9880),q(1380),q(1271)),xe.exports=f},9880:(xe,re,q)=>{var f=q(5789),S=q(9761),l=q(7944),o=q(2950),e=q(744),a=Object.prototype.toString,n=0,t=-1,s=0,d=8;function y(M){if(!(this instanceof y))return new y(M);this.options=S.assign({level:t,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:s,to:""},M||{});var b=this.options;b.raw&&b.windowBits>0?b.windowBits=-b.windowBits:b.gzip&&b.windowBits>0&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new e,this.strm.avail_out=0;var k=f.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(k!==n)throw new Error(o[k]);if(b.header&&f.deflateSetHeader(this.strm,b.header),b.dictionary){var I;if(I=typeof b.dictionary=="string"?l.string2buf(b.dictionary):a.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(k=f.deflateSetDictionary(this.strm,I))!==n)throw new Error(o[k]);this._dict_set=!0}}function E(M,b){var k=new y(b);if(k.push(M,!0),k.err)throw k.msg||o[k.err];return k.result}y.prototype.push=function(M,b){var k,I,F=this.strm,N=this.options.chunkSize;if(this.ended)return!1;I=b===~~b?b:b===!0?4:0,typeof M=="string"?F.input=l.string2buf(M):a.call(M)==="[object ArrayBuffer]"?F.input=new Uint8Array(M):F.input=M,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new S.Buf8(N),F.next_out=0,F.avail_out=N),(k=f.deflate(F,I))!==1&&k!==n)return this.onEnd(k),this.ended=!0,!1;F.avail_out!==0&&(F.avail_in!==0||I!==4&&I!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(S.shrinkBuf(F.output,F.next_out))):this.onData(S.shrinkBuf(F.output,F.next_out)))}while((F.avail_in>0||F.avail_out===0)&&k!==1);return I===4?(k=f.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===n):I!==2||(this.onEnd(n),F.avail_out=0,!0)},y.prototype.onData=function(M){this.chunks.push(M)},y.prototype.onEnd=function(M){M===n&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=S.flattenChunks(this.chunks)),this.chunks=[],this.err=M,this.msg=this.strm.msg},re.Deflate=y,re.deflate=E,re.deflateRaw=function(M,b){return(b=b||{}).raw=!0,E(M,b)},re.gzip=function(M,b){return(b=b||{}).gzip=!0,E(M,b)}},1380:(xe,re,q)=>{var f=q(5020),S=q(9761),l=q(7944),o=q(1271),e=q(2950),a=q(744),n=q(7357),t=Object.prototype.toString;function s(y){if(!(this instanceof s))return new s(y);this.options=S.assign({chunkSize:16384,windowBits:0,to:""},y||{});var E=this.options;E.raw&&E.windowBits>=0&&E.windowBits<16&&(E.windowBits=-E.windowBits,E.windowBits===0&&(E.windowBits=-15)),!(E.windowBits>=0&&E.windowBits<16)||y&&y.windowBits||(E.windowBits+=32),E.windowBits>15&&E.windowBits<48&&!(15&E.windowBits)&&(E.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var M=f.inflateInit2(this.strm,E.windowBits);if(M!==o.Z_OK)throw new Error(e[M]);if(this.header=new n,f.inflateGetHeader(this.strm,this.header),E.dictionary&&(typeof E.dictionary=="string"?E.dictionary=l.string2buf(E.dictionary):t.call(E.dictionary)==="[object ArrayBuffer]"&&(E.dictionary=new Uint8Array(E.dictionary)),E.raw&&(M=f.inflateSetDictionary(this.strm,E.dictionary))!==o.Z_OK))throw new Error(e[M])}function d(y,E){var M=new s(E);if(M.push(y,!0),M.err)throw M.msg||e[M.err];return M.result}s.prototype.push=function(y,E){var M,b,k,I,F,N=this.strm,$=this.options.chunkSize,X=this.options.dictionary,_=!1;if(this.ended)return!1;b=E===~~E?E:E===!0?o.Z_FINISH:o.Z_NO_FLUSH,typeof y=="string"?N.input=l.binstring2buf(y):t.call(y)==="[object ArrayBuffer]"?N.input=new Uint8Array(y):N.input=y,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new S.Buf8($),N.next_out=0,N.avail_out=$),(M=f.inflate(N,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&X&&(M=f.inflateSetDictionary(this.strm,X)),M===o.Z_BUF_ERROR&&_===!0&&(M=o.Z_OK,_=!1),M!==o.Z_STREAM_END&&M!==o.Z_OK)return this.onEnd(M),this.ended=!0,!1;N.next_out&&(N.avail_out!==0&&M!==o.Z_STREAM_END&&(N.avail_in!==0||b!==o.Z_FINISH&&b!==o.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=l.utf8border(N.output,N.next_out),I=N.next_out-k,F=l.buf2string(N.output,k),N.next_out=I,N.avail_out=$-I,I&&S.arraySet(N.output,N.output,k,I,0),this.onData(F)):this.onData(S.shrinkBuf(N.output,N.next_out)))),N.avail_in===0&&N.avail_out===0&&(_=!0)}while((N.avail_in>0||N.avail_out===0)&&M!==o.Z_STREAM_END);return M===o.Z_STREAM_END&&(b=o.Z_FINISH),b===o.Z_FINISH?(M=f.inflateEnd(this.strm),this.onEnd(M),this.ended=!0,M===o.Z_OK):b!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),N.avail_out=0,!0)},s.prototype.onData=function(y){this.chunks.push(y)},s.prototype.onEnd=function(y){y===o.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=S.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},re.Inflate=s,re.inflate=d,re.inflateRaw=function(y,E){return(E=E||{}).raw=!0,d(y,E)},re.ungzip=d},9761:(xe,re)=>{var q=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function f(o,e){return Object.prototype.hasOwnProperty.call(o,e)}re.assign=function(o){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var a=e.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(var n in a)f(a,n)&&(o[n]=a[n])}}return o},re.shrinkBuf=function(o,e){return o.length===e?o:o.subarray?o.subarray(0,e):(o.length=e,o)};var S={arraySet:function(o,e,a,n,t){if(e.subarray&&o.subarray)o.set(e.subarray(a,a+n),t);else for(var s=0;s<n;s++)o[t+s]=e[a+s]},flattenChunks:function(o){var e,a,n,t,s,d;for(n=0,e=0,a=o.length;e<a;e++)n+=o[e].length;for(d=new Uint8Array(n),t=0,e=0,a=o.length;e<a;e++)s=o[e],d.set(s,t),t+=s.length;return d}},l={arraySet:function(o,e,a,n,t){for(var s=0;s<n;s++)o[t+s]=e[a+s]},flattenChunks:function(o){return[].concat.apply([],o)}};re.setTyped=function(o){o?(re.Buf8=Uint8Array,re.Buf16=Uint16Array,re.Buf32=Int32Array,re.assign(re,S)):(re.Buf8=Array,re.Buf16=Array,re.Buf32=Array,re.assign(re,l))},re.setTyped(q)},7944:(xe,re,q)=>{var f=q(9761),S=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{S=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var o=new f.Buf8(256),e=0;e<256;e++)o[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;function a(n,t){if(t<65534&&(n.subarray&&l||!n.subarray&&S))return String.fromCharCode.apply(null,f.shrinkBuf(n,t));for(var s="",d=0;d<t;d++)s+=String.fromCharCode(n[d]);return s}o[254]=o[254]=1,re.string2buf=function(n){var t,s,d,y,E,M=n.length,b=0;for(y=0;y<M;y++)(64512&(s=n.charCodeAt(y)))==55296&&y+1<M&&(64512&(d=n.charCodeAt(y+1)))==56320&&(s=65536+(s-55296<<10)+(d-56320),y++),b+=s<128?1:s<2048?2:s<65536?3:4;for(t=new f.Buf8(b),E=0,y=0;E<b;y++)(64512&(s=n.charCodeAt(y)))==55296&&y+1<M&&(64512&(d=n.charCodeAt(y+1)))==56320&&(s=65536+(s-55296<<10)+(d-56320),y++),s<128?t[E++]=s:s<2048?(t[E++]=192|s>>>6,t[E++]=128|63&s):s<65536?(t[E++]=224|s>>>12,t[E++]=128|s>>>6&63,t[E++]=128|63&s):(t[E++]=240|s>>>18,t[E++]=128|s>>>12&63,t[E++]=128|s>>>6&63,t[E++]=128|63&s);return t},re.buf2binstring=function(n){return a(n,n.length)},re.binstring2buf=function(n){for(var t=new f.Buf8(n.length),s=0,d=t.length;s<d;s++)t[s]=n.charCodeAt(s);return t},re.buf2string=function(n,t){var s,d,y,E,M=t||n.length,b=new Array(2*M);for(d=0,s=0;s<M;)if((y=n[s++])<128)b[d++]=y;else if((E=o[y])>4)b[d++]=65533,s+=E-1;else{for(y&=E===2?31:E===3?15:7;E>1&&s<M;)y=y<<6|63&n[s++],E--;E>1?b[d++]=65533:y<65536?b[d++]=y:(y-=65536,b[d++]=55296|y>>10&1023,b[d++]=56320|1023&y)}return a(b,d)},re.utf8border=function(n,t){var s;for((t=t||n.length)>n.length&&(t=n.length),s=t-1;s>=0&&(192&n[s])==128;)s--;return s<0||s===0?t:s+o[n[s]]>t?s:t}},5562:xe=>{xe.exports=function(re,q,f,S){for(var l=65535&re|0,o=re>>>16&65535|0,e=0;f!==0;){f-=e=f>2e3?2e3:f;do o=o+(l=l+q[S++]|0)|0;while(--e);l%=65521,o%=65521}return l|o<<16|0}},1271:xe=>{xe.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},4299:xe=>{var re=function(){for(var q,f=[],S=0;S<256;S++){q=S;for(var l=0;l<8;l++)q=1&q?3988292384^q>>>1:q>>>1;f[S]=q}return f}();xe.exports=function(q,f,S,l){var o=re,e=l+S;q^=-1;for(var a=l;a<e;a++)q=q>>>8^o[255&(q^f[a])];return-1^q}},5789:(xe,re,q)=>{var f,S=q(9761),l=q(9564),o=q(5562),e=q(4299),a=q(2950),n=0,t=4,s=0,d=-2,y=-1,E=1,M=4,b=2,k=8,I=9,F=286,N=30,$=19,X=2*F+1,_=15,p=3,O=258,W=O+p+1,R=42,C=103,D=113,x=666,ne=1,Y=2,K=3,G=4;function B(g,J){return g.msg=a[J],J}function te(g){return(g<<1)-(g>4?9:0)}function T(g){for(var J=g.length;--J>=0;)g[J]=0}function P(g){var J=g.state,oe=J.pending;oe>g.avail_out&&(oe=g.avail_out),oe!==0&&(S.arraySet(g.output,J.pending_buf,J.pending_out,oe,g.next_out),g.next_out+=oe,J.pending_out+=oe,g.total_out+=oe,g.avail_out-=oe,J.pending-=oe,J.pending===0&&(J.pending_out=0))}function ie(g,J){l._tr_flush_block(g,g.block_start>=0?g.block_start:-1,g.strstart-g.block_start,J),g.block_start=g.strstart,P(g.strm)}function le(g,J){g.pending_buf[g.pending++]=J}function fe(g,J){g.pending_buf[g.pending++]=J>>>8&255,g.pending_buf[g.pending++]=255&J}function m(g,J){var oe,H,ge=g.max_chain_length,ve=g.strstart,Ie=g.prev_length,ke=g.nice_match,ae=g.strstart>g.w_size-W?g.strstart-(g.w_size-W):0,ue=g.window,we=g.w_mask,Be=g.prev,be=g.strstart+O,Pe=ue[ve+Ie-1],Te=ue[ve+Ie];g.prev_length>=g.good_match&&(ge>>=2),ke>g.lookahead&&(ke=g.lookahead);do if(ue[(oe=J)+Ie]===Te&&ue[oe+Ie-1]===Pe&&ue[oe]===ue[ve]&&ue[++oe]===ue[ve+1]){ve+=2,oe++;do;while(ue[++ve]===ue[++oe]&&ue[++ve]===ue[++oe]&&ue[++ve]===ue[++oe]&&ue[++ve]===ue[++oe]&&ue[++ve]===ue[++oe]&&ue[++ve]===ue[++oe]&&ue[++ve]===ue[++oe]&&ue[++ve]===ue[++oe]&&ve<be);if(H=O-(be-ve),ve=be-O,H>Ie){if(g.match_start=J,Ie=H,H>=ke)break;Pe=ue[ve+Ie-1],Te=ue[ve+Ie]}}while((J=Be[J&we])>ae&&--ge!=0);return Ie<=g.lookahead?Ie:g.lookahead}function v(g){var J,oe,H,ge,ve,Ie,ke,ae,ue,we,Be=g.w_size;do{if(ge=g.window_size-g.lookahead-g.strstart,g.strstart>=Be+(Be-W)){S.arraySet(g.window,g.window,Be,Be,0),g.match_start-=Be,g.strstart-=Be,g.block_start-=Be,J=oe=g.hash_size;do H=g.head[--J],g.head[J]=H>=Be?H-Be:0;while(--oe);J=oe=Be;do H=g.prev[--J],g.prev[J]=H>=Be?H-Be:0;while(--oe);ge+=Be}if(g.strm.avail_in===0)break;if(Ie=g.strm,ke=g.window,ae=g.strstart+g.lookahead,ue=ge,we=void 0,(we=Ie.avail_in)>ue&&(we=ue),oe=we===0?0:(Ie.avail_in-=we,S.arraySet(ke,Ie.input,Ie.next_in,we,ae),Ie.state.wrap===1?Ie.adler=o(Ie.adler,ke,we,ae):Ie.state.wrap===2&&(Ie.adler=e(Ie.adler,ke,we,ae)),Ie.next_in+=we,Ie.total_in+=we,we),g.lookahead+=oe,g.lookahead+g.insert>=p)for(ve=g.strstart-g.insert,g.ins_h=g.window[ve],g.ins_h=(g.ins_h<<g.hash_shift^g.window[ve+1])&g.hash_mask;g.insert&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[ve+p-1])&g.hash_mask,g.prev[ve&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=ve,ve++,g.insert--,!(g.lookahead+g.insert<p)););}while(g.lookahead<W&&g.strm.avail_in!==0)}function A(g,J){for(var oe,H;;){if(g.lookahead<W){if(v(g),g.lookahead<W&&J===n)return ne;if(g.lookahead===0)break}if(oe=0,g.lookahead>=p&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+p-1])&g.hash_mask,oe=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),oe!==0&&g.strstart-oe<=g.w_size-W&&(g.match_length=m(g,oe)),g.match_length>=p)if(H=l._tr_tally(g,g.strstart-g.match_start,g.match_length-p),g.lookahead-=g.match_length,g.match_length<=g.max_lazy_match&&g.lookahead>=p){g.match_length--;do g.strstart++,g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+p-1])&g.hash_mask,oe=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart;while(--g.match_length!=0);g.strstart++}else g.strstart+=g.match_length,g.match_length=0,g.ins_h=g.window[g.strstart],g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+1])&g.hash_mask;else H=l._tr_tally(g,0,g.window[g.strstart]),g.lookahead--,g.strstart++;if(H&&(ie(g,!1),g.strm.avail_out===0))return ne}return g.insert=g.strstart<p-1?g.strstart:p-1,J===t?(ie(g,!0),g.strm.avail_out===0?K:G):g.last_lit&&(ie(g,!1),g.strm.avail_out===0)?ne:Y}function V(g,J){for(var oe,H,ge;;){if(g.lookahead<W){if(v(g),g.lookahead<W&&J===n)return ne;if(g.lookahead===0)break}if(oe=0,g.lookahead>=p&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+p-1])&g.hash_mask,oe=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),g.prev_length=g.match_length,g.prev_match=g.match_start,g.match_length=p-1,oe!==0&&g.prev_length<g.max_lazy_match&&g.strstart-oe<=g.w_size-W&&(g.match_length=m(g,oe),g.match_length<=5&&(g.strategy===E||g.match_length===p&&g.strstart-g.match_start>4096)&&(g.match_length=p-1)),g.prev_length>=p&&g.match_length<=g.prev_length){ge=g.strstart+g.lookahead-p,H=l._tr_tally(g,g.strstart-1-g.prev_match,g.prev_length-p),g.lookahead-=g.prev_length-1,g.prev_length-=2;do++g.strstart<=ge&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+p-1])&g.hash_mask,oe=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart);while(--g.prev_length!=0);if(g.match_available=0,g.match_length=p-1,g.strstart++,H&&(ie(g,!1),g.strm.avail_out===0))return ne}else if(g.match_available){if((H=l._tr_tally(g,0,g.window[g.strstart-1]))&&ie(g,!1),g.strstart++,g.lookahead--,g.strm.avail_out===0)return ne}else g.match_available=1,g.strstart++,g.lookahead--}return g.match_available&&(H=l._tr_tally(g,0,g.window[g.strstart-1]),g.match_available=0),g.insert=g.strstart<p-1?g.strstart:p-1,J===t?(ie(g,!0),g.strm.avail_out===0?K:G):g.last_lit&&(ie(g,!1),g.strm.avail_out===0)?ne:Y}function i(g,J,oe,H,ge){this.good_length=g,this.max_lazy=J,this.nice_length=oe,this.max_chain=H,this.func=ge}function r(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new S.Buf16(2*X),this.dyn_dtree=new S.Buf16(2*(2*N+1)),this.bl_tree=new S.Buf16(2*(2*$+1)),T(this.dyn_ltree),T(this.dyn_dtree),T(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new S.Buf16(_+1),this.heap=new S.Buf16(2*F+1),T(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new S.Buf16(2*F+1),T(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function h(g){var J;return g&&g.state?(g.total_in=g.total_out=0,g.data_type=b,(J=g.state).pending=0,J.pending_out=0,J.wrap<0&&(J.wrap=-J.wrap),J.status=J.wrap?R:D,g.adler=J.wrap===2?0:1,J.last_flush=n,l._tr_init(J),s):B(g,d)}function L(g){var J,oe=h(g);return oe===s&&((J=g.state).window_size=2*J.w_size,T(J.head),J.max_lazy_match=f[J.level].max_lazy,J.good_match=f[J.level].good_length,J.nice_match=f[J.level].nice_length,J.max_chain_length=f[J.level].max_chain,J.strstart=0,J.block_start=0,J.lookahead=0,J.insert=0,J.match_length=J.prev_length=p-1,J.match_available=0,J.ins_h=0),oe}function Q(g,J,oe,H,ge,ve){if(!g)return d;var Ie=1;if(J===y&&(J=6),H<0?(Ie=0,H=-H):H>15&&(Ie=2,H-=16),ge<1||ge>I||oe!==k||H<8||H>15||J<0||J>9||ve<0||ve>M)return B(g,d);H===8&&(H=9);var ke=new r;return g.state=ke,ke.strm=g,ke.wrap=Ie,ke.gzhead=null,ke.w_bits=H,ke.w_size=1<<ke.w_bits,ke.w_mask=ke.w_size-1,ke.hash_bits=ge+7,ke.hash_size=1<<ke.hash_bits,ke.hash_mask=ke.hash_size-1,ke.hash_shift=~~((ke.hash_bits+p-1)/p),ke.window=new S.Buf8(2*ke.w_size),ke.head=new S.Buf16(ke.hash_size),ke.prev=new S.Buf16(ke.w_size),ke.lit_bufsize=1<<ge+6,ke.pending_buf_size=4*ke.lit_bufsize,ke.pending_buf=new S.Buf8(ke.pending_buf_size),ke.d_buf=1*ke.lit_bufsize,ke.l_buf=3*ke.lit_bufsize,ke.level=J,ke.strategy=ve,ke.method=oe,L(g)}f=[new i(0,0,0,0,function(g,J){var oe=65535;for(oe>g.pending_buf_size-5&&(oe=g.pending_buf_size-5);;){if(g.lookahead<=1){if(v(g),g.lookahead===0&&J===n)return ne;if(g.lookahead===0)break}g.strstart+=g.lookahead,g.lookahead=0;var H=g.block_start+oe;if((g.strstart===0||g.strstart>=H)&&(g.lookahead=g.strstart-H,g.strstart=H,ie(g,!1),g.strm.avail_out===0)||g.strstart-g.block_start>=g.w_size-W&&(ie(g,!1),g.strm.avail_out===0))return ne}return g.insert=0,J===t?(ie(g,!0),g.strm.avail_out===0?K:G):(g.strstart>g.block_start&&(ie(g,!1),g.strm.avail_out),ne)}),new i(4,4,8,4,A),new i(4,5,16,8,A),new i(4,6,32,32,A),new i(4,4,16,16,V),new i(8,16,32,32,V),new i(8,16,128,128,V),new i(8,32,128,256,V),new i(32,128,258,1024,V),new i(32,258,258,4096,V)],re.deflateInit=function(g,J){return Q(g,J,k,15,8,0)},re.deflateInit2=Q,re.deflateReset=L,re.deflateResetKeep=h,re.deflateSetHeader=function(g,J){return g&&g.state?g.state.wrap!==2?d:(g.state.gzhead=J,s):d},re.deflate=function(g,J){var oe,H,ge,ve;if(!g||!g.state||J>5||J<0)return g?B(g,d):d;if(H=g.state,!g.output||!g.input&&g.avail_in!==0||H.status===x&&J!==t)return B(g,g.avail_out===0?-5:d);if(H.strm=g,oe=H.last_flush,H.last_flush=J,H.status===R)if(H.wrap===2)g.adler=0,le(H,31),le(H,139),le(H,8),H.gzhead?(le(H,(H.gzhead.text?1:0)+(H.gzhead.hcrc?2:0)+(H.gzhead.extra?4:0)+(H.gzhead.name?8:0)+(H.gzhead.comment?16:0)),le(H,255&H.gzhead.time),le(H,H.gzhead.time>>8&255),le(H,H.gzhead.time>>16&255),le(H,H.gzhead.time>>24&255),le(H,H.level===9?2:H.strategy>=2||H.level<2?4:0),le(H,255&H.gzhead.os),H.gzhead.extra&&H.gzhead.extra.length&&(le(H,255&H.gzhead.extra.length),le(H,H.gzhead.extra.length>>8&255)),H.gzhead.hcrc&&(g.adler=e(g.adler,H.pending_buf,H.pending,0)),H.gzindex=0,H.status=69):(le(H,0),le(H,0),le(H,0),le(H,0),le(H,0),le(H,H.level===9?2:H.strategy>=2||H.level<2?4:0),le(H,3),H.status=D);else{var Ie=k+(H.w_bits-8<<4)<<8;Ie|=(H.strategy>=2||H.level<2?0:H.level<6?1:H.level===6?2:3)<<6,H.strstart!==0&&(Ie|=32),Ie+=31-Ie%31,H.status=D,fe(H,Ie),H.strstart!==0&&(fe(H,g.adler>>>16),fe(H,65535&g.adler)),g.adler=1}if(H.status===69)if(H.gzhead.extra){for(ge=H.pending;H.gzindex<(65535&H.gzhead.extra.length)&&(H.pending!==H.pending_buf_size||(H.gzhead.hcrc&&H.pending>ge&&(g.adler=e(g.adler,H.pending_buf,H.pending-ge,ge)),P(g),ge=H.pending,H.pending!==H.pending_buf_size));)le(H,255&H.gzhead.extra[H.gzindex]),H.gzindex++;H.gzhead.hcrc&&H.pending>ge&&(g.adler=e(g.adler,H.pending_buf,H.pending-ge,ge)),H.gzindex===H.gzhead.extra.length&&(H.gzindex=0,H.status=73)}else H.status=73;if(H.status===73)if(H.gzhead.name){ge=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>ge&&(g.adler=e(g.adler,H.pending_buf,H.pending-ge,ge)),P(g),ge=H.pending,H.pending===H.pending_buf_size)){ve=1;break}ve=H.gzindex<H.gzhead.name.length?255&H.gzhead.name.charCodeAt(H.gzindex++):0,le(H,ve)}while(ve!==0);H.gzhead.hcrc&&H.pending>ge&&(g.adler=e(g.adler,H.pending_buf,H.pending-ge,ge)),ve===0&&(H.gzindex=0,H.status=91)}else H.status=91;if(H.status===91)if(H.gzhead.comment){ge=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>ge&&(g.adler=e(g.adler,H.pending_buf,H.pending-ge,ge)),P(g),ge=H.pending,H.pending===H.pending_buf_size)){ve=1;break}ve=H.gzindex<H.gzhead.comment.length?255&H.gzhead.comment.charCodeAt(H.gzindex++):0,le(H,ve)}while(ve!==0);H.gzhead.hcrc&&H.pending>ge&&(g.adler=e(g.adler,H.pending_buf,H.pending-ge,ge)),ve===0&&(H.status=C)}else H.status=C;if(H.status===C&&(H.gzhead.hcrc?(H.pending+2>H.pending_buf_size&&P(g),H.pending+2<=H.pending_buf_size&&(le(H,255&g.adler),le(H,g.adler>>8&255),g.adler=0,H.status=D)):H.status=D),H.pending!==0){if(P(g),g.avail_out===0)return H.last_flush=-1,s}else if(g.avail_in===0&&te(J)<=te(oe)&&J!==t)return B(g,-5);if(H.status===x&&g.avail_in!==0)return B(g,-5);if(g.avail_in!==0||H.lookahead!==0||J!==n&&H.status!==x){var ke=H.strategy===2?function(ae,ue){for(var we;;){if(ae.lookahead===0&&(v(ae),ae.lookahead===0)){if(ue===n)return ne;break}if(ae.match_length=0,we=l._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++,we&&(ie(ae,!1),ae.strm.avail_out===0))return ne}return ae.insert=0,ue===t?(ie(ae,!0),ae.strm.avail_out===0?K:G):ae.last_lit&&(ie(ae,!1),ae.strm.avail_out===0)?ne:Y}(H,J):H.strategy===3?function(ae,ue){for(var we,Be,be,Pe,Te=ae.window;;){if(ae.lookahead<=O){if(v(ae),ae.lookahead<=O&&ue===n)return ne;if(ae.lookahead===0)break}if(ae.match_length=0,ae.lookahead>=p&&ae.strstart>0&&(Be=Te[be=ae.strstart-1])===Te[++be]&&Be===Te[++be]&&Be===Te[++be]){Pe=ae.strstart+O;do;while(Be===Te[++be]&&Be===Te[++be]&&Be===Te[++be]&&Be===Te[++be]&&Be===Te[++be]&&Be===Te[++be]&&Be===Te[++be]&&Be===Te[++be]&&be<Pe);ae.match_length=O-(Pe-be),ae.match_length>ae.lookahead&&(ae.match_length=ae.lookahead)}if(ae.match_length>=p?(we=l._tr_tally(ae,1,ae.match_length-p),ae.lookahead-=ae.match_length,ae.strstart+=ae.match_length,ae.match_length=0):(we=l._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++),we&&(ie(ae,!1),ae.strm.avail_out===0))return ne}return ae.insert=0,ue===t?(ie(ae,!0),ae.strm.avail_out===0?K:G):ae.last_lit&&(ie(ae,!1),ae.strm.avail_out===0)?ne:Y}(H,J):f[H.level].func(H,J);if(ke!==K&&ke!==G||(H.status=x),ke===ne||ke===K)return g.avail_out===0&&(H.last_flush=-1),s;if(ke===Y&&(J===1?l._tr_align(H):J!==5&&(l._tr_stored_block(H,0,0,!1),J===3&&(T(H.head),H.lookahead===0&&(H.strstart=0,H.block_start=0,H.insert=0))),P(g),g.avail_out===0))return H.last_flush=-1,s}return J!==t?s:H.wrap<=0?1:(H.wrap===2?(le(H,255&g.adler),le(H,g.adler>>8&255),le(H,g.adler>>16&255),le(H,g.adler>>24&255),le(H,255&g.total_in),le(H,g.total_in>>8&255),le(H,g.total_in>>16&255),le(H,g.total_in>>24&255)):(fe(H,g.adler>>>16),fe(H,65535&g.adler)),P(g),H.wrap>0&&(H.wrap=-H.wrap),H.pending!==0?s:1)},re.deflateEnd=function(g){var J;return g&&g.state?(J=g.state.status)!==R&&J!==69&&J!==73&&J!==91&&J!==C&&J!==D&&J!==x?B(g,d):(g.state=null,J===D?B(g,-3):s):d},re.deflateSetDictionary=function(g,J){var oe,H,ge,ve,Ie,ke,ae,ue,we=J.length;if(!g||!g.state||(ve=(oe=g.state).wrap)===2||ve===1&&oe.status!==R||oe.lookahead)return d;for(ve===1&&(g.adler=o(g.adler,J,we,0)),oe.wrap=0,we>=oe.w_size&&(ve===0&&(T(oe.head),oe.strstart=0,oe.block_start=0,oe.insert=0),ue=new S.Buf8(oe.w_size),S.arraySet(ue,J,we-oe.w_size,oe.w_size,0),J=ue,we=oe.w_size),Ie=g.avail_in,ke=g.next_in,ae=g.input,g.avail_in=we,g.next_in=0,g.input=J,v(oe);oe.lookahead>=p;){H=oe.strstart,ge=oe.lookahead-(p-1);do oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[H+p-1])&oe.hash_mask,oe.prev[H&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=H,H++;while(--ge);oe.strstart=H,oe.lookahead=p-1,v(oe)}return oe.strstart+=oe.lookahead,oe.block_start=oe.strstart,oe.insert=oe.lookahead,oe.lookahead=0,oe.match_length=oe.prev_length=p-1,oe.match_available=0,g.next_in=ke,g.input=ae,g.avail_in=Ie,oe.wrap=ve,s},re.deflateInfo="pako deflate (from Nodeca project)"},7357:xe=>{xe.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},4980:xe=>{xe.exports=function(re,q){var f,S,l,o,e,a,n,t,s,d,y,E,M,b,k,I,F,N,$,X,_,p,O,W,R;f=re.state,S=re.next_in,W=re.input,l=S+(re.avail_in-5),o=re.next_out,R=re.output,e=o-(q-re.avail_out),a=o+(re.avail_out-257),n=f.dmax,t=f.wsize,s=f.whave,d=f.wnext,y=f.window,E=f.hold,M=f.bits,b=f.lencode,k=f.distcode,I=(1<<f.lenbits)-1,F=(1<<f.distbits)-1;e:do{M<15&&(E+=W[S++]<<M,M+=8,E+=W[S++]<<M,M+=8),N=b[E&I];t:for(;;){if(E>>>=$=N>>>24,M-=$,($=N>>>16&255)==0)R[o++]=65535&N;else{if(!(16&$)){if(!(64&$)){N=b[(65535&N)+(E&(1<<$)-1)];continue t}if(32&$){f.mode=12;break e}re.msg="invalid literal/length code",f.mode=30;break e}X=65535&N,($&=15)&&(M<$&&(E+=W[S++]<<M,M+=8),X+=E&(1<<$)-1,E>>>=$,M-=$),M<15&&(E+=W[S++]<<M,M+=8,E+=W[S++]<<M,M+=8),N=k[E&F];i:for(;;){if(E>>>=$=N>>>24,M-=$,!(16&($=N>>>16&255))){if(!(64&$)){N=k[(65535&N)+(E&(1<<$)-1)];continue i}re.msg="invalid distance code",f.mode=30;break e}if(_=65535&N,M<($&=15)&&(E+=W[S++]<<M,(M+=8)<$&&(E+=W[S++]<<M,M+=8)),(_+=E&(1<<$)-1)>n){re.msg="invalid distance too far back",f.mode=30;break e}if(E>>>=$,M-=$,_>($=o-e)){if(($=_-$)>s&&f.sane){re.msg="invalid distance too far back",f.mode=30;break e}if(p=0,O=y,d===0){if(p+=t-$,$<X){X-=$;do R[o++]=y[p++];while(--$);p=o-_,O=R}}else if(d<$){if(p+=t+d-$,($-=d)<X){X-=$;do R[o++]=y[p++];while(--$);if(p=0,d<X){X-=$=d;do R[o++]=y[p++];while(--$);p=o-_,O=R}}}else if(p+=d-$,$<X){X-=$;do R[o++]=y[p++];while(--$);p=o-_,O=R}for(;X>2;)R[o++]=O[p++],R[o++]=O[p++],R[o++]=O[p++],X-=3;X&&(R[o++]=O[p++],X>1&&(R[o++]=O[p++]))}else{p=o-_;do R[o++]=R[p++],R[o++]=R[p++],R[o++]=R[p++],X-=3;while(X>2);X&&(R[o++]=R[p++],X>1&&(R[o++]=R[p++]))}break}}break}}while(S<l&&o<a);S-=X=M>>3,E&=(1<<(M-=X<<3))-1,re.next_in=S,re.next_out=o,re.avail_in=S<l?l-S+5:5-(S-l),re.avail_out=o<a?a-o+257:257-(o-a),f.hold=E,f.bits=M}},5020:(xe,re,q)=>{var f=q(9761),S=q(5562),l=q(4299),o=q(4980),e=q(881),a=1,n=2,t=0,s=-2,d=1,y=12,E=30,M=852,b=592;function k(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function I(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function F(C){var D;return C&&C.state?(D=C.state,C.total_in=C.total_out=D.total=0,C.msg="",D.wrap&&(C.adler=1&D.wrap),D.mode=d,D.last=0,D.havedict=0,D.dmax=32768,D.head=null,D.hold=0,D.bits=0,D.lencode=D.lendyn=new f.Buf32(M),D.distcode=D.distdyn=new f.Buf32(b),D.sane=1,D.back=-1,t):s}function N(C){var D;return C&&C.state?((D=C.state).wsize=0,D.whave=0,D.wnext=0,F(C)):s}function $(C,D){var x,ne;return C&&C.state?(ne=C.state,D<0?(x=0,D=-D):(x=1+(D>>4),D<48&&(D&=15)),D&&(D<8||D>15)?s:(ne.window!==null&&ne.wbits!==D&&(ne.window=null),ne.wrap=x,ne.wbits=D,N(C))):s}function X(C,D){var x,ne;return C?(ne=new I,C.state=ne,ne.window=null,(x=$(C,D))!==t&&(C.state=null),x):s}var _,p,O=!0;function W(C){if(O){var D;for(_=new f.Buf32(512),p=new f.Buf32(32),D=0;D<144;)C.lens[D++]=8;for(;D<256;)C.lens[D++]=9;for(;D<280;)C.lens[D++]=7;for(;D<288;)C.lens[D++]=8;for(e(a,C.lens,0,288,_,0,C.work,{bits:9}),D=0;D<32;)C.lens[D++]=5;e(n,C.lens,0,32,p,0,C.work,{bits:5}),O=!1}C.lencode=_,C.lenbits=9,C.distcode=p,C.distbits=5}function R(C,D,x,ne){var Y,K=C.state;return K.window===null&&(K.wsize=1<<K.wbits,K.wnext=0,K.whave=0,K.window=new f.Buf8(K.wsize)),ne>=K.wsize?(f.arraySet(K.window,D,x-K.wsize,K.wsize,0),K.wnext=0,K.whave=K.wsize):((Y=K.wsize-K.wnext)>ne&&(Y=ne),f.arraySet(K.window,D,x-ne,Y,K.wnext),(ne-=Y)?(f.arraySet(K.window,D,x-ne,ne,0),K.wnext=ne,K.whave=K.wsize):(K.wnext+=Y,K.wnext===K.wsize&&(K.wnext=0),K.whave<K.wsize&&(K.whave+=Y))),0}re.inflateReset=N,re.inflateReset2=$,re.inflateResetKeep=F,re.inflateInit=function(C){return X(C,15)},re.inflateInit2=X,re.inflate=function(C,D){var x,ne,Y,K,G,B,te,T,P,ie,le,fe,m,v,A,V,i,r,h,L,Q,g,J,oe,H=0,ge=new f.Buf8(4),ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return s;(x=C.state).mode===y&&(x.mode=13),G=C.next_out,Y=C.output,te=C.avail_out,K=C.next_in,ne=C.input,B=C.avail_in,T=x.hold,P=x.bits,ie=B,le=te,g=t;e:for(;;)switch(x.mode){case d:if(x.wrap===0){x.mode=13;break}for(;P<16;){if(B===0)break e;B--,T+=ne[K++]<<P,P+=8}if(2&x.wrap&&T===35615){x.check=0,ge[0]=255&T,ge[1]=T>>>8&255,x.check=l(x.check,ge,2,0),T=0,P=0,x.mode=2;break}if(x.flags=0,x.head&&(x.head.done=!1),!(1&x.wrap)||(((255&T)<<8)+(T>>8))%31){C.msg="incorrect header check",x.mode=E;break}if((15&T)!=8){C.msg="unknown compression method",x.mode=E;break}if(P-=4,Q=8+(15&(T>>>=4)),x.wbits===0)x.wbits=Q;else if(Q>x.wbits){C.msg="invalid window size",x.mode=E;break}x.dmax=1<<Q,C.adler=x.check=1,x.mode=512&T?10:y,T=0,P=0;break;case 2:for(;P<16;){if(B===0)break e;B--,T+=ne[K++]<<P,P+=8}if(x.flags=T,(255&x.flags)!=8){C.msg="unknown compression method",x.mode=E;break}if(57344&x.flags){C.msg="unknown header flags set",x.mode=E;break}x.head&&(x.head.text=T>>8&1),512&x.flags&&(ge[0]=255&T,ge[1]=T>>>8&255,x.check=l(x.check,ge,2,0)),T=0,P=0,x.mode=3;case 3:for(;P<32;){if(B===0)break e;B--,T+=ne[K++]<<P,P+=8}x.head&&(x.head.time=T),512&x.flags&&(ge[0]=255&T,ge[1]=T>>>8&255,ge[2]=T>>>16&255,ge[3]=T>>>24&255,x.check=l(x.check,ge,4,0)),T=0,P=0,x.mode=4;case 4:for(;P<16;){if(B===0)break e;B--,T+=ne[K++]<<P,P+=8}x.head&&(x.head.xflags=255&T,x.head.os=T>>8),512&x.flags&&(ge[0]=255&T,ge[1]=T>>>8&255,x.check=l(x.check,ge,2,0)),T=0,P=0,x.mode=5;case 5:if(1024&x.flags){for(;P<16;){if(B===0)break e;B--,T+=ne[K++]<<P,P+=8}x.length=T,x.head&&(x.head.extra_len=T),512&x.flags&&(ge[0]=255&T,ge[1]=T>>>8&255,x.check=l(x.check,ge,2,0)),T=0,P=0}else x.head&&(x.head.extra=null);x.mode=6;case 6:if(1024&x.flags&&((fe=x.length)>B&&(fe=B),fe&&(x.head&&(Q=x.head.extra_len-x.length,x.head.extra||(x.head.extra=new Array(x.head.extra_len)),f.arraySet(x.head.extra,ne,K,fe,Q)),512&x.flags&&(x.check=l(x.check,ne,fe,K)),B-=fe,K+=fe,x.length-=fe),x.length))break e;x.length=0,x.mode=7;case 7:if(2048&x.flags){if(B===0)break e;fe=0;do Q=ne[K+fe++],x.head&&Q&&x.length<65536&&(x.head.name+=String.fromCharCode(Q));while(Q&&fe<B);if(512&x.flags&&(x.check=l(x.check,ne,fe,K)),B-=fe,K+=fe,Q)break e}else x.head&&(x.head.name=null);x.length=0,x.mode=8;case 8:if(4096&x.flags){if(B===0)break e;fe=0;do Q=ne[K+fe++],x.head&&Q&&x.length<65536&&(x.head.comment+=String.fromCharCode(Q));while(Q&&fe<B);if(512&x.flags&&(x.check=l(x.check,ne,fe,K)),B-=fe,K+=fe,Q)break e}else x.head&&(x.head.comment=null);x.mode=9;case 9:if(512&x.flags){for(;P<16;){if(B===0)break e;B--,T+=ne[K++]<<P,P+=8}if(T!==(65535&x.check)){C.msg="header crc mismatch",x.mode=E;break}T=0,P=0}x.head&&(x.head.hcrc=x.flags>>9&1,x.head.done=!0),C.adler=x.check=0,x.mode=y;break;case 10:for(;P<32;){if(B===0)break e;B--,T+=ne[K++]<<P,P+=8}C.adler=x.check=k(T),T=0,P=0,x.mode=11;case 11:if(x.havedict===0)return C.next_out=G,C.avail_out=te,C.next_in=K,C.avail_in=B,x.hold=T,x.bits=P,2;C.adler=x.check=1,x.mode=y;case y:if(D===5||D===6)break e;case 13:if(x.last){T>>>=7&P,P-=7&P,x.mode=27;break}for(;P<3;){if(B===0)break e;B--,T+=ne[K++]<<P,P+=8}switch(x.last=1&T,P-=1,3&(T>>>=1)){case 0:x.mode=14;break;case 1:if(W(x),x.mode=20,D===6){T>>>=2,P-=2;break e}break;case 2:x.mode=17;break;case 3:C.msg="invalid block type",x.mode=E}T>>>=2,P-=2;break;case 14:for(T>>>=7&P,P-=7&P;P<32;){if(B===0)break e;B--,T+=ne[K++]<<P,P+=8}if((65535&T)!=(T>>>16^65535)){C.msg="invalid stored block lengths",x.mode=E;break}if(x.length=65535&T,T=0,P=0,x.mode=15,D===6)break e;case 15:x.mode=16;case 16:if(fe=x.length){if(fe>B&&(fe=B),fe>te&&(fe=te),fe===0)break e;f.arraySet(Y,ne,K,fe,G),B-=fe,K+=fe,te-=fe,G+=fe,x.length-=fe;break}x.mode=y;break;case 17:for(;P<14;){if(B===0)break e;B--,T+=ne[K++]<<P,P+=8}if(x.nlen=257+(31&T),T>>>=5,P-=5,x.ndist=1+(31&T),T>>>=5,P-=5,x.ncode=4+(15&T),T>>>=4,P-=4,x.nlen>286||x.ndist>30){C.msg="too many length or distance symbols",x.mode=E;break}x.have=0,x.mode=18;case 18:for(;x.have<x.ncode;){for(;P<3;){if(B===0)break e;B--,T+=ne[K++]<<P,P+=8}x.lens[ve[x.have++]]=7&T,T>>>=3,P-=3}for(;x.have<19;)x.lens[ve[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,J={bits:x.lenbits},g=e(0,x.lens,0,19,x.lencode,0,x.work,J),x.lenbits=J.bits,g){C.msg="invalid code lengths set",x.mode=E;break}x.have=0,x.mode=19;case 19:for(;x.have<x.nlen+x.ndist;){for(;V=(H=x.lencode[T&(1<<x.lenbits)-1])>>>16&255,i=65535&H,!((A=H>>>24)<=P);){if(B===0)break e;B--,T+=ne[K++]<<P,P+=8}if(i<16)T>>>=A,P-=A,x.lens[x.have++]=i;else{if(i===16){for(oe=A+2;P<oe;){if(B===0)break e;B--,T+=ne[K++]<<P,P+=8}if(T>>>=A,P-=A,x.have===0){C.msg="invalid bit length repeat",x.mode=E;break}Q=x.lens[x.have-1],fe=3+(3&T),T>>>=2,P-=2}else if(i===17){for(oe=A+3;P<oe;){if(B===0)break e;B--,T+=ne[K++]<<P,P+=8}P-=A,Q=0,fe=3+(7&(T>>>=A)),T>>>=3,P-=3}else{for(oe=A+7;P<oe;){if(B===0)break e;B--,T+=ne[K++]<<P,P+=8}P-=A,Q=0,fe=11+(127&(T>>>=A)),T>>>=7,P-=7}if(x.have+fe>x.nlen+x.ndist){C.msg="invalid bit length repeat",x.mode=E;break}for(;fe--;)x.lens[x.have++]=Q}}if(x.mode===E)break;if(x.lens[256]===0){C.msg="invalid code -- missing end-of-block",x.mode=E;break}if(x.lenbits=9,J={bits:x.lenbits},g=e(a,x.lens,0,x.nlen,x.lencode,0,x.work,J),x.lenbits=J.bits,g){C.msg="invalid literal/lengths set",x.mode=E;break}if(x.distbits=6,x.distcode=x.distdyn,J={bits:x.distbits},g=e(n,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,J),x.distbits=J.bits,g){C.msg="invalid distances set",x.mode=E;break}if(x.mode=20,D===6)break e;case 20:x.mode=21;case 21:if(B>=6&&te>=258){C.next_out=G,C.avail_out=te,C.next_in=K,C.avail_in=B,x.hold=T,x.bits=P,o(C,le),G=C.next_out,Y=C.output,te=C.avail_out,K=C.next_in,ne=C.input,B=C.avail_in,T=x.hold,P=x.bits,x.mode===y&&(x.back=-1);break}for(x.back=0;V=(H=x.lencode[T&(1<<x.lenbits)-1])>>>16&255,i=65535&H,!((A=H>>>24)<=P);){if(B===0)break e;B--,T+=ne[K++]<<P,P+=8}if(V&&!(240&V)){for(r=A,h=V,L=i;V=(H=x.lencode[L+((T&(1<<r+h)-1)>>r)])>>>16&255,i=65535&H,!(r+(A=H>>>24)<=P);){if(B===0)break e;B--,T+=ne[K++]<<P,P+=8}T>>>=r,P-=r,x.back+=r}if(T>>>=A,P-=A,x.back+=A,x.length=i,V===0){x.mode=26;break}if(32&V){x.back=-1,x.mode=y;break}if(64&V){C.msg="invalid literal/length code",x.mode=E;break}x.extra=15&V,x.mode=22;case 22:if(x.extra){for(oe=x.extra;P<oe;){if(B===0)break e;B--,T+=ne[K++]<<P,P+=8}x.length+=T&(1<<x.extra)-1,T>>>=x.extra,P-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=23;case 23:for(;V=(H=x.distcode[T&(1<<x.distbits)-1])>>>16&255,i=65535&H,!((A=H>>>24)<=P);){if(B===0)break e;B--,T+=ne[K++]<<P,P+=8}if(!(240&V)){for(r=A,h=V,L=i;V=(H=x.distcode[L+((T&(1<<r+h)-1)>>r)])>>>16&255,i=65535&H,!(r+(A=H>>>24)<=P);){if(B===0)break e;B--,T+=ne[K++]<<P,P+=8}T>>>=r,P-=r,x.back+=r}if(T>>>=A,P-=A,x.back+=A,64&V){C.msg="invalid distance code",x.mode=E;break}x.offset=i,x.extra=15&V,x.mode=24;case 24:if(x.extra){for(oe=x.extra;P<oe;){if(B===0)break e;B--,T+=ne[K++]<<P,P+=8}x.offset+=T&(1<<x.extra)-1,T>>>=x.extra,P-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){C.msg="invalid distance too far back",x.mode=E;break}x.mode=25;case 25:if(te===0)break e;if(fe=le-te,x.offset>fe){if((fe=x.offset-fe)>x.whave&&x.sane){C.msg="invalid distance too far back",x.mode=E;break}fe>x.wnext?(fe-=x.wnext,m=x.wsize-fe):m=x.wnext-fe,fe>x.length&&(fe=x.length),v=x.window}else v=Y,m=G-x.offset,fe=x.length;fe>te&&(fe=te),te-=fe,x.length-=fe;do Y[G++]=v[m++];while(--fe);x.length===0&&(x.mode=21);break;case 26:if(te===0)break e;Y[G++]=x.length,te--,x.mode=21;break;case 27:if(x.wrap){for(;P<32;){if(B===0)break e;B--,T|=ne[K++]<<P,P+=8}if(le-=te,C.total_out+=le,x.total+=le,le&&(C.adler=x.check=x.flags?l(x.check,Y,le,G-le):S(x.check,Y,le,G-le)),le=te,(x.flags?T:k(T))!==x.check){C.msg="incorrect data check",x.mode=E;break}T=0,P=0}x.mode=28;case 28:if(x.wrap&&x.flags){for(;P<32;){if(B===0)break e;B--,T+=ne[K++]<<P,P+=8}if(T!==(4294967295&x.total)){C.msg="incorrect length check",x.mode=E;break}T=0,P=0}x.mode=29;case 29:g=1;break e;case E:g=-3;break e;case 31:return-4;default:return s}return C.next_out=G,C.avail_out=te,C.next_in=K,C.avail_in=B,x.hold=T,x.bits=P,(x.wsize||le!==C.avail_out&&x.mode<E&&(x.mode<27||D!==4))&&R(C,C.output,C.next_out,le-C.avail_out)?(x.mode=31,-4):(ie-=C.avail_in,le-=C.avail_out,C.total_in+=ie,C.total_out+=le,x.total+=le,x.wrap&&le&&(C.adler=x.check=x.flags?l(x.check,Y,le,C.next_out-le):S(x.check,Y,le,C.next_out-le)),C.data_type=x.bits+(x.last?64:0)+(x.mode===y?128:0)+(x.mode===20||x.mode===15?256:0),(ie===0&&le===0||D===4)&&g===t&&(g=-5),g)},re.inflateEnd=function(C){if(!C||!C.state)return s;var D=C.state;return D.window&&(D.window=null),C.state=null,t},re.inflateGetHeader=function(C,D){var x;return C&&C.state&&2&(x=C.state).wrap?(x.head=D,D.done=!1,t):s},re.inflateSetDictionary=function(C,D){var x,ne=D.length;return C&&C.state?(x=C.state).wrap!==0&&x.mode!==11?s:x.mode===11&&S(1,D,ne,0)!==x.check?-3:R(C,D,ne,ne)?(x.mode=31,-4):(x.havedict=1,t):s},re.inflateInfo="pako inflate (from Nodeca project)"},881:(xe,re,q)=>{var f=q(9761),S=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],e=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];xe.exports=function(a,n,t,s,d,y,E,M){var b,k,I,F,N,$,X,_,p,O=M.bits,W=0,R=0,C=0,D=0,x=0,ne=0,Y=0,K=0,G=0,B=0,te=null,T=0,P=new f.Buf16(16),ie=new f.Buf16(16),le=null,fe=0;for(W=0;W<=15;W++)P[W]=0;for(R=0;R<s;R++)P[n[t+R]]++;for(x=O,D=15;D>=1&&P[D]===0;D--);if(x>D&&(x=D),D===0)return d[y++]=20971520,d[y++]=20971520,M.bits=1,0;for(C=1;C<D&&P[C]===0;C++);for(x<C&&(x=C),K=1,W=1;W<=15;W++)if(K<<=1,(K-=P[W])<0)return-1;if(K>0&&(a===0||D!==1))return-1;for(ie[1]=0,W=1;W<15;W++)ie[W+1]=ie[W]+P[W];for(R=0;R<s;R++)n[t+R]!==0&&(E[ie[n[t+R]]++]=R);if(a===0?(te=le=E,$=19):a===1?(te=S,T-=257,le=l,fe-=257,$=256):(te=o,le=e,$=-1),B=0,R=0,W=C,N=y,ne=x,Y=0,I=-1,F=(G=1<<x)-1,a===1&&G>852||a===2&&G>592)return 1;for(;;){X=W-Y,E[R]<$?(_=0,p=E[R]):E[R]>$?(_=le[fe+E[R]],p=te[T+E[R]]):(_=96,p=0),b=1<<W-Y,C=k=1<<ne;do d[N+(B>>Y)+(k-=b)]=X<<24|_<<16|p|0;while(k!==0);for(b=1<<W-1;B&b;)b>>=1;if(b!==0?(B&=b-1,B+=b):B=0,R++,--P[W]==0){if(W===D)break;W=n[t+E[R]]}if(W>x&&(B&F)!==I){for(Y===0&&(Y=x),N+=C,K=1<<(ne=W-Y);ne+Y<D&&!((K-=P[ne+Y])<=0);)ne++,K<<=1;if(G+=1<<ne,a===1&&G>852||a===2&&G>592)return 1;d[I=B&F]=x<<24|ne<<16|N-y|0}}return B!==0&&(d[N+B]=W-Y<<24|4194304|0),M.bits=x,0}},2950:xe=>{xe.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},9564:(xe,re,q)=>{var f=q(9761);function S(h){for(var L=h.length;--L>=0;)h[L]=0}var l=0,o=256,e=o+1+29,a=30,n=19,t=2*e+1,s=15,d=16,y=256,E=16,M=17,b=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],I=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$=new Array(2*(e+2));S($);var X=new Array(2*a);S(X);var _=new Array(512);S(_);var p=new Array(256);S(p);var O=new Array(29);S(O);var W,R,C,D=new Array(a);function x(h,L,Q,g,J){this.static_tree=h,this.extra_bits=L,this.extra_base=Q,this.elems=g,this.max_length=J,this.has_stree=h&&h.length}function ne(h,L){this.dyn_tree=h,this.max_code=0,this.stat_desc=L}function Y(h){return h<256?_[h]:_[256+(h>>>7)]}function K(h,L){h.pending_buf[h.pending++]=255&L,h.pending_buf[h.pending++]=L>>>8&255}function G(h,L,Q){h.bi_valid>d-Q?(h.bi_buf|=L<<h.bi_valid&65535,K(h,h.bi_buf),h.bi_buf=L>>d-h.bi_valid,h.bi_valid+=Q-d):(h.bi_buf|=L<<h.bi_valid&65535,h.bi_valid+=Q)}function B(h,L,Q){G(h,Q[2*L],Q[2*L+1])}function te(h,L){var Q=0;do Q|=1&h,h>>>=1,Q<<=1;while(--L>0);return Q>>>1}function T(h,L,Q){var g,J,oe=new Array(s+1),H=0;for(g=1;g<=s;g++)oe[g]=H=H+Q[g-1]<<1;for(J=0;J<=L;J++){var ge=h[2*J+1];ge!==0&&(h[2*J]=te(oe[ge]++,ge))}}function P(h){var L;for(L=0;L<e;L++)h.dyn_ltree[2*L]=0;for(L=0;L<a;L++)h.dyn_dtree[2*L]=0;for(L=0;L<n;L++)h.bl_tree[2*L]=0;h.dyn_ltree[2*y]=1,h.opt_len=h.static_len=0,h.last_lit=h.matches=0}function ie(h){h.bi_valid>8?K(h,h.bi_buf):h.bi_valid>0&&(h.pending_buf[h.pending++]=h.bi_buf),h.bi_buf=0,h.bi_valid=0}function le(h,L,Q,g){var J=2*L,oe=2*Q;return h[J]<h[oe]||h[J]===h[oe]&&g[L]<=g[Q]}function fe(h,L,Q){for(var g=h.heap[Q],J=Q<<1;J<=h.heap_len&&(J<h.heap_len&&le(L,h.heap[J+1],h.heap[J],h.depth)&&J++,!le(L,g,h.heap[J],h.depth));)h.heap[Q]=h.heap[J],Q=J,J<<=1;h.heap[Q]=g}function m(h,L,Q){var g,J,oe,H,ge=0;if(h.last_lit!==0)do g=h.pending_buf[h.d_buf+2*ge]<<8|h.pending_buf[h.d_buf+2*ge+1],J=h.pending_buf[h.l_buf+ge],ge++,g===0?B(h,J,L):(B(h,(oe=p[J])+o+1,L),(H=k[oe])!==0&&G(h,J-=O[oe],H),B(h,oe=Y(--g),Q),(H=I[oe])!==0&&G(h,g-=D[oe],H));while(ge<h.last_lit);B(h,y,L)}function v(h,L){var Q,g,J,oe=L.dyn_tree,H=L.stat_desc.static_tree,ge=L.stat_desc.has_stree,ve=L.stat_desc.elems,Ie=-1;for(h.heap_len=0,h.heap_max=t,Q=0;Q<ve;Q++)oe[2*Q]!==0?(h.heap[++h.heap_len]=Ie=Q,h.depth[Q]=0):oe[2*Q+1]=0;for(;h.heap_len<2;)oe[2*(J=h.heap[++h.heap_len]=Ie<2?++Ie:0)]=1,h.depth[J]=0,h.opt_len--,ge&&(h.static_len-=H[2*J+1]);for(L.max_code=Ie,Q=h.heap_len>>1;Q>=1;Q--)fe(h,oe,Q);J=ve;do Q=h.heap[1],h.heap[1]=h.heap[h.heap_len--],fe(h,oe,1),g=h.heap[1],h.heap[--h.heap_max]=Q,h.heap[--h.heap_max]=g,oe[2*J]=oe[2*Q]+oe[2*g],h.depth[J]=(h.depth[Q]>=h.depth[g]?h.depth[Q]:h.depth[g])+1,oe[2*Q+1]=oe[2*g+1]=J,h.heap[1]=J++,fe(h,oe,1);while(h.heap_len>=2);h.heap[--h.heap_max]=h.heap[1],function(ke,ae){var ue,we,Be,be,Pe,Te,Ne=ae.dyn_tree,He=ae.max_code,Qe=ae.stat_desc.static_tree,at=ae.stat_desc.has_stree,U=ae.stat_desc.extra_bits,Ee=ae.stat_desc.extra_base,Z=ae.stat_desc.max_length,ce=0;for(be=0;be<=s;be++)ke.bl_count[be]=0;for(Ne[2*ke.heap[ke.heap_max]+1]=0,ue=ke.heap_max+1;ue<t;ue++)(be=Ne[2*Ne[2*(we=ke.heap[ue])+1]+1]+1)>Z&&(be=Z,ce++),Ne[2*we+1]=be,we>He||(ke.bl_count[be]++,Pe=0,we>=Ee&&(Pe=U[we-Ee]),Te=Ne[2*we],ke.opt_len+=Te*(be+Pe),at&&(ke.static_len+=Te*(Qe[2*we+1]+Pe)));if(ce!==0){do{for(be=Z-1;ke.bl_count[be]===0;)be--;ke.bl_count[be]--,ke.bl_count[be+1]+=2,ke.bl_count[Z]--,ce-=2}while(ce>0);for(be=Z;be!==0;be--)for(we=ke.bl_count[be];we!==0;)(Be=ke.heap[--ue])>He||(Ne[2*Be+1]!==be&&(ke.opt_len+=(be-Ne[2*Be+1])*Ne[2*Be],Ne[2*Be+1]=be),we--)}}(h,L),T(oe,Ie,h.bl_count)}function A(h,L,Q){var g,J,oe=-1,H=L[1],ge=0,ve=7,Ie=4;for(H===0&&(ve=138,Ie=3),L[2*(Q+1)+1]=65535,g=0;g<=Q;g++)J=H,H=L[2*(g+1)+1],++ge<ve&&J===H||(ge<Ie?h.bl_tree[2*J]+=ge:J!==0?(J!==oe&&h.bl_tree[2*J]++,h.bl_tree[2*E]++):ge<=10?h.bl_tree[2*M]++:h.bl_tree[2*b]++,ge=0,oe=J,H===0?(ve=138,Ie=3):J===H?(ve=6,Ie=3):(ve=7,Ie=4))}function V(h,L,Q){var g,J,oe=-1,H=L[1],ge=0,ve=7,Ie=4;for(H===0&&(ve=138,Ie=3),g=0;g<=Q;g++)if(J=H,H=L[2*(g+1)+1],!(++ge<ve&&J===H)){if(ge<Ie)do B(h,J,h.bl_tree);while(--ge!=0);else J!==0?(J!==oe&&(B(h,J,h.bl_tree),ge--),B(h,E,h.bl_tree),G(h,ge-3,2)):ge<=10?(B(h,M,h.bl_tree),G(h,ge-3,3)):(B(h,b,h.bl_tree),G(h,ge-11,7));ge=0,oe=J,H===0?(ve=138,Ie=3):J===H?(ve=6,Ie=3):(ve=7,Ie=4)}}S(D);var i=!1;function r(h,L,Q,g){G(h,(l<<1)+(g?1:0),3),function(J,oe,H,ge){ie(J),K(J,H),K(J,~H),f.arraySet(J.pending_buf,J.window,oe,H,J.pending),J.pending+=H}(h,L,Q)}re._tr_init=function(h){i||(function(){var L,Q,g,J,oe,H=new Array(s+1);for(g=0,J=0;J<28;J++)for(O[J]=g,L=0;L<1<<k[J];L++)p[g++]=J;for(p[g-1]=J,oe=0,J=0;J<16;J++)for(D[J]=oe,L=0;L<1<<I[J];L++)_[oe++]=J;for(oe>>=7;J<a;J++)for(D[J]=oe<<7,L=0;L<1<<I[J]-7;L++)_[256+oe++]=J;for(Q=0;Q<=s;Q++)H[Q]=0;for(L=0;L<=143;)$[2*L+1]=8,L++,H[8]++;for(;L<=255;)$[2*L+1]=9,L++,H[9]++;for(;L<=279;)$[2*L+1]=7,L++,H[7]++;for(;L<=287;)$[2*L+1]=8,L++,H[8]++;for(T($,e+1,H),L=0;L<a;L++)X[2*L+1]=5,X[2*L]=te(L,5);W=new x($,k,o+1,e,s),R=new x(X,I,0,a,s),C=new x(new Array(0),F,0,n,7)}(),i=!0),h.l_desc=new ne(h.dyn_ltree,W),h.d_desc=new ne(h.dyn_dtree,R),h.bl_desc=new ne(h.bl_tree,C),h.bi_buf=0,h.bi_valid=0,P(h)},re._tr_stored_block=r,re._tr_flush_block=function(h,L,Q,g){var J,oe,H=0;h.level>0?(h.strm.data_type===2&&(h.strm.data_type=function(ge){var ve,Ie=4093624447;for(ve=0;ve<=31;ve++,Ie>>>=1)if(1&Ie&&ge.dyn_ltree[2*ve]!==0)return 0;if(ge.dyn_ltree[18]!==0||ge.dyn_ltree[20]!==0||ge.dyn_ltree[26]!==0)return 1;for(ve=32;ve<o;ve++)if(ge.dyn_ltree[2*ve]!==0)return 1;return 0}(h)),v(h,h.l_desc),v(h,h.d_desc),H=function(ge){var ve;for(A(ge,ge.dyn_ltree,ge.l_desc.max_code),A(ge,ge.dyn_dtree,ge.d_desc.max_code),v(ge,ge.bl_desc),ve=n-1;ve>=3&&ge.bl_tree[2*N[ve]+1]===0;ve--);return ge.opt_len+=3*(ve+1)+5+5+4,ve}(h),J=h.opt_len+3+7>>>3,(oe=h.static_len+3+7>>>3)<=J&&(J=oe)):J=oe=Q+5,Q+4<=J&&L!==-1?r(h,L,Q,g):h.strategy===4||oe===J?(G(h,2+(g?1:0),3),m(h,$,X)):(G(h,4+(g?1:0),3),function(ge,ve,Ie,ke){var ae;for(G(ge,ve-257,5),G(ge,Ie-1,5),G(ge,ke-4,4),ae=0;ae<ke;ae++)G(ge,ge.bl_tree[2*N[ae]+1],3);V(ge,ge.dyn_ltree,ve-1),V(ge,ge.dyn_dtree,Ie-1)}(h,h.l_desc.max_code+1,h.d_desc.max_code+1,H+1),m(h,h.dyn_ltree,h.dyn_dtree)),P(h),g&&ie(h)},re._tr_tally=function(h,L,Q){return h.pending_buf[h.d_buf+2*h.last_lit]=L>>>8&255,h.pending_buf[h.d_buf+2*h.last_lit+1]=255&L,h.pending_buf[h.l_buf+h.last_lit]=255&Q,h.last_lit++,L===0?h.dyn_ltree[2*Q]++:(h.matches++,L--,h.dyn_ltree[2*(p[Q]+o+1)]++,h.dyn_dtree[2*Y(L)]++),h.last_lit===h.lit_bufsize-1},re._tr_align=function(h){G(h,2,3),B(h,y,$),function(L){L.bi_valid===16?(K(L,L.bi_buf),L.bi_buf=0,L.bi_valid=0):L.bi_valid>=8&&(L.pending_buf[L.pending++]=255&L.bi_buf,L.bi_buf>>=8,L.bi_valid-=8)}(h)}},744:xe=>{xe.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},4398:xe=>{function re(f,S){if(!(f=f.replace(/\t+/g," ").trim()))return null;var l=f.indexOf(" ");if(l===-1)throw new Error("no named row at line "+S);var o=f.substring(0,l);f=(f=(f=(f=f.substring(l+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map(function(s){return s.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var e=[],a=0;a<f.length;a++){var n=f[a];a===0?e.push({key:n[0],data:""}):a===f.length-1?e[e.length-1].data=q(n[0]):(e[e.length-1].data=q(n[0]),e.push({key:n[1],data:""}))}var t={key:o,data:{}};return e.forEach(function(s){t.data[s.key]=s.data}),t}function q(f){return f&&f.length!==0?f.indexOf('"')===0||f.indexOf("'")===0?f.substring(1,f.length-1):f.indexOf(",")!==-1?function(S){return S.split(",").map(function(l){return parseInt(l,10)})}(f):parseInt(f,10):""}xe.exports=function(f){if(!f)throw new Error("no data provided");var S={pages:[],chars:[],kernings:[]},l=(f=f.toString().trim()).split(/\r\n?|\n/g);if(l.length===0)throw new Error("no data in BMFont file");for(var o=0;o<l.length;o++){var e=re(l[o],o);if(e)if(e.key==="page"){if(typeof e.data.id!="number")throw new Error("malformed file at line "+o+" -- needs page id=N");if(typeof e.data.file!="string")throw new Error("malformed file at line "+o+' -- needs page file="path"');S.pages[e.data.id]=e.data.file}else e.key==="chars"||e.key==="kernings"||(e.key==="char"?S.chars.push(e.data):e.key==="kerning"?S.kernings.push(e.data):S[e.key]=e.data)}return S}},8438:xe=>{var re=[66,77,70];function q(S,l,o){if(o>l.length-1)return 0;var e=l.readUInt8(o++),a=l.readInt32LE(o);switch(o+=4,e){case 1:S.info=function(n,t){var s={};s.size=n.readInt16LE(t);var d=n.readUInt8(t+2);return s.smooth=d>>7&1,s.unicode=d>>6&1,s.italic=d>>5&1,s.bold=d>>4&1,d>>3&1&&(s.fixedHeight=1),s.charset=n.readUInt8(t+3)||"",s.stretchH=n.readUInt16LE(t+4),s.aa=n.readUInt8(t+6),s.padding=[n.readInt8(t+7),n.readInt8(t+8),n.readInt8(t+9),n.readInt8(t+10)],s.spacing=[n.readInt8(t+11),n.readInt8(t+12)],s.outline=n.readUInt8(t+13),s.face=function(y,E){return f(y,E).toString("utf8")}(n,t+14),s}(l,o);break;case 2:S.common=function(n,t){var s={};return s.lineHeight=n.readUInt16LE(t),s.base=n.readUInt16LE(t+2),s.scaleW=n.readUInt16LE(t+4),s.scaleH=n.readUInt16LE(t+6),s.pages=n.readUInt16LE(t+8),n.readUInt8(t+10),s.packed=0,s.alphaChnl=n.readUInt8(t+11),s.redChnl=n.readUInt8(t+12),s.greenChnl=n.readUInt8(t+13),s.blueChnl=n.readUInt8(t+14),s}(l,o);break;case 3:S.pages=function(n,t,s){for(var d=[],y=f(n,t),E=y.length+1,M=s/E,b=0;b<M;b++)d[b]=n.slice(t,t+y.length).toString("utf8"),t+=E;return d}(l,o,a);break;case 4:S.chars=function(n,t,s){for(var d=[],y=s/20,E=0;E<y;E++){var M={},b=20*E;M.id=n.readUInt32LE(t+0+b),M.x=n.readUInt16LE(t+4+b),M.y=n.readUInt16LE(t+6+b),M.width=n.readUInt16LE(t+8+b),M.height=n.readUInt16LE(t+10+b),M.xoffset=n.readInt16LE(t+12+b),M.yoffset=n.readInt16LE(t+14+b),M.xadvance=n.readInt16LE(t+16+b),M.page=n.readUInt8(t+18+b),M.chnl=n.readUInt8(t+19+b),d[E]=M}return d}(l,o,a);break;case 5:S.kernings=function(n,t,s){for(var d=[],y=s/10,E=0;E<y;E++){var M={},b=10*E;M.first=n.readUInt32LE(t+0+b),M.second=n.readUInt32LE(t+4+b),M.amount=n.readInt16LE(t+8+b),d[E]=M}return d}(l,o,a)}return 5+a}function f(S,l){for(var o=l;o<S.length&&S[o]!==0;o++);return S.slice(l,o)}xe.exports=function(S){if(S.length<6)throw new Error("invalid buffer length for BMFont");var l=re.every(function(n,t){return S.readUInt8(t)===n});if(!l)throw new Error("BMFont missing BMF byte header");var o=3;if(S.readUInt8(o++)>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var e={kernings:[],chars:[]},a=0;a<5;a++)o+=q(e,S,o);return e}},5947:(xe,re,q)=>{var f=q(403),S=q(1596),l={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};function o(e){var a=function(n){for(var t=[],s=0;s<n.attributes.length;s++)t.push(n.attributes[s]);return t}(e);return a.reduce(function(n,t){var s;return n[s=t.nodeName,l[s.toLowerCase()]||s]=t.nodeValue,n},{})}xe.exports=function(e){e=e.toString();var a=S(e),n={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(b){var k=a.getElementsByTagName(b)[0];k&&(n[b]=f(o(k)))});var t=a.getElementsByTagName("pages")[0];if(!t)throw new Error("malformed file -- no <pages> element");for(var s=t.getElementsByTagName("page"),d=0;d<s.length;d++){var y=s[d],E=parseInt(y.getAttribute("id"),10),M=y.getAttribute("file");if(isNaN(E))throw new Error('malformed file -- page "id" attribute is NaN');if(!M)throw new Error('malformed file -- needs page "file" attribute');n.pages[parseInt(E,10)]=M}return["chars","kernings"].forEach(function(b){var k=a.getElementsByTagName(b)[0];if(k)for(var I=b.substring(0,b.length-1),F=k.getElementsByTagName(I),N=0;N<F.length;N++){var $=F[N];n[b].push(f(o($)))}}),n}},403:xe=>{var re="chasrset";xe.exports=function(q){for(var f in re in q&&(q.charset=q[re],delete q[re]),q)f!=="face"&&f!=="charset"&&(q[f]=f==="padding"||f==="spacing"?q[f].split(",").map(function(S){return parseInt(S,10)}):parseInt(q[f],10));return q}},4655:(xe,re,q)=>{var f=q(311),S=q(3243);xe.exports=function(l){if(!l)return{};var o={};return S(f(l).split(`
`),function(e){var a,n=e.indexOf(":"),t=f(e.slice(0,n)).toLowerCase(),s=f(e.slice(n+1));o[t]===void 0?o[t]=s:(a=o[t],Object.prototype.toString.call(a)==="[object Array]"?o[t].push(s):o[t]=[o[t],s])}),o}},1023:(xe,re,q)=>{var f=q(4406);function S(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function l(e,a){for(var n,t="",s=0,d=-1,y=0,E=0;E<=e.length;++E){if(E<e.length)n=e.charCodeAt(E);else{if(n===47)break;n=47}if(n===47){if(!(d===E-1||y===1))if(d!==E-1&&y===2){if(t.length<2||s!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var M=t.lastIndexOf("/");if(M!==t.length-1){M===-1?(t="",s=0):s=(t=t.slice(0,M)).length-1-t.lastIndexOf("/"),d=E,y=0;continue}}else if(t.length===2||t.length===1){t="",s=0,d=E,y=0;continue}}a&&(t.length>0?t+="/..":t="..",s=2)}else t.length>0?t+="/"+e.slice(d+1,E):t=e.slice(d+1,E),s=E-d-1;d=E,y=0}else n===46&&y!==-1?++y:y=-1}return t}var o={resolve:function(){for(var e,a="",n=!1,t=arguments.length-1;t>=-1&&!n;t--){var s;t>=0?s=arguments[t]:(e===void 0&&(e=f.cwd()),s=e),S(s),s.length!==0&&(a=s+"/"+a,n=s.charCodeAt(0)===47)}return a=l(a,!n),n?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(e){if(S(e),e.length===0)return".";var a=e.charCodeAt(0)===47,n=e.charCodeAt(e.length-1)===47;return(e=l(e,!a)).length!==0||a||(e="."),e.length>0&&n&&(e+="/"),a?"/"+e:e},isAbsolute:function(e){return S(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,a=0;a<arguments.length;++a){var n=arguments[a];S(n),n.length>0&&(e===void 0?e=n:e+="/"+n)}return e===void 0?".":o.normalize(e)},relative:function(e,a){if(S(e),S(a),e===a||(e=o.resolve(e))===(a=o.resolve(a)))return"";for(var n=1;n<e.length&&e.charCodeAt(n)===47;++n);for(var t=e.length,s=t-n,d=1;d<a.length&&a.charCodeAt(d)===47;++d);for(var y=a.length-d,E=s<y?s:y,M=-1,b=0;b<=E;++b){if(b===E){if(y>E){if(a.charCodeAt(d+b)===47)return a.slice(d+b+1);if(b===0)return a.slice(d+b)}else s>E&&(e.charCodeAt(n+b)===47?M=b:b===0&&(M=0));break}var k=e.charCodeAt(n+b);if(k!==a.charCodeAt(d+b))break;k===47&&(M=b)}var I="";for(b=n+M+1;b<=t;++b)b!==t&&e.charCodeAt(b)!==47||(I.length===0?I+="..":I+="/..");return I.length>0?I+a.slice(d+M):(d+=M,a.charCodeAt(d)===47&&++d,a.slice(d))},_makeLong:function(e){return e},dirname:function(e){if(S(e),e.length===0)return".";for(var a=e.charCodeAt(0),n=a===47,t=-1,s=!0,d=e.length-1;d>=1;--d)if((a=e.charCodeAt(d))===47){if(!s){t=d;break}}else s=!1;return t===-1?n?"/":".":n&&t===1?"//":e.slice(0,t)},basename:function(e,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');S(e);var n,t=0,s=-1,d=!0;if(a!==void 0&&a.length>0&&a.length<=e.length){if(a.length===e.length&&a===e)return"";var y=a.length-1,E=-1;for(n=e.length-1;n>=0;--n){var M=e.charCodeAt(n);if(M===47){if(!d){t=n+1;break}}else E===-1&&(d=!1,E=n+1),y>=0&&(M===a.charCodeAt(y)?--y==-1&&(s=n):(y=-1,s=E))}return t===s?s=E:s===-1&&(s=e.length),e.slice(t,s)}for(n=e.length-1;n>=0;--n)if(e.charCodeAt(n)===47){if(!d){t=n+1;break}}else s===-1&&(d=!1,s=n+1);return s===-1?"":e.slice(t,s)},extname:function(e){S(e);for(var a=-1,n=0,t=-1,s=!0,d=0,y=e.length-1;y>=0;--y){var E=e.charCodeAt(y);if(E!==47)t===-1&&(s=!1,t=y+1),E===46?a===-1?a=y:d!==1&&(d=1):a!==-1&&(d=-1);else if(!s){n=y+1;break}}return a===-1||t===-1||d===0||d===1&&a===t-1&&a===n+1?"":e.slice(a,t)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(a,n){var t=n.dir||n.root,s=n.base||(n.name||"")+(n.ext||"");return t?t===n.root?t+s:t+"/"+s:s}(0,e)},parse:function(e){S(e);var a={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return a;var n,t=e.charCodeAt(0),s=t===47;s?(a.root="/",n=1):n=0;for(var d=-1,y=0,E=-1,M=!0,b=e.length-1,k=0;b>=n;--b)if((t=e.charCodeAt(b))!==47)E===-1&&(M=!1,E=b+1),t===46?d===-1?d=b:k!==1&&(k=1):d!==-1&&(k=-1);else if(!M){y=b+1;break}return d===-1||E===-1||k===0||k===1&&d===E-1&&d===y+1?E!==-1&&(a.base=a.name=y===0&&s?e.slice(1,E):e.slice(y,E)):(y===0&&s?(a.name=e.slice(1,d),a.base=e.slice(1,E)):(a.name=e.slice(y,d),a.base=e.slice(y,E)),a.ext=e.slice(d,E)),y>0?a.dir=e.slice(0,y-1):s&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,xe.exports=o},482:(xe,re)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.Deferred=void 0,re.Deferred=class{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((q,f)=>{this.reject=f,this.resolve=q})}}},5567:(xe,re)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.EndOfStreamError=re.defaultMessages=void 0,re.defaultMessages="End-Of-Stream";class q extends Error{constructor(){super(re.defaultMessages)}}re.EndOfStreamError=q},4514:(xe,re,q)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.StreamReader=re.EndOfStreamError=void 0;const f=q(5567),S=q(482);var l=q(5567);Object.defineProperty(re,"EndOfStreamError",{enumerable:!0,get:function(){return l.EndOfStreamError}}),re.StreamReader=class{constructor(o){if(this.s=o,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!o.read||!o.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new f.EndOfStreamError)),this.s.once("error",e=>this.reject(e)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(o,e,a){const n=await this.read(o,e,a);return this.peekQueue.push(o.subarray(e,e+n)),n}async read(o,e,a){if(a===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new f.EndOfStreamError;let n=a,t=0;for(;this.peekQueue.length>0&&n>0;){const s=this.peekQueue.pop();if(!s)throw new Error("peekData should be defined");const d=Math.min(s.length,n);o.set(s.subarray(0,d),e+t),t+=d,n-=d,d<s.length&&this.peekQueue.push(s.subarray(d))}for(;n>0&&!this.endOfStream;){const s=Math.min(n,1048576),d=await this.readFromStream(o,e+t,s);if(t+=d,d<s)break;n-=d}return t}async readFromStream(o,e,a){const n=this.s.read(a);if(n)return o.set(n,e),n.length;{const t={buffer:o,offset:e,length:a,deferred:new S.Deferred};return this.deferred=t.deferred,this.s.once("readable",()=>{this.readDeferred(t)}),t.deferred.promise}}readDeferred(o){const e=this.s.read(o.length);e?(o.buffer.set(e,o.offset),o.deferred.resolve(e.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(o)})}reject(o){this.endOfStream=!0,this.deferred&&(this.deferred.reject(o),this.deferred=null)}}},4644:(xe,re,q)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.StreamReader=re.EndOfStreamError=void 0;var f=q(5567);Object.defineProperty(re,"EndOfStreamError",{enumerable:!0,get:function(){return f.EndOfStreamError}});var S=q(4514);Object.defineProperty(re,"StreamReader",{enumerable:!0,get:function(){return S.StreamReader}})},1294:xe=>{function re(a,n,t,s,d,y){for(var E,M,b,k,I=Math.max(n-1,0),F=Math.max(t-1,0),N=Math.min(n+1,s-1),$=Math.min(t+1,d-1),X=4*(t*s+n),_=0,p=0,O=0,W=0,R=0,C=I;C<=N;C++)for(var D=F;D<=$;D++)if(C!==n||D!==t){var x=q(a,a,X,4*(D*s+C),!0);if(x===0?_++:x<0?O++:x>0&&p++,_>2)return!1;y&&(x<W&&(W=x,E=C,M=D),x>R&&(R=x,b=C,k=D))}return!y||O!==0&&p!==0&&(!re(a,E,M,s,d)&&!re(y,E,M,s,d)||!re(a,b,k,s,d)&&!re(y,b,k,s,d))}function q(a,n,t,s,d){var y=a[t+3]/255,E=n[s+3]/255,M=o(a[t+0],y),b=o(a[t+1],y),k=o(a[t+2],y),I=o(n[s+0],E),F=o(n[s+1],E),N=o(n[s+2],E),$=f(M,b,k)-f(I,F,N);if(d)return $;var X=S(M,b,k)-S(I,F,N),_=l(M,b,k)-l(I,F,N);return .5053*$*$+.299*X*X+.1957*_*_}function f(a,n,t){return .29889531*a+.58662247*n+.11448223*t}function S(a,n,t){return .59597799*a-.2741761*n-.32180189*t}function l(a,n,t){return .21147017*a-.52261711*n+.31114694*t}function o(a,n){return 255+(a-255)*n}function e(a,n,t,s,d){a[n+0]=t,a[n+1]=s,a[n+2]=d,a[n+3]=255}xe.exports=function(a,n,t,s,d,y){y||(y={});for(var E=y.threshold===void 0?.1:y.threshold,M=35215*E*E,b=0,k=0;k<d;k++)for(var I=0;I<s;I++){var F=4*(k*s+I);if(q(a,n,F,F)>M)y.includeAA||!re(a,I,k,s,d,n)&&!re(n,I,k,s,d,a)?(t&&e(t,F,255,0,0),b++):t&&e(t,F,255,255,0);else if(t){var N=o((_=($=a)[(X=F)+3]/255,f(o($[X+0],_),o($[X+1],_),o($[X+2],_))),.1);e(t,F,N,N,N)}}var $,X,_;return b}},9902:(xe,re,q)=>{xe.exports=function f(S,l,o){function e(t,s){if(!l[t]){if(!S[t]){if(a)return a(t,!0);var d=new Error("Cannot find module '"+t+"'");throw d.code="MODULE_NOT_FOUND",d}var y=l[t]={exports:{}};S[t][0].call(y.exports,function(E){return e(S[t][1][E]||E)},y,y.exports,f,S,l,o)}return l[t].exports}for(var a=void 0,n=0;n<o.length;n++)e(o[n]);return e}({1:[function(f,S,l){(function(o){(function(){let e=f("./interlace"),a=[function(){},function(d,y,E,M){if(M===y.length)throw new Error("Ran out of data");let b=y[M];d[E]=b,d[E+1]=b,d[E+2]=b,d[E+3]=255},function(d,y,E,M){if(M+1>=y.length)throw new Error("Ran out of data");let b=y[M];d[E]=b,d[E+1]=b,d[E+2]=b,d[E+3]=y[M+1]},function(d,y,E,M){if(M+2>=y.length)throw new Error("Ran out of data");d[E]=y[M],d[E+1]=y[M+1],d[E+2]=y[M+2],d[E+3]=255},function(d,y,E,M){if(M+3>=y.length)throw new Error("Ran out of data");d[E]=y[M],d[E+1]=y[M+1],d[E+2]=y[M+2],d[E+3]=y[M+3]}],n=[function(){},function(d,y,E,M){let b=y[0];d[E]=b,d[E+1]=b,d[E+2]=b,d[E+3]=M},function(d,y,E){let M=y[0];d[E]=M,d[E+1]=M,d[E+2]=M,d[E+3]=y[1]},function(d,y,E,M){d[E]=y[0],d[E+1]=y[1],d[E+2]=y[2],d[E+3]=M},function(d,y,E){d[E]=y[0],d[E+1]=y[1],d[E+2]=y[2],d[E+3]=y[3]}];function t(d,y,E,M,b,k){let I=d.width,F=d.height,N=d.index;for(let $=0;$<F;$++)for(let X=0;X<I;X++){let _=E(X,$,N);a[M](y,b,_,k),k+=M}return k}function s(d,y,E,M,b,k){let I=d.width,F=d.height,N=d.index;for(let $=0;$<F;$++){for(let X=0;X<I;X++){let _=b.get(M),p=E(X,$,N);n[M](y,_,p,k)}b.resetAfterLine()}}l.dataToBitMap=function(d,y){let E,M,b=y.width,k=y.height,I=y.depth,F=y.bpp,N=y.interlace;I!==8&&(E=function(O,W){let R=[],C=0;function D(){if(C===O.length)throw new Error("Ran out of data");let x,ne,Y,K,G,B,te,T,P=O[C];switch(C++,W){default:throw new Error("unrecognised depth");case 16:te=O[C],C++,R.push((P<<8)+te);break;case 4:te=15&P,T=P>>4,R.push(T,te);break;case 2:G=3&P,B=P>>2&3,te=P>>4&3,T=P>>6&3,R.push(T,te,B,G);break;case 1:x=1&P,ne=P>>1&1,Y=P>>2&1,K=P>>3&1,G=P>>4&1,B=P>>5&1,te=P>>6&1,T=P>>7&1,R.push(T,te,B,G,K,Y,ne,x)}}return{get:function(x){for(;R.length<x;)D();let ne=R.slice(0,x);return R=R.slice(x),ne},resetAfterLine:function(){R.length=0},end:function(){if(C!==O.length)throw new Error("extra data found")}}}(d,I)),M=I<=8?o.alloc(b*k*4):new Uint16Array(b*k*4);let $,X,_=Math.pow(2,I)-1,p=0;if(N)$=e.getImagePasses(b,k),X=e.getInterlaceIterator(b,k);else{let O=0;X=function(){let W=O;return O+=4,W},$=[{width:b,height:k}]}for(let O=0;O<$.length;O++)I===8?p=t($[O],M,X,F,d,p):s($[O],M,X,F,E,_);if(I===8){if(p!==d.length)throw new Error("extra data found")}else E.end();return M}}).call(this)}).call(this,f("buffer").Buffer)},{"./interlace":11,buffer:33}],2:[function(f,S,l){(function(o){(function(){let e=f("./constants");S.exports=function(a,n,t,s){let d=[e.COLORTYPE_COLOR_ALPHA,e.COLORTYPE_ALPHA].indexOf(s.colorType)!==-1;if(s.colorType===s.inputColorType){let X=function(){let _=new ArrayBuffer(2);return new DataView(_).setInt16(0,256,!0),new Int16Array(_)[0]!==256}();if(s.bitDepth===8||s.bitDepth===16&&X)return a}let y=s.bitDepth!==16?a:new Uint16Array(a.buffer),E=255,M=e.COLORTYPE_TO_BPP_MAP[s.inputColorType];M!==4||s.inputHasAlpha||(M=3);let b=e.COLORTYPE_TO_BPP_MAP[s.colorType];s.bitDepth===16&&(E=65535,b*=2);let k=o.alloc(n*t*b),I=0,F=0,N=s.bgColor||{};function $(){let X,_,p,O=E;switch(s.inputColorType){case e.COLORTYPE_COLOR_ALPHA:O=y[I+3],X=y[I],_=y[I+1],p=y[I+2];break;case e.COLORTYPE_COLOR:X=y[I],_=y[I+1],p=y[I+2];break;case e.COLORTYPE_ALPHA:O=y[I+1],X=y[I],_=X,p=X;break;case e.COLORTYPE_GRAYSCALE:X=y[I],_=X,p=X;break;default:throw new Error("input color type:"+s.inputColorType+" is not supported at present")}return s.inputHasAlpha&&(d||(O/=E,X=Math.min(Math.max(Math.round((1-O)*N.red+O*X),0),E),_=Math.min(Math.max(Math.round((1-O)*N.green+O*_),0),E),p=Math.min(Math.max(Math.round((1-O)*N.blue+O*p),0),E))),{red:X,green:_,blue:p,alpha:O}}N.red===void 0&&(N.red=E),N.green===void 0&&(N.green=E),N.blue===void 0&&(N.blue=E);for(let X=0;X<t;X++)for(let _=0;_<n;_++){let p=$();switch(s.colorType){case e.COLORTYPE_COLOR_ALPHA:case e.COLORTYPE_COLOR:s.bitDepth===8?(k[F]=p.red,k[F+1]=p.green,k[F+2]=p.blue,d&&(k[F+3]=p.alpha)):(k.writeUInt16BE(p.red,F),k.writeUInt16BE(p.green,F+2),k.writeUInt16BE(p.blue,F+4),d&&k.writeUInt16BE(p.alpha,F+6));break;case e.COLORTYPE_ALPHA:case e.COLORTYPE_GRAYSCALE:{let O=(p.red+p.green+p.blue)/3;s.bitDepth===8?(k[F]=O,d&&(k[F+1]=p.alpha)):(k.writeUInt16BE(O,F),d&&k.writeUInt16BE(p.alpha,F+2));break}default:throw new Error("unrecognised color Type "+s.colorType)}I+=M,F+=b}return k}}).call(this)}).call(this,f("buffer").Buffer)},{"./constants":4,buffer:33}],3:[function(f,S,l){(function(o,e){(function(){let a=f("util"),n=f("stream"),t=S.exports=function(){n.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};a.inherits(t,n),t.prototype.read=function(s,d){this._reads.push({length:Math.abs(s),allowLess:s<0,func:d}),o.nextTick((function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}).bind(this))},t.prototype.write=function(s,d){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let y;return y=e.isBuffer(s)?s:e.from(s,d||this._encoding),this._buffers.push(y),this._buffered+=y.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused},t.prototype.end=function(s,d){s&&this.write(s,d),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))},t.prototype.destroySoon=t.prototype.end,t.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()},t.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},t.prototype._processReadAllowingLess=function(s){this._reads.shift();let d=this._buffers[0];d.length>s.length?(this._buffered-=s.length,this._buffers[0]=d.slice(s.length),s.func.call(this,d.slice(0,s.length))):(this._buffered-=d.length,this._buffers.shift(),s.func.call(this,d))},t.prototype._processRead=function(s){this._reads.shift();let d=0,y=0,E=e.alloc(s.length);for(;d<s.length;){let M=this._buffers[y++],b=Math.min(M.length,s.length-d);M.copy(E,d,0,b),d+=b,b!==M.length&&(this._buffers[--y]=M.slice(b))}y>0&&this._buffers.splice(0,y),this._buffered-=s.length,s.func.call(this,E)},t.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let s=this._reads[0];if(s.allowLess)this._processReadAllowingLess(s);else{if(!(this._buffered>=s.length))break;this._processRead(s)}}this._buffers&&!this.writable&&this._end()}catch(s){this.emit("error",s)}}}).call(this)}).call(this,f("_process"),f("buffer").Buffer)},{_process:60,buffer:33,stream:61,util:81}],4:[function(f,S,l){S.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],5:[function(f,S,l){let o=[];(function(){for(let a=0;a<256;a++){let n=a;for(let t=0;t<8;t++)1&n?n=3988292384^n>>>1:n>>>=1;o[a]=n}})();let e=S.exports=function(){this._crc=-1};e.prototype.write=function(a){for(let n=0;n<a.length;n++)this._crc=o[255&(this._crc^a[n])]^this._crc>>>8;return!0},e.prototype.crc32=function(){return-1^this._crc},e.crc32=function(a){let n=-1;for(let t=0;t<a.length;t++)n=o[255&(n^a[t])]^n>>>8;return-1^n}},{}],6:[function(f,S,l){(function(o){(function(){let e=f("./paeth-predictor"),a={0:function(t,s,d,y,E){for(let M=0;M<d;M++)y[E+M]=t[s+M]},1:function(t,s,d,y,E,M){for(let b=0;b<d;b++){let k=b>=M?t[s+b-M]:0,I=t[s+b]-k;y[E+b]=I}},2:function(t,s,d,y,E){for(let M=0;M<d;M++){let b=s>0?t[s+M-d]:0,k=t[s+M]-b;y[E+M]=k}},3:function(t,s,d,y,E,M){for(let b=0;b<d;b++){let k=b>=M?t[s+b-M]:0,I=s>0?t[s+b-d]:0,F=t[s+b]-(k+I>>1);y[E+b]=F}},4:function(t,s,d,y,E,M){for(let b=0;b<d;b++){let k=b>=M?t[s+b-M]:0,I=s>0?t[s+b-d]:0,F=s>0&&b>=M?t[s+b-(d+M)]:0,N=t[s+b]-e(k,I,F);y[E+b]=N}}},n={0:function(t,s,d){let y=0,E=s+d;for(let M=s;M<E;M++)y+=Math.abs(t[M]);return y},1:function(t,s,d,y){let E=0;for(let M=0;M<d;M++){let b=M>=y?t[s+M-y]:0,k=t[s+M]-b;E+=Math.abs(k)}return E},2:function(t,s,d){let y=0,E=s+d;for(let M=s;M<E;M++){let b=s>0?t[M-d]:0,k=t[M]-b;y+=Math.abs(k)}return y},3:function(t,s,d,y){let E=0;for(let M=0;M<d;M++){let b=M>=y?t[s+M-y]:0,k=s>0?t[s+M-d]:0,I=t[s+M]-(b+k>>1);E+=Math.abs(I)}return E},4:function(t,s,d,y){let E=0;for(let M=0;M<d;M++){let b=M>=y?t[s+M-y]:0,k=s>0?t[s+M-d]:0,I=s>0&&M>=y?t[s+M-(d+y)]:0,F=t[s+M]-e(b,k,I);E+=Math.abs(F)}return E}};S.exports=function(t,s,d,y,E){let M;if("filterType"in y&&y.filterType!==-1){if(typeof y.filterType!="number")throw new Error("unrecognised filter types");M=[y.filterType]}else M=[0,1,2,3,4];y.bitDepth===16&&(E*=2);let b=s*E,k=0,I=0,F=o.alloc((b+1)*d),N=M[0];for(let $=0;$<d;$++){if(M.length>1){let X=1/0;for(let _=0;_<M.length;_++){let p=n[M[_]](t,I,b,E);p<X&&(N=M[_],X=p)}}F[k]=N,k++,a[N](t,I,b,F,k,E),k+=b,I+=b}return F}}).call(this)}).call(this,f("buffer").Buffer)},{"./paeth-predictor":15,buffer:33}],7:[function(f,S,l){(function(o){(function(){let e=f("util"),a=f("./chunkstream"),n=f("./filter-parse"),t=S.exports=function(s){a.call(this);let d=[],y=this;this._filter=new n(s,{read:this.read.bind(this),write:function(E){d.push(E)},complete:function(){y.emit("complete",o.concat(d))}}),this._filter.start()};e.inherits(t,a)}).call(this)}).call(this,f("buffer").Buffer)},{"./chunkstream":3,"./filter-parse":9,buffer:33,util:81}],8:[function(f,S,l){(function(o){(function(){let e=f("./sync-reader"),a=f("./filter-parse");l.process=function(n,t){let s=[],d=new e(n);return new a(t,{read:d.read.bind(d),write:function(y){s.push(y)},complete:function(){}}).start(),d.process(),o.concat(s)}}).call(this)}).call(this,f("buffer").Buffer)},{"./filter-parse":9,"./sync-reader":22,buffer:33}],9:[function(f,S,l){(function(o){(function(){let e=f("./interlace"),a=f("./paeth-predictor");function n(s,d,y){let E=s*d;return y!==8&&(E=Math.ceil(E/(8/y))),E}let t=S.exports=function(s,d){let y=s.width,E=s.height,M=s.interlace,b=s.bpp,k=s.depth;if(this.read=d.read,this.write=d.write,this.complete=d.complete,this._imageIndex=0,this._images=[],M){let I=e.getImagePasses(y,E);for(let F=0;F<I.length;F++)this._images.push({byteWidth:n(I[F].width,b,k),height:I[F].height,lineIndex:0})}else this._images.push({byteWidth:n(y,b,k),height:E,lineIndex:0});this._xComparison=k===8?b:k===16?2*b:1};t.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},t.prototype._unFilterType1=function(s,d,y){let E=this._xComparison,M=E-1;for(let b=0;b<y;b++){let k=s[1+b],I=b>M?d[b-E]:0;d[b]=k+I}},t.prototype._unFilterType2=function(s,d,y){let E=this._lastLine;for(let M=0;M<y;M++){let b=s[1+M],k=E?E[M]:0;d[M]=b+k}},t.prototype._unFilterType3=function(s,d,y){let E=this._xComparison,M=E-1,b=this._lastLine;for(let k=0;k<y;k++){let I=s[1+k],F=b?b[k]:0,N=k>M?d[k-E]:0,$=Math.floor((N+F)/2);d[k]=I+$}},t.prototype._unFilterType4=function(s,d,y){let E=this._xComparison,M=E-1,b=this._lastLine;for(let k=0;k<y;k++){let I=s[1+k],F=b?b[k]:0,N=k>M?d[k-E]:0,$=k>M&&b?b[k-E]:0,X=a(N,F,$);d[k]=I+X}},t.prototype._reverseFilterLine=function(s){let d,y=s[0],E=this._images[this._imageIndex],M=E.byteWidth;if(y===0)d=s.slice(1,M+1);else switch(d=o.alloc(M),y){case 1:this._unFilterType1(s,d,M);break;case 2:this._unFilterType2(s,d,M);break;case 3:this._unFilterType3(s,d,M);break;case 4:this._unFilterType4(s,d,M);break;default:throw new Error("Unrecognised filter type - "+y)}this.write(d),E.lineIndex++,E.lineIndex>=E.height?(this._lastLine=null,this._imageIndex++,E=this._images[this._imageIndex]):this._lastLine=d,E?this.read(E.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this)}).call(this,f("buffer").Buffer)},{"./interlace":11,"./paeth-predictor":15,buffer:33}],10:[function(f,S,l){(function(o){(function(){S.exports=function(e,a,n=!1){let t=a.depth,s=a.width,d=a.height,y=a.colorType,E=a.transColor,M=a.palette,b=e;return y===3?function(k,I,F,N,$){let X=0;for(let _=0;_<N;_++)for(let p=0;p<F;p++){let O=$[k[X]];if(!O)throw new Error("index "+k[X]+" not in palette");for(let W=0;W<4;W++)I[X+W]=O[W];X+=4}}(e,b,s,d,M):(E&&function(k,I,F,N,$){let X=0;for(let _=0;_<N;_++)for(let p=0;p<F;p++){let O=!1;if($.length===1?$[0]===k[X]&&(O=!0):$[0]===k[X]&&$[1]===k[X+1]&&$[2]===k[X+2]&&(O=!0),O)for(let W=0;W<4;W++)I[X+W]=0;X+=4}}(e,b,s,d,E),t===8||n||(t===16&&(b=o.alloc(s*d*4)),function(k,I,F,N,$){let X=Math.pow(2,$)-1,_=0;for(let p=0;p<N;p++)for(let O=0;O<F;O++){for(let W=0;W<4;W++)I[_+W]=Math.floor(255*k[_+W]/X+.5);_+=4}}(e,b,s,d,t))),b}}).call(this)}).call(this,f("buffer").Buffer)},{buffer:33}],11:[function(f,S,l){let o=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];l.getImagePasses=function(e,a){let n=[],t=e%8,s=a%8,d=(e-t)/8,y=(a-s)/8;for(let E=0;E<o.length;E++){let M=o[E],b=d*M.x.length,k=y*M.y.length;for(let I=0;I<M.x.length&&M.x[I]<t;I++)b++;for(let I=0;I<M.y.length&&M.y[I]<s;I++)k++;b>0&&k>0&&n.push({width:b,height:k,index:E})}return n},l.getInterlaceIterator=function(e){return function(a,n,t){let s=a%o[t].x.length,d=(a-s)/o[t].x.length*8+o[t].x[s],y=n%o[t].y.length;return 4*d+((n-y)/o[t].y.length*8+o[t].y[y])*e*4}}},{}],12:[function(f,S,l){(function(o){(function(){let e=f("util"),a=f("stream"),n=f("./constants"),t=f("./packer"),s=S.exports=function(d){a.call(this);let y=d||{};this._packer=new t(y),this._deflate=this._packer.createDeflate(),this.readable=!0};e.inherits(s,a),s.prototype.pack=function(d,y,E,M){this.emit("data",o.from(n.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(y,E)),M&&this.emit("data",this._packer.packGAMA(M));let b=this._packer.filterData(d,y,E);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",(function(k){this.emit("data",this._packer.packIDAT(k))}).bind(this)),this._deflate.on("end",(function(){this.emit("data",this._packer.packIEND()),this.emit("end")}).bind(this)),this._deflate.end(b)}}).call(this)}).call(this,f("buffer").Buffer)},{"./constants":4,"./packer":14,buffer:33,stream:61,util:81}],13:[function(f,S,l){(function(o){(function(){let e=!0,a=f("zlib");a.deflateSync||(e=!1);let n=f("./constants"),t=f("./packer");S.exports=function(s,d){if(!e)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let y=new t(d||{}),E=[];E.push(o.from(n.PNG_SIGNATURE)),E.push(y.packIHDR(s.width,s.height)),s.gamma&&E.push(y.packGAMA(s.gamma));let M=y.filterData(s.data,s.width,s.height),b=a.deflateSync(M,y.getDeflateOptions());if(M=null,!b||!b.length)throw new Error("bad png - invalid compressed data response");return E.push(y.packIDAT(b)),E.push(y.packIEND()),o.concat(E)}}).call(this)}).call(this,f("buffer").Buffer)},{"./constants":4,"./packer":14,buffer:33,zlib:32}],14:[function(f,S,l){(function(o){(function(){let e=f("./constants"),a=f("./crc"),n=f("./bitpacker"),t=f("./filter-pack"),s=f("zlib"),d=S.exports=function(y){if(this._options=y,y.deflateChunkSize=y.deflateChunkSize||32768,y.deflateLevel=y.deflateLevel!=null?y.deflateLevel:9,y.deflateStrategy=y.deflateStrategy!=null?y.deflateStrategy:3,y.inputHasAlpha=y.inputHasAlpha==null||y.inputHasAlpha,y.deflateFactory=y.deflateFactory||s.createDeflate,y.bitDepth=y.bitDepth||8,y.colorType=typeof y.colorType=="number"?y.colorType:e.COLORTYPE_COLOR_ALPHA,y.inputColorType=typeof y.inputColorType=="number"?y.inputColorType:e.COLORTYPE_COLOR_ALPHA,[e.COLORTYPE_GRAYSCALE,e.COLORTYPE_COLOR,e.COLORTYPE_COLOR_ALPHA,e.COLORTYPE_ALPHA].indexOf(y.colorType)===-1)throw new Error("option color type:"+y.colorType+" is not supported at present");if([e.COLORTYPE_GRAYSCALE,e.COLORTYPE_COLOR,e.COLORTYPE_COLOR_ALPHA,e.COLORTYPE_ALPHA].indexOf(y.inputColorType)===-1)throw new Error("option input color type:"+y.inputColorType+" is not supported at present");if(y.bitDepth!==8&&y.bitDepth!==16)throw new Error("option bit depth:"+y.bitDepth+" is not supported at present")};d.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},d.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},d.prototype.filterData=function(y,E,M){let b=n(y,E,M,this._options),k=e.COLORTYPE_TO_BPP_MAP[this._options.colorType];return t(b,E,M,this._options,k)},d.prototype._packChunk=function(y,E){let M=E?E.length:0,b=o.alloc(M+12);return b.writeUInt32BE(M,0),b.writeUInt32BE(y,4),E&&E.copy(b,8),b.writeInt32BE(a.crc32(b.slice(4,b.length-4)),b.length-4),b},d.prototype.packGAMA=function(y){let E=o.alloc(4);return E.writeUInt32BE(Math.floor(y*e.GAMMA_DIVISION),0),this._packChunk(e.TYPE_gAMA,E)},d.prototype.packIHDR=function(y,E){let M=o.alloc(13);return M.writeUInt32BE(y,0),M.writeUInt32BE(E,4),M[8]=this._options.bitDepth,M[9]=this._options.colorType,M[10]=0,M[11]=0,M[12]=0,this._packChunk(e.TYPE_IHDR,M)},d.prototype.packIDAT=function(y){return this._packChunk(e.TYPE_IDAT,y)},d.prototype.packIEND=function(){return this._packChunk(e.TYPE_IEND,null)}}).call(this)}).call(this,f("buffer").Buffer)},{"./bitpacker":2,"./constants":4,"./crc":5,"./filter-pack":6,buffer:33,zlib:32}],15:[function(f,S,l){S.exports=function(o,e,a){let n=o+e-a,t=Math.abs(n-o),s=Math.abs(n-e),d=Math.abs(n-a);return t<=s&&t<=d?o:s<=d?e:a}},{}],16:[function(f,S,l){let o=f("util"),e=f("zlib"),a=f("./chunkstream"),n=f("./filter-parse-async"),t=f("./parser"),s=f("./bitmapper"),d=f("./format-normaliser"),y=S.exports=function(E){a.call(this),this._parser=new t(E,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=E,this.writable=!0,this._parser.start()};o.inherits(y,a),y.prototype._handleError=function(E){this.emit("error",E),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},y.prototype._inflateData=function(E){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=e.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let M=(1+(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3))*this._bitmapInfo.height,b=Math.max(M,e.Z_MIN_CHUNK);this._inflate=e.createInflate({chunkSize:b});let k=M,I=this.emit.bind(this,"error");this._inflate.on("error",function(N){k&&I(N)}),this._filter.on("complete",this._complete.bind(this));let F=this._filter.write.bind(this._filter);this._inflate.on("data",function(N){k&&(N.length>k&&(N=N.slice(0,k)),k-=N.length,F(N))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(E)},y.prototype._handleMetaData=function(E){this._metaData=E,this._bitmapInfo=Object.create(E),this._filter=new n(this._bitmapInfo)},y.prototype._handleTransColor=function(E){this._bitmapInfo.transColor=E},y.prototype._handlePalette=function(E){this._bitmapInfo.palette=E},y.prototype._simpleTransparency=function(){this._metaData.alpha=!0},y.prototype._headersFinished=function(){this.emit("metadata",this._metaData)},y.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))},y.prototype._complete=function(E){if(this.errord)return;let M;try{let b=s.dataToBitMap(E,this._bitmapInfo);M=d(b,this._bitmapInfo,this._options.skipRescale),b=null}catch(b){return void this._handleError(b)}this.emit("parsed",M)}},{"./bitmapper":1,"./chunkstream":3,"./filter-parse-async":7,"./format-normaliser":10,"./parser":18,util:81,zlib:32}],17:[function(f,S,l){(function(o){(function(){let e=!0,a=f("zlib"),n=f("./sync-inflate");a.deflateSync||(e=!1);let t=f("./sync-reader"),s=f("./filter-parse-sync"),d=f("./parser"),y=f("./bitmapper"),E=f("./format-normaliser");S.exports=function(M,b){if(!e)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let k,I,F,N=[],$=new t(M);if(new d(b,{read:$.read.bind($),error:function(R){k=R},metadata:function(R){I=R},gamma:function(R){F=R},palette:function(R){I.palette=R},transColor:function(R){I.transColor=R},inflateData:function(R){N.push(R)},simpleTransparency:function(){I.alpha=!0}}).start(),$.process(),k)throw k;let X,_=o.concat(N);if(N.length=0,I.interlace)X=a.inflateSync(_);else{let R=(1+(I.width*I.bpp*I.depth+7>>3))*I.height;X=n(_,{chunkSize:R,maxLength:R})}if(_=null,!X||!X.length)throw new Error("bad png - invalid inflate data response");let p=s.process(X,I);_=null;let O=y.dataToBitMap(p,I);p=null;let W=E(O,I,b.skipRescale);return I.data=W,I.gamma=F||0,I}}).call(this)}).call(this,f("buffer").Buffer)},{"./bitmapper":1,"./filter-parse-sync":8,"./format-normaliser":10,"./parser":18,"./sync-inflate":21,"./sync-reader":22,buffer:33,zlib:32}],18:[function(f,S,l){(function(o){(function(){let e=f("./constants"),a=f("./crc"),n=S.exports=function(t,s){this._options=t,t.checkCRC=t.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[e.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[e.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[e.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[e.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[e.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[e.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=s.read,this.error=s.error,this.metadata=s.metadata,this.gamma=s.gamma,this.transColor=s.transColor,this.palette=s.palette,this.parsed=s.parsed,this.inflateData=s.inflateData,this.finished=s.finished,this.simpleTransparency=s.simpleTransparency,this.headersFinished=s.headersFinished||function(){}};n.prototype.start=function(){this.read(e.PNG_SIGNATURE.length,this._parseSignature.bind(this))},n.prototype._parseSignature=function(t){let s=e.PNG_SIGNATURE;for(let d=0;d<s.length;d++)if(t[d]!==s[d])return void this.error(new Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},n.prototype._parseChunkBegin=function(t){let s=t.readUInt32BE(0),d=t.readUInt32BE(4),y="";for(let M=4;M<8;M++)y+=String.fromCharCode(t[M]);let E=!!(32&t[4]);if(this._hasIHDR||d===e.TYPE_IHDR){if(this._crc=new a,this._crc.write(o.from(y)),this._chunks[d])return this._chunks[d](s);E?this.read(s+4,this._skipChunk.bind(this)):this.error(new Error("Unsupported critical chunk type "+y))}else this.error(new Error("Expected IHDR on beggining"))},n.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},n.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},n.prototype._parseChunkEnd=function(t){let s=t.readInt32BE(0),d=this._crc.crc32();this._options.checkCRC&&d!==s?this.error(new Error("Crc error - "+s+" - "+d)):this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},n.prototype._handleIHDR=function(t){this.read(t,this._parseIHDR.bind(this))},n.prototype._parseIHDR=function(t){this._crc.write(t);let s=t.readUInt32BE(0),d=t.readUInt32BE(4),y=t[8],E=t[9],M=t[10],b=t[11],k=t[12];if(y!==8&&y!==4&&y!==2&&y!==1&&y!==16)return void this.error(new Error("Unsupported bit depth "+y));if(!(E in e.COLORTYPE_TO_BPP_MAP))return void this.error(new Error("Unsupported color type"));if(M!==0)return void this.error(new Error("Unsupported compression method"));if(b!==0)return void this.error(new Error("Unsupported filter method"));if(k!==0&&k!==1)return void this.error(new Error("Unsupported interlace method"));this._colorType=E;let I=e.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:s,height:d,depth:y,interlace:!!k,palette:!!(E&e.COLORTYPE_PALETTE),color:!!(E&e.COLORTYPE_COLOR),alpha:!!(E&e.COLORTYPE_ALPHA),bpp:I,colorType:E}),this._handleChunkEnd()},n.prototype._handlePLTE=function(t){this.read(t,this._parsePLTE.bind(this))},n.prototype._parsePLTE=function(t){this._crc.write(t);let s=Math.floor(t.length/3);for(let d=0;d<s;d++)this._palette.push([t[3*d],t[3*d+1],t[3*d+2],255]);this.palette(this._palette),this._handleChunkEnd()},n.prototype._handleTRNS=function(t){this.simpleTransparency(),this.read(t,this._parseTRNS.bind(this))},n.prototype._parseTRNS=function(t){if(this._crc.write(t),this._colorType===e.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0)return void this.error(new Error("Transparency chunk must be after palette"));if(t.length>this._palette.length)return void this.error(new Error("More transparent colors than palette size"));for(let s=0;s<t.length;s++)this._palette[s][3]=t[s];this.palette(this._palette)}this._colorType===e.COLORTYPE_GRAYSCALE&&this.transColor([t.readUInt16BE(0)]),this._colorType===e.COLORTYPE_COLOR&&this.transColor([t.readUInt16BE(0),t.readUInt16BE(2),t.readUInt16BE(4)]),this._handleChunkEnd()},n.prototype._handleGAMA=function(t){this.read(t,this._parseGAMA.bind(this))},n.prototype._parseGAMA=function(t){this._crc.write(t),this.gamma(t.readUInt32BE(0)/e.GAMMA_DIVISION),this._handleChunkEnd()},n.prototype._handleIDAT=function(t){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-t,this._parseIDAT.bind(this,t))},n.prototype._parseIDAT=function(t,s){if(this._crc.write(s),this._colorType===e.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(s);let d=t-s.length;d>0?this._handleIDAT(d):this._handleChunkEnd()},n.prototype._handleIEND=function(t){this.read(t,this._parseIEND.bind(this))},n.prototype._parseIEND=function(t){this._crc.write(t),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this)}).call(this,f("buffer").Buffer)},{"./constants":4,"./crc":5,buffer:33}],19:[function(f,S,l){let o=f("./parser-sync"),e=f("./packer-sync");l.read=function(a,n){return o(a,n||{})},l.write=function(a,n){return e(a,n)}},{"./packer-sync":13,"./parser-sync":17}],20:[function(f,S,l){(function(o,e){(function(){let a=f("util"),n=f("stream"),t=f("./parser-async"),s=f("./packer-async"),d=f("./png-sync"),y=l.PNG=function(E){n.call(this),E=E||{},this.width=0|E.width,this.height=0|E.height,this.data=this.width>0&&this.height>0?e.alloc(4*this.width*this.height):null,E.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new t(E),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",(function(M){this.data=M,this.emit("parsed",M)}).bind(this)),this._packer=new s(E),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};a.inherits(y,n),y.sync=d,y.prototype.pack=function(){return this.data&&this.data.length?(o.nextTick((function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}).bind(this)),this):(this.emit("error","No data provided"),this)},y.prototype.parse=function(E,M){if(M){let b,k;b=(function(I){this.removeListener("error",k),this.data=I,M(null,this)}).bind(this),k=(function(I){this.removeListener("parsed",b),M(I,null)}).bind(this),this.once("parsed",b),this.once("error",k)}return this.end(E),this},y.prototype.write=function(E){return this._parser.write(E),!0},y.prototype.end=function(E){this._parser.end(E)},y.prototype._metadata=function(E){this.width=E.width,this.height=E.height,this.emit("metadata",E)},y.prototype._gamma=function(E){this.gamma=E},y.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},y.bitblt=function(E,M,b,k,I,F,N,$){if(k|=0,I|=0,F|=0,N|=0,$|=0,(b|=0)>E.width||k>E.height||b+I>E.width||k+F>E.height)throw new Error("bitblt reading outside image");if(N>M.width||$>M.height||N+I>M.width||$+F>M.height)throw new Error("bitblt writing outside image");for(let X=0;X<F;X++)E.data.copy(M.data,($+X)*M.width+N<<2,(k+X)*E.width+b<<2,(k+X)*E.width+b+I<<2)},y.prototype.bitblt=function(E,M,b,k,I,F,N){return y.bitblt(this,E,M,b,k,I,F,N),this},y.adjustGamma=function(E){if(E.gamma){for(let M=0;M<E.height;M++)for(let b=0;b<E.width;b++){let k=E.width*M+b<<2;for(let I=0;I<3;I++){let F=E.data[k+I]/255;F=Math.pow(F,.45454545454545453/E.gamma),E.data[k+I]=Math.round(255*F)}}E.gamma=0}},y.prototype.adjustGamma=function(){y.adjustGamma(this)}}).call(this)}).call(this,f("_process"),f("buffer").Buffer)},{"./packer-async":12,"./parser-async":16,"./png-sync":19,_process:60,buffer:33,stream:61,util:81}],21:[function(f,S,l){(function(o,e){(function(){let a=f("assert").ok,n=f("zlib"),t=f("util"),s=f("buffer").kMaxLength;function d(M){if(!(this instanceof d))return new d(M);M&&M.chunkSize<n.Z_MIN_CHUNK&&(M.chunkSize=n.Z_MIN_CHUNK),n.Inflate.call(this,M),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,M&&M.maxLength!=null&&(this._maxLength=M.maxLength)}function y(M,b){b&&o.nextTick(b),M._handle&&(M._handle.close(),M._handle=null)}function E(M,b){return function(k,I){if(typeof I=="string"&&(I=e.from(I)),!(I instanceof e))throw new TypeError("Not a string or buffer");let F=k._finishFlushFlag;return F==null&&(F=n.Z_FINISH),k._processChunk(I,F)}(new d(b),M)}d.prototype._processChunk=function(M,b,k){if(typeof k=="function")return n.Inflate._processChunk.call(this,M,b,k);let I,F,N=this,$=M&&M.length,X=this._chunkSize-this._offset,_=this._maxLength,p=0,O=[],W=0;function R(D,x){if(N._hadError)return;let ne=X-x;if(a(ne>=0,"have should not go down"),ne>0){let Y=N._buffer.slice(N._offset,N._offset+ne);if(N._offset+=ne,Y.length>_&&(Y=Y.slice(0,_)),O.push(Y),W+=Y.length,_-=Y.length,_===0)return!1}return(x===0||N._offset>=N._chunkSize)&&(X=N._chunkSize,N._offset=0,N._buffer=e.allocUnsafe(N._chunkSize)),x===0&&(p+=$-D,$=D,!0)}this.on("error",function(D){I=D}),a(this._handle,"zlib binding closed");do F=this._handle.writeSync(b,M,p,$,this._buffer,this._offset,X),F=F||this._writeState;while(!this._hadError&&R(F[0],F[1]));if(this._hadError)throw I;if(W>=s)throw y(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+s.toString(16)+" bytes");let C=e.concat(O,W);return y(this),C},t.inherits(d,n.Inflate),S.exports=l=E,l.Inflate=d,l.createInflate=function(M){return new d(M)},l.inflateSync=E}).call(this)}).call(this,f("_process"),f("buffer").Buffer)},{_process:60,assert:23,buffer:33,util:81,zlib:32}],22:[function(f,S,l){let o=S.exports=function(e){this._buffer=e,this._reads=[]};o.prototype.read=function(e,a){this._reads.push({length:Math.abs(e),allowLess:e<0,func:a})},o.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let e=this._reads[0];if(!this._buffer.length||!(this._buffer.length>=e.length||e.allowLess))break;{this._reads.shift();let a=this._buffer;this._buffer=a.slice(e.length),e.func.call(this,a.slice(0,e.length))}}if(this._reads.length>0)throw new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)throw new Error("unrecognised content at end of stream")}},{}],23:[function(f,S,l){(function(o){(function(){function e(R,C){if(R===C)return 0;for(var D=R.length,x=C.length,ne=0,Y=Math.min(D,x);ne<Y;++ne)if(R[ne]!==C[ne]){D=R[ne],x=C[ne];break}return D<x?-1:x<D?1:0}function a(R){return o.Buffer&&typeof o.Buffer.isBuffer=="function"?o.Buffer.isBuffer(R):!(R==null||!R._isBuffer)}var n=f("util/"),t=Object.prototype.hasOwnProperty,s=Array.prototype.slice,d=(function(){}).name==="foo";function y(R){return Object.prototype.toString.call(R)}function E(R){return!a(R)&&typeof o.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(R):!!R&&(R instanceof DataView||!!(R.buffer&&R.buffer instanceof ArrayBuffer)))}var M=S.exports=$,b=/\s*function\s+([^\(\s]*)\s*/;function k(R){if(n.isFunction(R)){if(d)return R.name;var C=R.toString().match(b);return C&&C[1]}}function I(R,C){return typeof R=="string"?R.length<C?R:R.slice(0,C):R}function F(R){if(d||!n.isFunction(R))return n.inspect(R);var C=k(R);return"[Function"+(C?": "+C:"")+"]"}function N(R,C,D,x,ne){throw new M.AssertionError({message:D,actual:R,expected:C,operator:x,stackStartFunction:ne})}function $(R,C){R||N(R,!0,C,"==",M.ok)}function X(R,C,D,x){if(R===C)return!0;if(a(R)&&a(C))return e(R,C)===0;if(n.isDate(R)&&n.isDate(C))return R.getTime()===C.getTime();if(n.isRegExp(R)&&n.isRegExp(C))return R.source===C.source&&R.global===C.global&&R.multiline===C.multiline&&R.lastIndex===C.lastIndex&&R.ignoreCase===C.ignoreCase;if(R!==null&&typeof R=="object"||C!==null&&typeof C=="object"){if(E(R)&&E(C)&&y(R)===y(C)&&!(R instanceof Float32Array||R instanceof Float64Array))return e(new Uint8Array(R.buffer),new Uint8Array(C.buffer))===0;if(a(R)!==a(C))return!1;var ne=(x=x||{actual:[],expected:[]}).actual.indexOf(R);return ne!==-1&&ne===x.expected.indexOf(C)||(x.actual.push(R),x.expected.push(C),function(Y,K,G,B){if(Y==null||K==null)return!1;if(n.isPrimitive(Y)||n.isPrimitive(K))return Y===K;if(G&&Object.getPrototypeOf(Y)!==Object.getPrototypeOf(K))return!1;var te=_(Y),T=_(K);if(te&&!T||!te&&T)return!1;if(te)return X(Y=s.call(Y),K=s.call(K),G);var P,ie,le=W(Y),fe=W(K);if(le.length!==fe.length)return!1;for(le.sort(),fe.sort(),ie=le.length-1;ie>=0;ie--)if(le[ie]!==fe[ie])return!1;for(ie=le.length-1;ie>=0;ie--)if(!X(Y[P=le[ie]],K[P],G,B))return!1;return!0}(R,C,D,x))}return D?R===C:R==C}function _(R){return Object.prototype.toString.call(R)=="[object Arguments]"}function p(R,C){if(!R||!C)return!1;if(Object.prototype.toString.call(C)=="[object RegExp]")return C.test(R);try{if(R instanceof C)return!0}catch{}return!Error.isPrototypeOf(C)&&C.call({},R)===!0}function O(R,C,D,x){var ne;if(typeof C!="function")throw new TypeError('"block" argument must be a function');typeof D=="string"&&(x=D,D=null),ne=function(G){var B;try{G()}catch(te){B=te}return B}(C),x=(D&&D.name?" ("+D.name+").":".")+(x?" "+x:"."),R&&!ne&&N(ne,D,"Missing expected exception"+x);var Y=typeof x=="string",K=!R&&ne&&!D;if((!R&&n.isError(ne)&&Y&&p(ne,D)||K)&&N(ne,D,"Got unwanted exception"+x),R&&ne&&D&&!p(ne,D)||!R&&ne)throw ne}M.AssertionError=function(R){this.name="AssertionError",this.actual=R.actual,this.expected=R.expected,this.operator=R.operator,R.message?(this.message=R.message,this.generatedMessage=!1):(this.message=function(G){return I(F(G.actual),128)+" "+G.operator+" "+I(F(G.expected),128)}(this),this.generatedMessage=!0);var C=R.stackStartFunction||N;if(Error.captureStackTrace)Error.captureStackTrace(this,C);else{var D=new Error;if(D.stack){var x=D.stack,ne=k(C),Y=x.indexOf(`
`+ne);if(Y>=0){var K=x.indexOf(`
`,Y+1);x=x.substring(K+1)}this.stack=x}}},n.inherits(M.AssertionError,Error),M.fail=N,M.ok=$,M.equal=function(R,C,D){R!=C&&N(R,C,D,"==",M.equal)},M.notEqual=function(R,C,D){R==C&&N(R,C,D,"!=",M.notEqual)},M.deepEqual=function(R,C,D){X(R,C,!1)||N(R,C,D,"deepEqual",M.deepEqual)},M.deepStrictEqual=function(R,C,D){X(R,C,!0)||N(R,C,D,"deepStrictEqual",M.deepStrictEqual)},M.notDeepEqual=function(R,C,D){X(R,C,!1)&&N(R,C,D,"notDeepEqual",M.notDeepEqual)},M.notDeepStrictEqual=function R(C,D,x){X(C,D,!0)&&N(C,D,x,"notDeepStrictEqual",R)},M.strictEqual=function(R,C,D){R!==C&&N(R,C,D,"===",M.strictEqual)},M.notStrictEqual=function(R,C,D){R===C&&N(R,C,D,"!==",M.notStrictEqual)},M.throws=function(R,C,D){O(!0,R,C,D)},M.doesNotThrow=function(R,C,D){O(!1,R,C,D)},M.ifError=function(R){if(R)throw R};var W=Object.keys||function(R){var C=[];for(var D in R)t.call(R,D)&&C.push(D);return C}}).call(this)}).call(this,q.g!==void 0?q.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"util/":26}],24:[function(f,S,l){typeof Object.create=="function"?S.exports=function(o,e){o.super_=e,o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})}:S.exports=function(o,e){o.super_=e;var a=function(){};a.prototype=e.prototype,o.prototype=new a,o.prototype.constructor=o}},{}],25:[function(f,S,l){S.exports=function(o){return o&&typeof o=="object"&&typeof o.copy=="function"&&typeof o.fill=="function"&&typeof o.readUInt8=="function"}},{}],26:[function(f,S,l){(function(o,e){(function(){var a=/%[sdj%]/g;l.format=function(Y){if(!$(Y)){for(var K=[],G=0;G<arguments.length;G++)K.push(s(arguments[G]));return K.join(" ")}G=1;for(var B=arguments,te=B.length,T=String(Y).replace(a,function(ie){if(ie==="%%")return"%";if(G>=te)return ie;switch(ie){case"%s":return String(B[G++]);case"%d":return Number(B[G++]);case"%j":try{return JSON.stringify(B[G++])}catch{return"[Circular]"}default:return ie}}),P=B[G];G<te;P=B[++G])F(P)||!p(P)?T+=" "+P:T+=" "+s(P);return T},l.deprecate=function(Y,K){if(X(e.process))return function(){return l.deprecate(Y,K).apply(this,arguments)};if(o.noDeprecation===!0)return Y;var G=!1;return function(){if(!G){if(o.throwDeprecation)throw new Error(K);o.traceDeprecation?console.trace(K):console.error(K),G=!0}return Y.apply(this,arguments)}};var n,t={};function s(Y,K){var G={seen:[],stylize:y};return arguments.length>=3&&(G.depth=arguments[2]),arguments.length>=4&&(G.colors=arguments[3]),I(K)?G.showHidden=K:K&&l._extend(G,K),X(G.showHidden)&&(G.showHidden=!1),X(G.depth)&&(G.depth=2),X(G.colors)&&(G.colors=!1),X(G.customInspect)&&(G.customInspect=!0),G.colors&&(G.stylize=d),E(G,Y,G.depth)}function d(Y,K){var G=s.styles[K];return G?"\x1B["+s.colors[G][0]+"m"+Y+"\x1B["+s.colors[G][1]+"m":Y}function y(Y,K){return Y}function E(Y,K,G){if(Y.customInspect&&K&&R(K.inspect)&&K.inspect!==l.inspect&&(!K.constructor||K.constructor.prototype!==K)){var B=K.inspect(G,Y);return $(B)||(B=E(Y,B,G)),B}var te=function(A,V){if(X(V))return A.stylize("undefined","undefined");if($(V)){var i="'"+JSON.stringify(V).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return A.stylize(i,"string")}return N(V)?A.stylize(""+V,"number"):I(V)?A.stylize(""+V,"boolean"):F(V)?A.stylize("null","null"):void 0}(Y,K);if(te)return te;var T=Object.keys(K),P=function(A){var V={};return A.forEach(function(i,r){V[i]=!0}),V}(T);if(Y.showHidden&&(T=Object.getOwnPropertyNames(K)),W(K)&&(T.indexOf("message")>=0||T.indexOf("description")>=0))return M(K);if(T.length===0){if(R(K)){var ie=K.name?": "+K.name:"";return Y.stylize("[Function"+ie+"]","special")}if(_(K))return Y.stylize(RegExp.prototype.toString.call(K),"regexp");if(O(K))return Y.stylize(Date.prototype.toString.call(K),"date");if(W(K))return M(K)}var le,fe="",m=!1,v=["{","}"];return k(K)&&(m=!0,v=["[","]"]),R(K)&&(fe=" [Function"+(K.name?": "+K.name:"")+"]"),_(K)&&(fe=" "+RegExp.prototype.toString.call(K)),O(K)&&(fe=" "+Date.prototype.toUTCString.call(K)),W(K)&&(fe=" "+M(K)),T.length!==0||m&&K.length!=0?G<0?_(K)?Y.stylize(RegExp.prototype.toString.call(K),"regexp"):Y.stylize("[Object]","special"):(Y.seen.push(K),le=m?function(A,V,i,r,h){for(var L=[],Q=0,g=V.length;Q<g;++Q)ne(V,String(Q))?L.push(b(A,V,i,r,String(Q),!0)):L.push("");return h.forEach(function(J){J.match(/^\d+$/)||L.push(b(A,V,i,r,J,!0))}),L}(Y,K,G,P,T):T.map(function(A){return b(Y,K,G,P,A,m)}),Y.seen.pop(),function(A,V,i){return A.reduce(function(r,h){return h.indexOf(`
`),r+h.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?i[0]+(V===""?"":V+`
 `)+" "+A.join(`,
  `)+" "+i[1]:i[0]+V+" "+A.join(", ")+" "+i[1]}(le,fe,v)):v[0]+fe+v[1]}function M(Y){return"["+Error.prototype.toString.call(Y)+"]"}function b(Y,K,G,B,te,T){var P,ie,le;if((le=Object.getOwnPropertyDescriptor(K,te)||{value:K[te]}).get?ie=le.set?Y.stylize("[Getter/Setter]","special"):Y.stylize("[Getter]","special"):le.set&&(ie=Y.stylize("[Setter]","special")),ne(B,te)||(P="["+te+"]"),ie||(Y.seen.indexOf(le.value)<0?(ie=F(G)?E(Y,le.value,null):E(Y,le.value,G-1)).indexOf(`
`)>-1&&(ie=T?ie.split(`
`).map(function(fe){return"  "+fe}).join(`
`).substr(2):`
`+ie.split(`
`).map(function(fe){return"   "+fe}).join(`
`)):ie=Y.stylize("[Circular]","special")),X(P)){if(T&&te.match(/^\d+$/))return ie;(P=JSON.stringify(""+te)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(P=P.substr(1,P.length-2),P=Y.stylize(P,"name")):(P=P.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),P=Y.stylize(P,"string"))}return P+": "+ie}function k(Y){return Array.isArray(Y)}function I(Y){return typeof Y=="boolean"}function F(Y){return Y===null}function N(Y){return typeof Y=="number"}function $(Y){return typeof Y=="string"}function X(Y){return Y===void 0}function _(Y){return p(Y)&&C(Y)==="[object RegExp]"}function p(Y){return typeof Y=="object"&&Y!==null}function O(Y){return p(Y)&&C(Y)==="[object Date]"}function W(Y){return p(Y)&&(C(Y)==="[object Error]"||Y instanceof Error)}function R(Y){return typeof Y=="function"}function C(Y){return Object.prototype.toString.call(Y)}function D(Y){return Y<10?"0"+Y.toString(10):Y.toString(10)}l.debuglog=function(Y){if(X(n)&&(n=o.env.NODE_DEBUG||""),Y=Y.toUpperCase(),!t[Y])if(new RegExp("\\b"+Y+"\\b","i").test(n)){var K=o.pid;t[Y]=function(){var G=l.format.apply(l,arguments);console.error("%s %d: %s",Y,K,G)}}else t[Y]=function(){};return t[Y]},l.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},l.isArray=k,l.isBoolean=I,l.isNull=F,l.isNullOrUndefined=function(Y){return Y==null},l.isNumber=N,l.isString=$,l.isSymbol=function(Y){return typeof Y=="symbol"},l.isUndefined=X,l.isRegExp=_,l.isObject=p,l.isDate=O,l.isError=W,l.isFunction=R,l.isPrimitive=function(Y){return Y===null||typeof Y=="boolean"||typeof Y=="number"||typeof Y=="string"||typeof Y=="symbol"||Y===void 0},l.isBuffer=f("./support/isBuffer");var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ne(Y,K){return Object.prototype.hasOwnProperty.call(Y,K)}l.log=function(){var Y,K;console.log("%s - %s",(Y=new Date,K=[D(Y.getHours()),D(Y.getMinutes()),D(Y.getSeconds())].join(":"),[Y.getDate(),x[Y.getMonth()],K].join(" ")),l.format.apply(l,arguments))},l.inherits=f("inherits"),l._extend=function(Y,K){if(!K||!p(K))return Y;for(var G=Object.keys(K),B=G.length;B--;)Y[G[B]]=K[G[B]];return Y}}).call(this)}).call(this,f("_process"),q.g!==void 0?q.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":25,_process:60,inherits:24}],27:[function(f,S,l){(function(o){(function(){var e=f("array-filter");S.exports=function(){return e(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],function(a){return typeof o[a]=="function"})}}).call(this)}).call(this,q.g!==void 0?q.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"array-filter":28}],28:[function(f,S,l){S.exports=function(e,a,n){if(e.filter)return e.filter(a,n);if(e==null)throw new TypeError;if(typeof a!="function")throw new TypeError;for(var t=[],s=0;s<e.length;s++)if(o.call(e,s)){var d=e[s];a.call(n,d,s,e)&&t.push(d)}return t};var o=Object.prototype.hasOwnProperty},{}],29:[function(f,S,l){l.byteLength=function(E){var M=d(E),b=M[0],k=M[1];return 3*(b+k)/4-k},l.toByteArray=function(E){var M,b,k=d(E),I=k[0],F=k[1],N=new a(function(_,p,O){return 3*(p+O)/4-O}(0,I,F)),$=0,X=F>0?I-4:I;for(b=0;b<X;b+=4)M=e[E.charCodeAt(b)]<<18|e[E.charCodeAt(b+1)]<<12|e[E.charCodeAt(b+2)]<<6|e[E.charCodeAt(b+3)],N[$++]=M>>16&255,N[$++]=M>>8&255,N[$++]=255&M;return F===2&&(M=e[E.charCodeAt(b)]<<2|e[E.charCodeAt(b+1)]>>4,N[$++]=255&M),F===1&&(M=e[E.charCodeAt(b)]<<10|e[E.charCodeAt(b+1)]<<4|e[E.charCodeAt(b+2)]>>2,N[$++]=M>>8&255,N[$++]=255&M),N},l.fromByteArray=function(E){for(var M,b=E.length,k=b%3,I=[],F=16383,N=0,$=b-k;N<$;N+=F)I.push(y(E,N,N+F>$?$:N+F));return k===1?(M=E[b-1],I.push(o[M>>2]+o[M<<4&63]+"==")):k===2&&(M=(E[b-2]<<8)+E[b-1],I.push(o[M>>10]+o[M>>4&63]+o[M<<2&63]+"=")),I.join("")};for(var o=[],e=[],a=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,s=n.length;t<s;++t)o[t]=n[t],e[n.charCodeAt(t)]=t;function d(E){var M=E.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=E.indexOf("=");return b===-1&&(b=M),[b,b===M?0:4-b%4]}function y(E,M,b){for(var k,I=[],F=M;F<b;F+=3)k=(E[F]<<16&16711680)+(E[F+1]<<8&65280)+(255&E[F+2]),I.push(o[(N=k)>>18&63]+o[N>>12&63]+o[N>>6&63]+o[63&N]);var N;return I.join("")}e[45]=62,e[95]=63},{}],30:[function(f,S,l){},{}],31:[function(f,S,l){(function(o,e){(function(){var a=f("assert"),n=f("pako/lib/zlib/zstream"),t=f("pako/lib/zlib/deflate.js"),s=f("pako/lib/zlib/inflate.js"),d=f("pako/lib/zlib/constants");for(var y in d)l[y]=d[y];l.NONE=0,l.DEFLATE=1,l.INFLATE=2,l.GZIP=3,l.GUNZIP=4,l.DEFLATERAW=5,l.INFLATERAW=6,l.UNZIP=7;function E(M){if(typeof M!="number"||M<l.DEFLATE||M>l.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=M,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}E.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,a(this.init_done,"close before init"),a(this.mode<=l.UNZIP),this.mode===l.DEFLATE||this.mode===l.GZIP||this.mode===l.DEFLATERAW?t.deflateEnd(this.strm):this.mode!==l.INFLATE&&this.mode!==l.GUNZIP&&this.mode!==l.INFLATERAW&&this.mode!==l.UNZIP||s.inflateEnd(this.strm),this.mode=l.NONE,this.dictionary=null)},E.prototype.write=function(M,b,k,I,F,N,$){return this._write(!0,M,b,k,I,F,N,$)},E.prototype.writeSync=function(M,b,k,I,F,N,$){return this._write(!1,M,b,k,I,F,N,$)},E.prototype._write=function(M,b,k,I,F,N,$,X){if(a.equal(arguments.length,8),a(this.init_done,"write before init"),a(this.mode!==l.NONE,"already finalized"),a.equal(!1,this.write_in_progress,"write already in progress"),a.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,a.equal(!1,b===void 0,"must provide flush value"),this.write_in_progress=!0,b!==l.Z_NO_FLUSH&&b!==l.Z_PARTIAL_FLUSH&&b!==l.Z_SYNC_FLUSH&&b!==l.Z_FULL_FLUSH&&b!==l.Z_FINISH&&b!==l.Z_BLOCK)throw new Error("Invalid flush value");if(k==null&&(k=e.alloc(0),F=0,I=0),this.strm.avail_in=F,this.strm.input=k,this.strm.next_in=I,this.strm.avail_out=X,this.strm.output=N,this.strm.next_out=$,this.flush=b,!M)return this._process(),this._checkError()?this._afterSync():void 0;var _=this;return o.nextTick(function(){_._process(),_._after()}),this},E.prototype._afterSync=function(){var M=this.strm.avail_out,b=this.strm.avail_in;return this.write_in_progress=!1,[b,M]},E.prototype._process=function(){var M=null;switch(this.mode){case l.DEFLATE:case l.GZIP:case l.DEFLATERAW:this.err=t.deflate(this.strm,this.flush);break;case l.UNZIP:switch(this.strm.avail_in>0&&(M=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(M===null)break;if(this.strm.input[M]!==31){this.mode=l.INFLATE;break}if(this.gzip_id_bytes_read=1,M++,this.strm.avail_in===1)break;case 1:if(M===null)break;this.strm.input[M]===139?(this.gzip_id_bytes_read=2,this.mode=l.GUNZIP):this.mode=l.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case l.INFLATE:case l.GUNZIP:case l.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===l.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===l.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===l.Z_DATA_ERROR&&(this.err=l.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===l.GUNZIP&&this.err===l.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},E.prototype._checkError=function(){switch(this.err){case l.Z_OK:case l.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===l.Z_FINISH)return this._error("unexpected end of file"),!1;break;case l.Z_STREAM_END:break;case l.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},E.prototype._after=function(){if(this._checkError()){var M=this.strm.avail_out,b=this.strm.avail_in;this.write_in_progress=!1,this.callback(b,M),this.pending_close&&this.close()}},E.prototype._error=function(M){this.strm.msg&&(M=this.strm.msg),this.onerror(M,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},E.prototype.init=function(M,b,k,I,F){a(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),a(M>=8&&M<=15,"invalid windowBits"),a(b>=-1&&b<=9,"invalid compression level"),a(k>=1&&k<=9,"invalid memlevel"),a(I===l.Z_FILTERED||I===l.Z_HUFFMAN_ONLY||I===l.Z_RLE||I===l.Z_FIXED||I===l.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(b,M,k,I,F),this._setDictionary()},E.prototype.params=function(){throw new Error("deflateParams Not supported")},E.prototype.reset=function(){this._reset(),this._setDictionary()},E.prototype._init=function(M,b,k,I,F){switch(this.level=M,this.windowBits=b,this.memLevel=k,this.strategy=I,this.flush=l.Z_NO_FLUSH,this.err=l.Z_OK,this.mode!==l.GZIP&&this.mode!==l.GUNZIP||(this.windowBits+=16),this.mode===l.UNZIP&&(this.windowBits+=32),this.mode!==l.DEFLATERAW&&this.mode!==l.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new n,this.mode){case l.DEFLATE:case l.GZIP:case l.DEFLATERAW:this.err=t.deflateInit2(this.strm,this.level,l.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case l.INFLATE:case l.GUNZIP:case l.INFLATERAW:case l.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==l.Z_OK&&this._error("Init error"),this.dictionary=F,this.write_in_progress=!1,this.init_done=!0},E.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=l.Z_OK,this.mode){case l.DEFLATE:case l.DEFLATERAW:this.err=t.deflateSetDictionary(this.strm,this.dictionary)}this.err!==l.Z_OK&&this._error("Failed to set dictionary")}},E.prototype._reset=function(){switch(this.err=l.Z_OK,this.mode){case l.DEFLATE:case l.DEFLATERAW:case l.GZIP:this.err=t.deflateReset(this.strm);break;case l.INFLATE:case l.INFLATERAW:case l.GUNZIP:this.err=s.inflateReset(this.strm)}this.err!==l.Z_OK&&this._error("Failed to reset stream")},l.Zlib=E}).call(this)}).call(this,f("_process"),f("buffer").Buffer)},{_process:60,assert:23,buffer:33,"pako/lib/zlib/constants":51,"pako/lib/zlib/deflate.js":53,"pako/lib/zlib/inflate.js":55,"pako/lib/zlib/zstream":59}],32:[function(f,S,l){(function(o){(function(){var e=f("buffer").Buffer,a=f("stream").Transform,n=f("./binding"),t=f("util"),s=f("assert").ok,d=f("buffer").kMaxLength,y="Cannot create final Buffer. It would be larger than 0x"+d.toString(16)+" bytes";n.Z_MIN_WINDOWBITS=8,n.Z_MAX_WINDOWBITS=15,n.Z_DEFAULT_WINDOWBITS=15,n.Z_MIN_CHUNK=64,n.Z_MAX_CHUNK=1/0,n.Z_DEFAULT_CHUNK=16384,n.Z_MIN_MEMLEVEL=1,n.Z_MAX_MEMLEVEL=9,n.Z_DEFAULT_MEMLEVEL=8,n.Z_MIN_LEVEL=-1,n.Z_MAX_LEVEL=9,n.Z_DEFAULT_LEVEL=n.Z_DEFAULT_COMPRESSION;for(var E=Object.keys(n),M=0;M<E.length;M++){var b=E[M];b.match(/^Z/)&&Object.defineProperty(l,b,{enumerable:!0,value:n[b],writable:!1})}for(var k={Z_OK:n.Z_OK,Z_STREAM_END:n.Z_STREAM_END,Z_NEED_DICT:n.Z_NEED_DICT,Z_ERRNO:n.Z_ERRNO,Z_STREAM_ERROR:n.Z_STREAM_ERROR,Z_DATA_ERROR:n.Z_DATA_ERROR,Z_MEM_ERROR:n.Z_MEM_ERROR,Z_BUF_ERROR:n.Z_BUF_ERROR,Z_VERSION_ERROR:n.Z_VERSION_ERROR},I=Object.keys(k),F=0;F<I.length;F++){var N=I[F];k[k[N]]=N}function $(G,B,te){var T=[],P=0;function ie(){for(var fe;(fe=G.read())!==null;)T.push(fe),P+=fe.length;G.once("readable",ie)}function le(){var fe,m=null;P>=d?m=new RangeError(y):fe=e.concat(T,P),T=[],G.close(),te(m,fe)}G.on("error",function(fe){G.removeListener("end",le),G.removeListener("readable",ie),te(fe)}),G.on("end",le),G.end(B),ie()}function X(G,B){if(typeof B=="string"&&(B=e.from(B)),!e.isBuffer(B))throw new TypeError("Not a string or buffer");var te=G._finishFlushFlag;return G._processChunk(B,te)}function _(G){if(!(this instanceof _))return new _(G);ne.call(this,G,n.DEFLATE)}function p(G){if(!(this instanceof p))return new p(G);ne.call(this,G,n.INFLATE)}function O(G){if(!(this instanceof O))return new O(G);ne.call(this,G,n.GZIP)}function W(G){if(!(this instanceof W))return new W(G);ne.call(this,G,n.GUNZIP)}function R(G){if(!(this instanceof R))return new R(G);ne.call(this,G,n.DEFLATERAW)}function C(G){if(!(this instanceof C))return new C(G);ne.call(this,G,n.INFLATERAW)}function D(G){if(!(this instanceof D))return new D(G);ne.call(this,G,n.UNZIP)}function x(G){return G===n.Z_NO_FLUSH||G===n.Z_PARTIAL_FLUSH||G===n.Z_SYNC_FLUSH||G===n.Z_FULL_FLUSH||G===n.Z_FINISH||G===n.Z_BLOCK}function ne(G,B){var te=this;if(this._opts=G=G||{},this._chunkSize=G.chunkSize||l.Z_DEFAULT_CHUNK,a.call(this,G),G.flush&&!x(G.flush))throw new Error("Invalid flush flag: "+G.flush);if(G.finishFlush&&!x(G.finishFlush))throw new Error("Invalid flush flag: "+G.finishFlush);if(this._flushFlag=G.flush||n.Z_NO_FLUSH,this._finishFlushFlag=G.finishFlush!==void 0?G.finishFlush:n.Z_FINISH,G.chunkSize&&(G.chunkSize<l.Z_MIN_CHUNK||G.chunkSize>l.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+G.chunkSize);if(G.windowBits&&(G.windowBits<l.Z_MIN_WINDOWBITS||G.windowBits>l.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+G.windowBits);if(G.level&&(G.level<l.Z_MIN_LEVEL||G.level>l.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+G.level);if(G.memLevel&&(G.memLevel<l.Z_MIN_MEMLEVEL||G.memLevel>l.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+G.memLevel);if(G.strategy&&G.strategy!=l.Z_FILTERED&&G.strategy!=l.Z_HUFFMAN_ONLY&&G.strategy!=l.Z_RLE&&G.strategy!=l.Z_FIXED&&G.strategy!=l.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+G.strategy);if(G.dictionary&&!e.isBuffer(G.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new n.Zlib(B);var T=this;this._hadError=!1,this._handle.onerror=function(le,fe){Y(T),T._hadError=!0;var m=new Error(le);m.errno=fe,m.code=l.codes[fe],T.emit("error",m)};var P=l.Z_DEFAULT_COMPRESSION;typeof G.level=="number"&&(P=G.level);var ie=l.Z_DEFAULT_STRATEGY;typeof G.strategy=="number"&&(ie=G.strategy),this._handle.init(G.windowBits||l.Z_DEFAULT_WINDOWBITS,P,G.memLevel||l.Z_DEFAULT_MEMLEVEL,ie,G.dictionary),this._buffer=e.allocUnsafe(this._chunkSize),this._offset=0,this._level=P,this._strategy=ie,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!te._handle},configurable:!0,enumerable:!0})}function Y(G,B){B&&o.nextTick(B),G._handle&&(G._handle.close(),G._handle=null)}function K(G){G.emit("close")}Object.defineProperty(l,"codes",{enumerable:!0,value:Object.freeze(k),writable:!1}),l.Deflate=_,l.Inflate=p,l.Gzip=O,l.Gunzip=W,l.DeflateRaw=R,l.InflateRaw=C,l.Unzip=D,l.createDeflate=function(G){return new _(G)},l.createInflate=function(G){return new p(G)},l.createDeflateRaw=function(G){return new R(G)},l.createInflateRaw=function(G){return new C(G)},l.createGzip=function(G){return new O(G)},l.createGunzip=function(G){return new W(G)},l.createUnzip=function(G){return new D(G)},l.deflate=function(G,B,te){return typeof B=="function"&&(te=B,B={}),$(new _(B),G,te)},l.deflateSync=function(G,B){return X(new _(B),G)},l.gzip=function(G,B,te){return typeof B=="function"&&(te=B,B={}),$(new O(B),G,te)},l.gzipSync=function(G,B){return X(new O(B),G)},l.deflateRaw=function(G,B,te){return typeof B=="function"&&(te=B,B={}),$(new R(B),G,te)},l.deflateRawSync=function(G,B){return X(new R(B),G)},l.unzip=function(G,B,te){return typeof B=="function"&&(te=B,B={}),$(new D(B),G,te)},l.unzipSync=function(G,B){return X(new D(B),G)},l.inflate=function(G,B,te){return typeof B=="function"&&(te=B,B={}),$(new p(B),G,te)},l.inflateSync=function(G,B){return X(new p(B),G)},l.gunzip=function(G,B,te){return typeof B=="function"&&(te=B,B={}),$(new W(B),G,te)},l.gunzipSync=function(G,B){return X(new W(B),G)},l.inflateRaw=function(G,B,te){return typeof B=="function"&&(te=B,B={}),$(new C(B),G,te)},l.inflateRawSync=function(G,B){return X(new C(B),G)},t.inherits(ne,a),ne.prototype.params=function(G,B,te){if(G<l.Z_MIN_LEVEL||G>l.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+G);if(B!=l.Z_FILTERED&&B!=l.Z_HUFFMAN_ONLY&&B!=l.Z_RLE&&B!=l.Z_FIXED&&B!=l.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+B);if(this._level!==G||this._strategy!==B){var T=this;this.flush(n.Z_SYNC_FLUSH,function(){s(T._handle,"zlib binding closed"),T._handle.params(G,B),T._hadError||(T._level=G,T._strategy=B,te&&te())})}else o.nextTick(te)},ne.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},ne.prototype._flush=function(G){this._transform(e.alloc(0),"",G)},ne.prototype.flush=function(G,B){var te=this,T=this._writableState;(typeof G=="function"||G===void 0&&!B)&&(B=G,G=n.Z_FULL_FLUSH),T.ended?B&&o.nextTick(B):T.ending?B&&this.once("end",B):T.needDrain?B&&this.once("drain",function(){return te.flush(G,B)}):(this._flushFlag=G,this.write(e.alloc(0),"",B))},ne.prototype.close=function(G){Y(this,G),o.nextTick(K,this)},ne.prototype._transform=function(G,B,te){var T,P=this._writableState,ie=(P.ending||P.ended)&&(!G||P.length===G.length);return G===null||e.isBuffer(G)?this._handle?(ie?T=this._finishFlushFlag:(T=this._flushFlag,G.length>=P.length&&(this._flushFlag=this._opts.flush||n.Z_NO_FLUSH)),void this._processChunk(G,T,te)):te(new Error("zlib binding closed")):te(new Error("invalid input"))},ne.prototype._processChunk=function(G,B,te){var T=G&&G.length,P=this._chunkSize-this._offset,ie=0,le=this,fe=typeof te=="function";if(!fe){var m,v=[],A=0;this.on("error",function(L){m=L}),s(this._handle,"zlib binding closed");do var V=this._handle.writeSync(B,G,ie,T,this._buffer,this._offset,P);while(!this._hadError&&h(V[0],V[1]));if(this._hadError)throw m;if(A>=d)throw Y(this),new RangeError(y);var i=e.concat(v,A);return Y(this),i}s(this._handle,"zlib binding closed");var r=this._handle.write(B,G,ie,T,this._buffer,this._offset,P);function h(L,Q){if(this&&(this.buffer=null,this.callback=null),!le._hadError){var g=P-Q;if(s(g>=0,"have should not go down"),g>0){var J=le._buffer.slice(le._offset,le._offset+g);le._offset+=g,fe?le.push(J):(v.push(J),A+=J.length)}if((Q===0||le._offset>=le._chunkSize)&&(P=le._chunkSize,le._offset=0,le._buffer=e.allocUnsafe(le._chunkSize)),Q===0){if(ie+=T-L,T=L,!fe)return!0;var oe=le._handle.write(B,G,ie,T,le._buffer,le._offset,le._chunkSize);return oe.callback=h,void(oe.buffer=G)}if(!fe)return!1;te()}}r.buffer=G,r.callback=h},t.inherits(_,ne),t.inherits(p,ne),t.inherits(O,ne),t.inherits(W,ne),t.inherits(R,ne),t.inherits(C,ne),t.inherits(D,ne)}).call(this)}).call(this,f("_process"))},{"./binding":31,_process:60,assert:23,buffer:33,stream:61,util:81}],33:[function(f,S,l){(function(o){(function(){var e=f("base64-js"),a=f("ieee754");l.Buffer=s,l.SlowBuffer=function(i){return+i!=i&&(i=0),s.alloc(+i)},l.INSPECT_MAX_BYTES=50;var n=2147483647;function t(i){if(i>n)throw new RangeError('The value "'+i+'" is invalid for option "size"');var r=new Uint8Array(i);return r.__proto__=s.prototype,r}function s(i,r,h){if(typeof i=="number"){if(typeof r=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(i)}return d(i,r,h)}function d(i,r,h){if(typeof i=="string")return function(g,J){if(typeof J=="string"&&J!==""||(J="utf8"),!s.isEncoding(J))throw new TypeError("Unknown encoding: "+J);var oe=0|k(g,J),H=t(oe),ge=H.write(g,J);return ge!==oe&&(H=H.slice(0,ge)),H}(i,r);if(ArrayBuffer.isView(i))return M(i);if(i==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i);if(A(i,ArrayBuffer)||i&&A(i.buffer,ArrayBuffer))return function(g,J,oe){if(J<0||g.byteLength<J)throw new RangeError('"offset" is outside of buffer bounds');if(g.byteLength<J+(oe||0))throw new RangeError('"length" is outside of buffer bounds');var H;return(H=J===void 0&&oe===void 0?new Uint8Array(g):oe===void 0?new Uint8Array(g,J):new Uint8Array(g,J,oe)).__proto__=s.prototype,H}(i,r,h);if(typeof i=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var L=i.valueOf&&i.valueOf();if(L!=null&&L!==i)return s.from(L,r,h);var Q=function(g){if(s.isBuffer(g)){var J=0|b(g.length),oe=t(J);return oe.length===0||g.copy(oe,0,0,J),oe}return g.length!==void 0?typeof g.length!="number"||V(g.length)?t(0):M(g):g.type==="Buffer"&&Array.isArray(g.data)?M(g.data):void 0}(i);if(Q)return Q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof i[Symbol.toPrimitive]=="function")return s.from(i[Symbol.toPrimitive]("string"),r,h);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i)}function y(i){if(typeof i!="number")throw new TypeError('"size" argument must be of type number');if(i<0)throw new RangeError('The value "'+i+'" is invalid for option "size"')}function E(i){return y(i),t(i<0?0:0|b(i))}function M(i){for(var r=i.length<0?0:0|b(i.length),h=t(r),L=0;L<r;L+=1)h[L]=255&i[L];return h}function b(i){if(i>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return 0|i}function k(i,r){if(s.isBuffer(i))return i.length;if(ArrayBuffer.isView(i)||A(i,ArrayBuffer))return i.byteLength;if(typeof i!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof i);var h=i.length,L=arguments.length>2&&arguments[2]===!0;if(!L&&h===0)return 0;for(var Q=!1;;)switch(r){case"ascii":case"latin1":case"binary":return h;case"utf8":case"utf-8":return fe(i).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*h;case"hex":return h>>>1;case"base64":return m(i).length;default:if(Q)return L?-1:fe(i).length;r=(""+r).toLowerCase(),Q=!0}}function I(i,r,h){var L=!1;if((r===void 0||r<0)&&(r=0),r>this.length||((h===void 0||h>this.length)&&(h=this.length),h<=0)||(h>>>=0)<=(r>>>=0))return"";for(i||(i="utf8");;)switch(i){case"hex":return K(this,r,h);case"utf8":case"utf-8":return D(this,r,h);case"ascii":return ne(this,r,h);case"latin1":case"binary":return Y(this,r,h);case"base64":return C(this,r,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,r,h);default:if(L)throw new TypeError("Unknown encoding: "+i);i=(i+"").toLowerCase(),L=!0}}function F(i,r,h){var L=i[r];i[r]=i[h],i[h]=L}function N(i,r,h,L,Q){if(i.length===0)return-1;if(typeof h=="string"?(L=h,h=0):h>2147483647?h=2147483647:h<-2147483648&&(h=-2147483648),V(h=+h)&&(h=Q?0:i.length-1),h<0&&(h=i.length+h),h>=i.length){if(Q)return-1;h=i.length-1}else if(h<0){if(!Q)return-1;h=0}if(typeof r=="string"&&(r=s.from(r,L)),s.isBuffer(r))return r.length===0?-1:$(i,r,h,L,Q);if(typeof r=="number")return r&=255,typeof Uint8Array.prototype.indexOf=="function"?Q?Uint8Array.prototype.indexOf.call(i,r,h):Uint8Array.prototype.lastIndexOf.call(i,r,h):$(i,[r],h,L,Q);throw new TypeError("val must be string, number or Buffer")}function $(i,r,h,L,Q){var g,J=1,oe=i.length,H=r.length;if(L!==void 0&&((L=String(L).toLowerCase())==="ucs2"||L==="ucs-2"||L==="utf16le"||L==="utf-16le")){if(i.length<2||r.length<2)return-1;J=2,oe/=2,H/=2,h/=2}function ge(ae,ue){return J===1?ae[ue]:ae.readUInt16BE(ue*J)}if(Q){var ve=-1;for(g=h;g<oe;g++)if(ge(i,g)===ge(r,ve===-1?0:g-ve)){if(ve===-1&&(ve=g),g-ve+1===H)return ve*J}else ve!==-1&&(g-=g-ve),ve=-1}else for(h+H>oe&&(h=oe-H),g=h;g>=0;g--){for(var Ie=!0,ke=0;ke<H;ke++)if(ge(i,g+ke)!==ge(r,ke)){Ie=!1;break}if(Ie)return g}return-1}function X(i,r,h,L){h=Number(h)||0;var Q=i.length-h;L?(L=Number(L))>Q&&(L=Q):L=Q;var g=r.length;L>g/2&&(L=g/2);for(var J=0;J<L;++J){var oe=parseInt(r.substr(2*J,2),16);if(V(oe))return J;i[h+J]=oe}return J}function _(i,r,h,L){return v(fe(r,i.length-h),i,h,L)}function p(i,r,h,L){return v(function(Q){for(var g=[],J=0;J<Q.length;++J)g.push(255&Q.charCodeAt(J));return g}(r),i,h,L)}function O(i,r,h,L){return p(i,r,h,L)}function W(i,r,h,L){return v(m(r),i,h,L)}function R(i,r,h,L){return v(function(Q,g){for(var J,oe,H,ge=[],ve=0;ve<Q.length&&!((g-=2)<0);++ve)oe=(J=Q.charCodeAt(ve))>>8,H=J%256,ge.push(H),ge.push(oe);return ge}(r,i.length-h),i,h,L)}function C(i,r,h){return r===0&&h===i.length?e.fromByteArray(i):e.fromByteArray(i.slice(r,h))}function D(i,r,h){h=Math.min(i.length,h);for(var L=[],Q=r;Q<h;){var g,J,oe,H,ge=i[Q],ve=null,Ie=ge>239?4:ge>223?3:ge>191?2:1;if(Q+Ie<=h)switch(Ie){case 1:ge<128&&(ve=ge);break;case 2:(192&(g=i[Q+1]))==128&&(H=(31&ge)<<6|63&g)>127&&(ve=H);break;case 3:g=i[Q+1],J=i[Q+2],(192&g)==128&&(192&J)==128&&(H=(15&ge)<<12|(63&g)<<6|63&J)>2047&&(H<55296||H>57343)&&(ve=H);break;case 4:g=i[Q+1],J=i[Q+2],oe=i[Q+3],(192&g)==128&&(192&J)==128&&(192&oe)==128&&(H=(15&ge)<<18|(63&g)<<12|(63&J)<<6|63&oe)>65535&&H<1114112&&(ve=H)}ve===null?(ve=65533,Ie=1):ve>65535&&(ve-=65536,L.push(ve>>>10&1023|55296),ve=56320|1023&ve),L.push(ve),Q+=Ie}return function(ke){var ae=ke.length;if(ae<=x)return String.fromCharCode.apply(String,ke);for(var ue="",we=0;we<ae;)ue+=String.fromCharCode.apply(String,ke.slice(we,we+=x));return ue}(L)}l.kMaxLength=n,s.TYPED_ARRAY_SUPPORT=function(){try{var i=new Uint8Array(1);return i.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},i.foo()===42}catch{return!1}}(),s.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=function(i,r,h){return d(i,r,h)},s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,s.alloc=function(i,r,h){return function(L,Q,g){return y(L),L<=0?t(L):Q!==void 0?typeof g=="string"?t(L).fill(Q,g):t(L).fill(Q):t(L)}(i,r,h)},s.allocUnsafe=function(i){return E(i)},s.allocUnsafeSlow=function(i){return E(i)},s.isBuffer=function(i){return i!=null&&i._isBuffer===!0&&i!==s.prototype},s.compare=function(i,r){if(A(i,Uint8Array)&&(i=s.from(i,i.offset,i.byteLength)),A(r,Uint8Array)&&(r=s.from(r,r.offset,r.byteLength)),!s.isBuffer(i)||!s.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(i===r)return 0;for(var h=i.length,L=r.length,Q=0,g=Math.min(h,L);Q<g;++Q)if(i[Q]!==r[Q]){h=i[Q],L=r[Q];break}return h<L?-1:L<h?1:0},s.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(i,r){if(!Array.isArray(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return s.alloc(0);var h;if(r===void 0)for(r=0,h=0;h<i.length;++h)r+=i[h].length;var L=s.allocUnsafe(r),Q=0;for(h=0;h<i.length;++h){var g=i[h];if(A(g,Uint8Array)&&(g=s.from(g)),!s.isBuffer(g))throw new TypeError('"list" argument must be an Array of Buffers');g.copy(L,Q),Q+=g.length}return L},s.byteLength=k,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var i=this.length;if(i%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<i;r+=2)F(this,r,r+1);return this},s.prototype.swap32=function(){var i=this.length;if(i%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<i;r+=4)F(this,r,r+3),F(this,r+1,r+2);return this},s.prototype.swap64=function(){var i=this.length;if(i%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<i;r+=8)F(this,r,r+7),F(this,r+1,r+6),F(this,r+2,r+5),F(this,r+3,r+4);return this},s.prototype.toString=function(){var i=this.length;return i===0?"":arguments.length===0?D(this,0,i):I.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(i){if(!s.isBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i||s.compare(this,i)===0},s.prototype.inspect=function(){var i="",r=l.INSPECT_MAX_BYTES;return i=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(i+=" ... "),"<Buffer "+i+">"},s.prototype.compare=function(i,r,h,L,Q){if(A(i,Uint8Array)&&(i=s.from(i,i.offset,i.byteLength)),!s.isBuffer(i))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof i);if(r===void 0&&(r=0),h===void 0&&(h=i?i.length:0),L===void 0&&(L=0),Q===void 0&&(Q=this.length),r<0||h>i.length||L<0||Q>this.length)throw new RangeError("out of range index");if(L>=Q&&r>=h)return 0;if(L>=Q)return-1;if(r>=h)return 1;if(this===i)return 0;for(var g=(Q>>>=0)-(L>>>=0),J=(h>>>=0)-(r>>>=0),oe=Math.min(g,J),H=this.slice(L,Q),ge=i.slice(r,h),ve=0;ve<oe;++ve)if(H[ve]!==ge[ve]){g=H[ve],J=ge[ve];break}return g<J?-1:J<g?1:0},s.prototype.includes=function(i,r,h){return this.indexOf(i,r,h)!==-1},s.prototype.indexOf=function(i,r,h){return N(this,i,r,h,!0)},s.prototype.lastIndexOf=function(i,r,h){return N(this,i,r,h,!1)},s.prototype.write=function(i,r,h,L){if(r===void 0)L="utf8",h=this.length,r=0;else if(h===void 0&&typeof r=="string")L=r,h=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r>>>=0,isFinite(h)?(h>>>=0,L===void 0&&(L="utf8")):(L=h,h=void 0)}var Q=this.length-r;if((h===void 0||h>Q)&&(h=Q),i.length>0&&(h<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");L||(L="utf8");for(var g=!1;;)switch(L){case"hex":return X(this,i,r,h);case"utf8":case"utf-8":return _(this,i,r,h);case"ascii":return p(this,i,r,h);case"latin1":case"binary":return O(this,i,r,h);case"base64":return W(this,i,r,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,i,r,h);default:if(g)throw new TypeError("Unknown encoding: "+L);L=(""+L).toLowerCase(),g=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function ne(i,r,h){var L="";h=Math.min(i.length,h);for(var Q=r;Q<h;++Q)L+=String.fromCharCode(127&i[Q]);return L}function Y(i,r,h){var L="";h=Math.min(i.length,h);for(var Q=r;Q<h;++Q)L+=String.fromCharCode(i[Q]);return L}function K(i,r,h){var L,Q=i.length;(!r||r<0)&&(r=0),(!h||h<0||h>Q)&&(h=Q);for(var g="",J=r;J<h;++J)g+=(L=i[J])<16?"0"+L.toString(16):L.toString(16);return g}function G(i,r,h){for(var L=i.slice(r,h),Q="",g=0;g<L.length;g+=2)Q+=String.fromCharCode(L[g]+256*L[g+1]);return Q}function B(i,r,h){if(i%1!=0||i<0)throw new RangeError("offset is not uint");if(i+r>h)throw new RangeError("Trying to access beyond buffer length")}function te(i,r,h,L,Q,g){if(!s.isBuffer(i))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>Q||r<g)throw new RangeError('"value" argument is out of bounds');if(h+L>i.length)throw new RangeError("Index out of range")}function T(i,r,h,L,Q,g){if(h+L>i.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("Index out of range")}function P(i,r,h,L,Q){return r=+r,h>>>=0,Q||T(i,0,h,4),a.write(i,r,h,L,23,4),h+4}function ie(i,r,h,L,Q){return r=+r,h>>>=0,Q||T(i,0,h,8),a.write(i,r,h,L,52,8),h+8}s.prototype.slice=function(i,r){var h=this.length;(i=~~i)<0?(i+=h)<0&&(i=0):i>h&&(i=h),(r=r===void 0?h:~~r)<0?(r+=h)<0&&(r=0):r>h&&(r=h),r<i&&(r=i);var L=this.subarray(i,r);return L.__proto__=s.prototype,L},s.prototype.readUIntLE=function(i,r,h){i>>>=0,r>>>=0,h||B(i,r,this.length);for(var L=this[i],Q=1,g=0;++g<r&&(Q*=256);)L+=this[i+g]*Q;return L},s.prototype.readUIntBE=function(i,r,h){i>>>=0,r>>>=0,h||B(i,r,this.length);for(var L=this[i+--r],Q=1;r>0&&(Q*=256);)L+=this[i+--r]*Q;return L},s.prototype.readUInt8=function(i,r){return i>>>=0,r||B(i,1,this.length),this[i]},s.prototype.readUInt16LE=function(i,r){return i>>>=0,r||B(i,2,this.length),this[i]|this[i+1]<<8},s.prototype.readUInt16BE=function(i,r){return i>>>=0,r||B(i,2,this.length),this[i]<<8|this[i+1]},s.prototype.readUInt32LE=function(i,r){return i>>>=0,r||B(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+16777216*this[i+3]},s.prototype.readUInt32BE=function(i,r){return i>>>=0,r||B(i,4,this.length),16777216*this[i]+(this[i+1]<<16|this[i+2]<<8|this[i+3])},s.prototype.readIntLE=function(i,r,h){i>>>=0,r>>>=0,h||B(i,r,this.length);for(var L=this[i],Q=1,g=0;++g<r&&(Q*=256);)L+=this[i+g]*Q;return L>=(Q*=128)&&(L-=Math.pow(2,8*r)),L},s.prototype.readIntBE=function(i,r,h){i>>>=0,r>>>=0,h||B(i,r,this.length);for(var L=r,Q=1,g=this[i+--L];L>0&&(Q*=256);)g+=this[i+--L]*Q;return g>=(Q*=128)&&(g-=Math.pow(2,8*r)),g},s.prototype.readInt8=function(i,r){return i>>>=0,r||B(i,1,this.length),128&this[i]?-1*(255-this[i]+1):this[i]},s.prototype.readInt16LE=function(i,r){i>>>=0,r||B(i,2,this.length);var h=this[i]|this[i+1]<<8;return 32768&h?4294901760|h:h},s.prototype.readInt16BE=function(i,r){i>>>=0,r||B(i,2,this.length);var h=this[i+1]|this[i]<<8;return 32768&h?4294901760|h:h},s.prototype.readInt32LE=function(i,r){return i>>>=0,r||B(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24},s.prototype.readInt32BE=function(i,r){return i>>>=0,r||B(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]},s.prototype.readFloatLE=function(i,r){return i>>>=0,r||B(i,4,this.length),a.read(this,i,!0,23,4)},s.prototype.readFloatBE=function(i,r){return i>>>=0,r||B(i,4,this.length),a.read(this,i,!1,23,4)},s.prototype.readDoubleLE=function(i,r){return i>>>=0,r||B(i,8,this.length),a.read(this,i,!0,52,8)},s.prototype.readDoubleBE=function(i,r){return i>>>=0,r||B(i,8,this.length),a.read(this,i,!1,52,8)},s.prototype.writeUIntLE=function(i,r,h,L){i=+i,r>>>=0,h>>>=0,L||te(this,i,r,h,Math.pow(2,8*h)-1,0);var Q=1,g=0;for(this[r]=255&i;++g<h&&(Q*=256);)this[r+g]=i/Q&255;return r+h},s.prototype.writeUIntBE=function(i,r,h,L){i=+i,r>>>=0,h>>>=0,L||te(this,i,r,h,Math.pow(2,8*h)-1,0);var Q=h-1,g=1;for(this[r+Q]=255&i;--Q>=0&&(g*=256);)this[r+Q]=i/g&255;return r+h},s.prototype.writeUInt8=function(i,r,h){return i=+i,r>>>=0,h||te(this,i,r,1,255,0),this[r]=255&i,r+1},s.prototype.writeUInt16LE=function(i,r,h){return i=+i,r>>>=0,h||te(this,i,r,2,65535,0),this[r]=255&i,this[r+1]=i>>>8,r+2},s.prototype.writeUInt16BE=function(i,r,h){return i=+i,r>>>=0,h||te(this,i,r,2,65535,0),this[r]=i>>>8,this[r+1]=255&i,r+2},s.prototype.writeUInt32LE=function(i,r,h){return i=+i,r>>>=0,h||te(this,i,r,4,4294967295,0),this[r+3]=i>>>24,this[r+2]=i>>>16,this[r+1]=i>>>8,this[r]=255&i,r+4},s.prototype.writeUInt32BE=function(i,r,h){return i=+i,r>>>=0,h||te(this,i,r,4,4294967295,0),this[r]=i>>>24,this[r+1]=i>>>16,this[r+2]=i>>>8,this[r+3]=255&i,r+4},s.prototype.writeIntLE=function(i,r,h,L){if(i=+i,r>>>=0,!L){var Q=Math.pow(2,8*h-1);te(this,i,r,h,Q-1,-Q)}var g=0,J=1,oe=0;for(this[r]=255&i;++g<h&&(J*=256);)i<0&&oe===0&&this[r+g-1]!==0&&(oe=1),this[r+g]=(i/J>>0)-oe&255;return r+h},s.prototype.writeIntBE=function(i,r,h,L){if(i=+i,r>>>=0,!L){var Q=Math.pow(2,8*h-1);te(this,i,r,h,Q-1,-Q)}var g=h-1,J=1,oe=0;for(this[r+g]=255&i;--g>=0&&(J*=256);)i<0&&oe===0&&this[r+g+1]!==0&&(oe=1),this[r+g]=(i/J>>0)-oe&255;return r+h},s.prototype.writeInt8=function(i,r,h){return i=+i,r>>>=0,h||te(this,i,r,1,127,-128),i<0&&(i=255+i+1),this[r]=255&i,r+1},s.prototype.writeInt16LE=function(i,r,h){return i=+i,r>>>=0,h||te(this,i,r,2,32767,-32768),this[r]=255&i,this[r+1]=i>>>8,r+2},s.prototype.writeInt16BE=function(i,r,h){return i=+i,r>>>=0,h||te(this,i,r,2,32767,-32768),this[r]=i>>>8,this[r+1]=255&i,r+2},s.prototype.writeInt32LE=function(i,r,h){return i=+i,r>>>=0,h||te(this,i,r,4,2147483647,-2147483648),this[r]=255&i,this[r+1]=i>>>8,this[r+2]=i>>>16,this[r+3]=i>>>24,r+4},s.prototype.writeInt32BE=function(i,r,h){return i=+i,r>>>=0,h||te(this,i,r,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),this[r]=i>>>24,this[r+1]=i>>>16,this[r+2]=i>>>8,this[r+3]=255&i,r+4},s.prototype.writeFloatLE=function(i,r,h){return P(this,i,r,!0,h)},s.prototype.writeFloatBE=function(i,r,h){return P(this,i,r,!1,h)},s.prototype.writeDoubleLE=function(i,r,h){return ie(this,i,r,!0,h)},s.prototype.writeDoubleBE=function(i,r,h){return ie(this,i,r,!1,h)},s.prototype.copy=function(i,r,h,L){if(!s.isBuffer(i))throw new TypeError("argument should be a Buffer");if(h||(h=0),L||L===0||(L=this.length),r>=i.length&&(r=i.length),r||(r=0),L>0&&L<h&&(L=h),L===h||i.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(h<0||h>=this.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("sourceEnd out of bounds");L>this.length&&(L=this.length),i.length-r<L-h&&(L=i.length-r+h);var Q=L-h;if(this===i&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(r,h,L);else if(this===i&&h<r&&r<L)for(var g=Q-1;g>=0;--g)i[g+r]=this[g+h];else Uint8Array.prototype.set.call(i,this.subarray(h,L),r);return Q},s.prototype.fill=function(i,r,h,L){if(typeof i=="string"){if(typeof r=="string"?(L=r,r=0,h=this.length):typeof h=="string"&&(L=h,h=this.length),L!==void 0&&typeof L!="string")throw new TypeError("encoding must be a string");if(typeof L=="string"&&!s.isEncoding(L))throw new TypeError("Unknown encoding: "+L);if(i.length===1){var Q=i.charCodeAt(0);(L==="utf8"&&Q<128||L==="latin1")&&(i=Q)}}else typeof i=="number"&&(i&=255);if(r<0||this.length<r||this.length<h)throw new RangeError("Out of range index");if(h<=r)return this;var g;if(r>>>=0,h=h===void 0?this.length:h>>>0,i||(i=0),typeof i=="number")for(g=r;g<h;++g)this[g]=i;else{var J=s.isBuffer(i)?i:s.from(i,L),oe=J.length;if(oe===0)throw new TypeError('The value "'+i+'" is invalid for argument "value"');for(g=0;g<h-r;++g)this[g+r]=J[g%oe]}return this};var le=/[^+/0-9A-Za-z-_]/g;function fe(i,r){var h;r=r||1/0;for(var L=i.length,Q=null,g=[],J=0;J<L;++J){if((h=i.charCodeAt(J))>55295&&h<57344){if(!Q){if(h>56319){(r-=3)>-1&&g.push(239,191,189);continue}if(J+1===L){(r-=3)>-1&&g.push(239,191,189);continue}Q=h;continue}if(h<56320){(r-=3)>-1&&g.push(239,191,189),Q=h;continue}h=65536+(Q-55296<<10|h-56320)}else Q&&(r-=3)>-1&&g.push(239,191,189);if(Q=null,h<128){if((r-=1)<0)break;g.push(h)}else if(h<2048){if((r-=2)<0)break;g.push(h>>6|192,63&h|128)}else if(h<65536){if((r-=3)<0)break;g.push(h>>12|224,h>>6&63|128,63&h|128)}else{if(!(h<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;g.push(h>>18|240,h>>12&63|128,h>>6&63|128,63&h|128)}}return g}function m(i){return e.toByteArray(function(r){if((r=(r=r.split("=")[0]).trim().replace(le,"")).length<2)return"";for(;r.length%4!=0;)r+="=";return r}(i))}function v(i,r,h,L){for(var Q=0;Q<L&&!(Q+h>=r.length||Q>=i.length);++Q)r[Q+h]=i[Q];return Q}function A(i,r){return i instanceof r||i!=null&&i.constructor!=null&&i.constructor.name!=null&&i.constructor.name===r.name}function V(i){return i!=i}}).call(this)}).call(this,f("buffer").Buffer)},{"base64-js":29,buffer:33,ieee754:44}],34:[function(f,S,l){var o,e=TypeError,a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch{a=null}var n=function(){throw new e},t=a?function(){try{return n}catch{try{return a(arguments,"callee").get}catch{return n}}}():n,s=f("has-symbols")(),d=Object.getPrototypeOf||function(_){return _.__proto__},y=o,E=o,M=o,b=typeof Uint8Array>"u"?o:d(Uint8Array),k={"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?o:ArrayBuffer,"%ArrayBufferPrototype%":typeof ArrayBuffer>"u"?o:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":s?d([][Symbol.iterator]()):o,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":o,"%AsyncFunction%":E,"%AsyncFunctionPrototype%":o,"%AsyncGenerator%":o,"%AsyncGeneratorFunction%":M,"%AsyncGeneratorPrototype%":o,"%AsyncIteratorPrototype%":o,"%Atomics%":typeof Atomics>"u"?o:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":typeof DataView>"u"?o:DataView,"%DataViewPrototype%":typeof DataView>"u"?o:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":typeof Float32Array>"u"?o:Float32Array,"%Float32ArrayPrototype%":typeof Float32Array>"u"?o:Float32Array.prototype,"%Float64Array%":typeof Float64Array>"u"?o:Float64Array,"%Float64ArrayPrototype%":typeof Float64Array>"u"?o:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":o,"%GeneratorFunction%":y,"%GeneratorPrototype%":o,"%Int8Array%":typeof Int8Array>"u"?o:Int8Array,"%Int8ArrayPrototype%":typeof Int8Array>"u"?o:Int8Array.prototype,"%Int16Array%":typeof Int16Array>"u"?o:Int16Array,"%Int16ArrayPrototype%":typeof Int16Array>"u"?o:Int8Array.prototype,"%Int32Array%":typeof Int32Array>"u"?o:Int32Array,"%Int32ArrayPrototype%":typeof Int32Array>"u"?o:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":s?d(d([][Symbol.iterator]())):o,"%JSON%":typeof JSON=="object"?JSON:o,"%JSONParse%":typeof JSON=="object"?JSON.parse:o,"%Map%":typeof Map>"u"?o:Map,"%MapIteratorPrototype%":typeof Map<"u"&&s?d(new Map()[Symbol.iterator]()):o,"%MapPrototype%":typeof Map>"u"?o:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?o:Promise,"%PromisePrototype%":typeof Promise>"u"?o:Promise.prototype,"%PromiseProto_then%":typeof Promise>"u"?o:Promise.prototype.then,"%Promise_all%":typeof Promise>"u"?o:Promise.all,"%Promise_reject%":typeof Promise>"u"?o:Promise.reject,"%Promise_resolve%":typeof Promise>"u"?o:Promise.resolve,"%Proxy%":typeof Proxy>"u"?o:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":typeof Reflect>"u"?o:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":typeof Set>"u"?o:Set,"%SetIteratorPrototype%":typeof Set<"u"&&s?d(new Set()[Symbol.iterator]()):o,"%SetPrototype%":typeof Set>"u"?o:Set.prototype,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?o:SharedArrayBuffer,"%SharedArrayBufferPrototype%":typeof SharedArrayBuffer>"u"?o:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":s?d(""[Symbol.iterator]()):o,"%StringPrototype%":String.prototype,"%Symbol%":s?Symbol:o,"%SymbolPrototype%":s?Symbol.prototype:o,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":t,"%TypedArray%":b,"%TypedArrayPrototype%":b?b.prototype:o,"%TypeError%":e,"%TypeErrorPrototype%":e.prototype,"%Uint8Array%":typeof Uint8Array>"u"?o:Uint8Array,"%Uint8ArrayPrototype%":typeof Uint8Array>"u"?o:Uint8Array.prototype,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?o:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":typeof Uint8ClampedArray>"u"?o:Uint8ClampedArray.prototype,"%Uint16Array%":typeof Uint16Array>"u"?o:Uint16Array,"%Uint16ArrayPrototype%":typeof Uint16Array>"u"?o:Uint16Array.prototype,"%Uint32Array%":typeof Uint32Array>"u"?o:Uint32Array,"%Uint32ArrayPrototype%":typeof Uint32Array>"u"?o:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":typeof WeakMap>"u"?o:WeakMap,"%WeakMapPrototype%":typeof WeakMap>"u"?o:WeakMap.prototype,"%WeakSet%":typeof WeakSet>"u"?o:WeakSet,"%WeakSetPrototype%":typeof WeakSet>"u"?o:WeakSet.prototype},I=f("function-bind").call(Function.call,String.prototype.replace),F=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,N=/\\(\\)?/g,$=function(_){var p=[];return I(_,F,function(O,W,R,C){p[p.length]=R?I(C,N,"$1"):W||O}),p},X=function(_,p){if(!(_ in k))throw new SyntaxError("intrinsic "+_+" does not exist!");if(k[_]===void 0&&!p)throw new e("intrinsic "+_+" exists, but is not available. Please file an issue!");return k[_]};S.exports=function(_,p){if(typeof _!="string"||_.length===0)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof p!="boolean")throw new TypeError('"allowMissing" argument must be a boolean');for(var O=$(_),W=X("%"+(O.length>0?O[0]:"")+"%",p),R=1;R<O.length;R+=1)if(W!=null)if(a&&R+1>=O.length){var C=a(W,O[R]);if(!p&&!(O[R]in W))throw new e("base intrinsic for "+_+" exists, but the property is not available.");W=C?C.get||C.value:W[O[R]]}else W=W[O[R]];return W}},{"function-bind":41,"has-symbols":42}],35:[function(f,S,l){var o=f("function-bind"),e=f("../GetIntrinsic")("%Function%"),a=e.apply,n=e.call;S.exports=function(){return o.apply(n,arguments)},S.exports.apply=function(){return o.apply(a,arguments)}},{"../GetIntrinsic":34,"function-bind":41}],36:[function(f,S,l){var o=f("../GetIntrinsic"),e=f("./callBind"),a=e(o("String.prototype.indexOf"));S.exports=function(n,t){var s=o(n,!!t);return typeof s=="function"&&a(n,".prototype.")?e(s):s}},{"../GetIntrinsic":34,"./callBind":35}],37:[function(f,S,l){var o=f("../GetIntrinsic")("%Object.getOwnPropertyDescriptor%");if(o)try{o([],"length")}catch{o=null}S.exports=o},{"../GetIntrinsic":34}],38:[function(f,S,l){var o,e=typeof Reflect=="object"?Reflect:null,a=e&&typeof e.apply=="function"?e.apply:function(N,$,X){return Function.prototype.apply.call(N,$,X)};o=e&&typeof e.ownKeys=="function"?e.ownKeys:Object.getOwnPropertySymbols?function(N){return Object.getOwnPropertyNames(N).concat(Object.getOwnPropertySymbols(N))}:function(N){return Object.getOwnPropertyNames(N)};var n=Number.isNaN||function(N){return N!=N};function t(){t.init.call(this)}S.exports=t,S.exports.once=function(N,$){return new Promise(function(X,_){function p(){O!==void 0&&N.removeListener("error",O),X([].slice.call(arguments))}var O;$!=="error"&&(O=function(W){N.removeListener($,p),_(W)},N.once("error",O)),N.once($,p)})},t.EventEmitter=t,t.prototype._events=void 0,t.prototype._eventsCount=0,t.prototype._maxListeners=void 0;var s=10;function d(N){if(typeof N!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}function y(N){return N._maxListeners===void 0?t.defaultMaxListeners:N._maxListeners}function E(N,$,X,_){var p,O,W,R;if(d(X),(O=N._events)===void 0?(O=N._events=Object.create(null),N._eventsCount=0):(O.newListener!==void 0&&(N.emit("newListener",$,X.listener?X.listener:X),O=N._events),W=O[$]),W===void 0)W=O[$]=X,++N._eventsCount;else if(typeof W=="function"?W=O[$]=_?[X,W]:[W,X]:_?W.unshift(X):W.push(X),(p=y(N))>0&&W.length>p&&!W.warned){W.warned=!0;var C=new Error("Possible EventEmitter memory leak detected. "+W.length+" "+String($)+" listeners added. Use emitter.setMaxListeners() to increase limit");C.name="MaxListenersExceededWarning",C.emitter=N,C.type=$,C.count=W.length,R=C,console&&console.warn&&console.warn(R)}return N}function M(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function b(N,$,X){var _={fired:!1,wrapFn:void 0,target:N,type:$,listener:X},p=M.bind(_);return p.listener=X,_.wrapFn=p,p}function k(N,$,X){var _=N._events;if(_===void 0)return[];var p=_[$];return p===void 0?[]:typeof p=="function"?X?[p.listener||p]:[p]:X?function(O){for(var W=new Array(O.length),R=0;R<W.length;++R)W[R]=O[R].listener||O[R];return W}(p):F(p,p.length)}function I(N){var $=this._events;if($!==void 0){var X=$[N];if(typeof X=="function")return 1;if(X!==void 0)return X.length}return 0}function F(N,$){for(var X=new Array($),_=0;_<$;++_)X[_]=N[_];return X}Object.defineProperty(t,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(N){if(typeof N!="number"||N<0||n(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");s=N}}),t.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},t.prototype.setMaxListeners=function(N){if(typeof N!="number"||N<0||n(N))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+N+".");return this._maxListeners=N,this},t.prototype.getMaxListeners=function(){return y(this)},t.prototype.emit=function(N){for(var $=[],X=1;X<arguments.length;X++)$.push(arguments[X]);var _=N==="error",p=this._events;if(p!==void 0)_=_&&p.error===void 0;else if(!_)return!1;if(_){var O;if($.length>0&&(O=$[0]),O instanceof Error)throw O;var W=new Error("Unhandled error."+(O?" ("+O.message+")":""));throw W.context=O,W}var R=p[N];if(R===void 0)return!1;if(typeof R=="function")a(R,this,$);else{var C=R.length,D=F(R,C);for(X=0;X<C;++X)a(D[X],this,$)}return!0},t.prototype.addListener=function(N,$){return E(this,N,$,!1)},t.prototype.on=t.prototype.addListener,t.prototype.prependListener=function(N,$){return E(this,N,$,!0)},t.prototype.once=function(N,$){return d($),this.on(N,b(this,N,$)),this},t.prototype.prependOnceListener=function(N,$){return d($),this.prependListener(N,b(this,N,$)),this},t.prototype.removeListener=function(N,$){var X,_,p,O,W;if(d($),(_=this._events)===void 0)return this;if((X=_[N])===void 0)return this;if(X===$||X.listener===$)--this._eventsCount==0?this._events=Object.create(null):(delete _[N],_.removeListener&&this.emit("removeListener",N,X.listener||$));else if(typeof X!="function"){for(p=-1,O=X.length-1;O>=0;O--)if(X[O]===$||X[O].listener===$){W=X[O].listener,p=O;break}if(p<0)return this;p===0?X.shift():function(R,C){for(;C+1<R.length;C++)R[C]=R[C+1];R.pop()}(X,p),X.length===1&&(_[N]=X[0]),_.removeListener!==void 0&&this.emit("removeListener",N,W||$)}return this},t.prototype.off=t.prototype.removeListener,t.prototype.removeAllListeners=function(N){var $,X,_;if((X=this._events)===void 0)return this;if(X.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):X[N]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete X[N]),this;if(arguments.length===0){var p,O=Object.keys(X);for(_=0;_<O.length;++_)(p=O[_])!=="removeListener"&&this.removeAllListeners(p);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof($=X[N])=="function")this.removeListener(N,$);else if($!==void 0)for(_=$.length-1;_>=0;_--)this.removeListener(N,$[_]);return this},t.prototype.listeners=function(N){return k(this,N,!0)},t.prototype.rawListeners=function(N){return k(this,N,!1)},t.listenerCount=function(N,$){return typeof N.listenerCount=="function"?N.listenerCount($):I.call(N,$)},t.prototype.listenerCount=I,t.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]}},{}],39:[function(f,S,l){var o=Object.prototype.hasOwnProperty,e=Object.prototype.toString;S.exports=function(a,n,t){if(e.call(n)!=="[object Function]")throw new TypeError("iterator must be a function");var s=a.length;if(s===+s)for(var d=0;d<s;d++)n.call(t,a[d],d,a);else for(var y in a)o.call(a,y)&&n.call(t,a[y],y,a)}},{}],40:[function(f,S,l){var o="Function.prototype.bind called on incompatible ",e=Array.prototype.slice,a=Object.prototype.toString,n="[object Function]";S.exports=function(t){var s=this;if(typeof s!="function"||a.call(s)!==n)throw new TypeError(o+s);for(var d,y=e.call(arguments,1),E=Math.max(0,s.length-y.length),M=[],b=0;b<E;b++)M.push("$"+b);if(d=Function("binder","return function ("+M.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof d){var I=s.apply(this,y.concat(e.call(arguments)));return Object(I)===I?I:this}return s.apply(t,y.concat(e.call(arguments)))}),s.prototype){var k=function(){};k.prototype=s.prototype,d.prototype=new k,k.prototype=null}return d}},{}],41:[function(f,S,l){var o=f("./implementation");S.exports=Function.prototype.bind||o},{"./implementation":40}],42:[function(f,S,l){(function(o){(function(){var e=o.Symbol,a=f("./shams");S.exports=function(){return typeof e=="function"&&typeof Symbol=="function"&&typeof e("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&a()}}).call(this)}).call(this,q.g!==void 0?q.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"./shams":43}],43:[function(f,S,l){S.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var o={},e=Symbol("test"),a=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(a)!=="[object Symbol]")return!1;for(e in o[e]=42,o)return!1;if(typeof Object.keys=="function"&&Object.keys(o).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(o).length!==0)return!1;var n=Object.getOwnPropertySymbols(o);if(n.length!==1||n[0]!==e||!Object.prototype.propertyIsEnumerable.call(o,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var t=Object.getOwnPropertyDescriptor(o,e);if(t.value!==42||t.enumerable!==!0)return!1}return!0}},{}],44:[function(f,S,l){l.read=function(o,e,a,n,t){var s,d,y=8*t-n-1,E=(1<<y)-1,M=E>>1,b=-7,k=a?t-1:0,I=a?-1:1,F=o[e+k];for(k+=I,s=F&(1<<-b)-1,F>>=-b,b+=y;b>0;s=256*s+o[e+k],k+=I,b-=8);for(d=s&(1<<-b)-1,s>>=-b,b+=n;b>0;d=256*d+o[e+k],k+=I,b-=8);if(s===0)s=1-M;else{if(s===E)return d?NaN:1/0*(F?-1:1);d+=Math.pow(2,n),s-=M}return(F?-1:1)*d*Math.pow(2,s-n)},l.write=function(o,e,a,n,t,s){var d,y,E,M=8*s-t-1,b=(1<<M)-1,k=b>>1,I=t===23?Math.pow(2,-24)-Math.pow(2,-77):0,F=n?0:s-1,N=n?1:-1,$=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(y=isNaN(e)?1:0,d=b):(d=Math.floor(Math.log(e)/Math.LN2),e*(E=Math.pow(2,-d))<1&&(d--,E*=2),(e+=d+k>=1?I/E:I*Math.pow(2,1-k))*E>=2&&(d++,E/=2),d+k>=b?(y=0,d=b):d+k>=1?(y=(e*E-1)*Math.pow(2,t),d+=k):(y=e*Math.pow(2,k-1)*Math.pow(2,t),d=0));t>=8;o[a+F]=255&y,F+=N,y/=256,t-=8);for(d=d<<t|y,M+=t;M>0;o[a+F]=255&d,F+=N,d/=256,M-=8);o[a+F-N]|=128*$}},{}],45:[function(f,S,l){typeof Object.create=="function"?S.exports=function(o,e){e&&(o.super_=e,o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}))}:S.exports=function(o,e){if(e){o.super_=e;var a=function(){};a.prototype=e.prototype,o.prototype=new a,o.prototype.constructor=o}}},{}],46:[function(f,S,l){var o=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",e=Object.prototype.toString,a=function(s){return!(o&&s&&typeof s=="object"&&Symbol.toStringTag in s)&&e.call(s)==="[object Arguments]"},n=function(s){return!!a(s)||s!==null&&typeof s=="object"&&typeof s.length=="number"&&s.length>=0&&e.call(s)!=="[object Array]"&&e.call(s.callee)==="[object Function]"},t=function(){return a(arguments)}();a.isLegacyArguments=n,S.exports=t?a:n},{}],47:[function(f,S,l){var o=Object.prototype.toString,e=Function.prototype.toString,a=/^\s*(?:function)?\*/,n=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",t=Object.getPrototypeOf,s=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}}(),d=s?t(s):{};S.exports=function(y){return typeof y=="function"&&(!!a.test(e.call(y))||(n?t(y)===d:o.call(y)==="[object GeneratorFunction]"))}},{}],48:[function(f,S,l){(function(o){(function(){var e=f("foreach"),a=f("available-typed-arrays"),n=f("es-abstract/helpers/callBound"),t=n("Object.prototype.toString"),s=f("has-symbols")()&&typeof Symbol.toStringTag=="symbol",d=a(),y=n("Array.prototype.indexOf",!0)||function(I,F){for(var N=0;N<I.length;N+=1)if(I[N]===F)return N;return-1},E=n("String.prototype.slice"),M={},b=f("es-abstract/helpers/getOwnPropertyDescriptor"),k=Object.getPrototypeOf;s&&b&&k&&e(d,function(I){var F=new o[I];if(!(Symbol.toStringTag in F))throw new EvalError("this engine has support for Symbol.toStringTag, but "+I+" does not have the property! Please report this.");var N=k(F),$=b(N,Symbol.toStringTag);if(!$){var X=k(N);$=b(X,Symbol.toStringTag)}M[I]=$.get}),S.exports=function(I){if(!I||typeof I!="object")return!1;if(!s){var F=E(t(I),8,-1);return y(d,F)>-1}return!!b&&function(N){var $=!1;return e(M,function(X,_){if(!$)try{$=X.call(N)===_}catch{}}),$}(I)}}).call(this)}).call(this,q.g!==void 0?q.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"available-typed-arrays":27,"es-abstract/helpers/callBound":36,"es-abstract/helpers/getOwnPropertyDescriptor":37,foreach:39,"has-symbols":42}],49:[function(f,S,l){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function e(t,s){return Object.prototype.hasOwnProperty.call(t,s)}l.assign=function(t){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var d=s.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var y in d)e(d,y)&&(t[y]=d[y])}}return t},l.shrinkBuf=function(t,s){return t.length===s?t:t.subarray?t.subarray(0,s):(t.length=s,t)};var a={arraySet:function(t,s,d,y,E){if(s.subarray&&t.subarray)t.set(s.subarray(d,d+y),E);else for(var M=0;M<y;M++)t[E+M]=s[d+M]},flattenChunks:function(t){var s,d,y,E,M,b;for(y=0,s=0,d=t.length;s<d;s++)y+=t[s].length;for(b=new Uint8Array(y),E=0,s=0,d=t.length;s<d;s++)M=t[s],b.set(M,E),E+=M.length;return b}},n={arraySet:function(t,s,d,y,E){for(var M=0;M<y;M++)t[E+M]=s[d+M]},flattenChunks:function(t){return[].concat.apply([],t)}};l.setTyped=function(t){t?(l.Buf8=Uint8Array,l.Buf16=Uint16Array,l.Buf32=Int32Array,l.assign(l,a)):(l.Buf8=Array,l.Buf16=Array,l.Buf32=Array,l.assign(l,n))},l.setTyped(o)},{}],50:[function(f,S,l){S.exports=function(o,e,a,n){for(var t=65535&o|0,s=o>>>16&65535|0,d=0;a!==0;){a-=d=a>2e3?2e3:a;do s=s+(t=t+e[n++]|0)|0;while(--d);t%=65521,s%=65521}return t|s<<16|0}},{}],51:[function(f,S,l){S.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],52:[function(f,S,l){var o=function(){for(var e,a=[],n=0;n<256;n++){e=n;for(var t=0;t<8;t++)e=1&e?3988292384^e>>>1:e>>>1;a[n]=e}return a}();S.exports=function(e,a,n,t){var s=o,d=t+n;e^=-1;for(var y=t;y<d;y++)e=e>>>8^s[255&(e^a[y])];return-1^e}},{}],53:[function(f,S,l){var o,e=f("../utils/common"),a=f("./trees"),n=f("./adler32"),t=f("./crc32"),s=f("./messages"),d=0,y=1,E=3,M=4,b=5,k=0,I=1,F=-2,N=-3,$=-5,X=-1,_=1,p=2,O=3,W=4,R=0,C=2,D=8,x=9,ne=15,Y=8,K=286,G=30,B=19,te=2*K+1,T=15,P=3,ie=258,le=ie+P+1,fe=32,m=42,v=69,A=73,V=91,i=103,r=113,h=666,L=1,Q=2,g=3,J=4,oe=3;function H(U,Ee){return U.msg=s[Ee],Ee}function ge(U){return(U<<1)-(U>4?9:0)}function ve(U){for(var Ee=U.length;--Ee>=0;)U[Ee]=0}function Ie(U){var Ee=U.state,Z=Ee.pending;Z>U.avail_out&&(Z=U.avail_out),Z!==0&&(e.arraySet(U.output,Ee.pending_buf,Ee.pending_out,Z,U.next_out),U.next_out+=Z,Ee.pending_out+=Z,U.total_out+=Z,U.avail_out-=Z,Ee.pending-=Z,Ee.pending===0&&(Ee.pending_out=0))}function ke(U,Ee){a._tr_flush_block(U,U.block_start>=0?U.block_start:-1,U.strstart-U.block_start,Ee),U.block_start=U.strstart,Ie(U.strm)}function ae(U,Ee){U.pending_buf[U.pending++]=Ee}function ue(U,Ee){U.pending_buf[U.pending++]=Ee>>>8&255,U.pending_buf[U.pending++]=255&Ee}function we(U,Ee){var Z,ce,Ve=U.max_chain_length,Le=U.strstart,$e=U.prev_length,De=U.nice_match,Xe=U.strstart>U.w_size-le?U.strstart-(U.w_size-le):0,Ue=U.window,Se=U.w_mask,it=U.prev,rt=U.strstart+ie,Ke=Ue[Le+$e-1],ut=Ue[Le+$e];U.prev_length>=U.good_match&&(Ve>>=2),De>U.lookahead&&(De=U.lookahead);do if(Ue[(Z=Ee)+$e]===ut&&Ue[Z+$e-1]===Ke&&Ue[Z]===Ue[Le]&&Ue[++Z]===Ue[Le+1]){Le+=2,Z++;do;while(Ue[++Le]===Ue[++Z]&&Ue[++Le]===Ue[++Z]&&Ue[++Le]===Ue[++Z]&&Ue[++Le]===Ue[++Z]&&Ue[++Le]===Ue[++Z]&&Ue[++Le]===Ue[++Z]&&Ue[++Le]===Ue[++Z]&&Ue[++Le]===Ue[++Z]&&Le<rt);if(ce=ie-(rt-Le),Le=rt-ie,ce>$e){if(U.match_start=Ee,$e=ce,ce>=De)break;Ke=Ue[Le+$e-1],ut=Ue[Le+$e]}}while((Ee=it[Ee&Se])>Xe&&--Ve!=0);return $e<=U.lookahead?$e:U.lookahead}function Be(U){var Ee,Z,ce,Ve,Le,$e,De,Xe,Ue,Se,it=U.w_size;do{if(Ve=U.window_size-U.lookahead-U.strstart,U.strstart>=it+(it-le)){e.arraySet(U.window,U.window,it,it,0),U.match_start-=it,U.strstart-=it,U.block_start-=it,Ee=Z=U.hash_size;do ce=U.head[--Ee],U.head[Ee]=ce>=it?ce-it:0;while(--Z);Ee=Z=it;do ce=U.prev[--Ee],U.prev[Ee]=ce>=it?ce-it:0;while(--Z);Ve+=it}if(U.strm.avail_in===0)break;if($e=U.strm,De=U.window,Xe=U.strstart+U.lookahead,Ue=Ve,Se=void 0,(Se=$e.avail_in)>Ue&&(Se=Ue),Z=Se===0?0:($e.avail_in-=Se,e.arraySet(De,$e.input,$e.next_in,Se,Xe),$e.state.wrap===1?$e.adler=n($e.adler,De,Se,Xe):$e.state.wrap===2&&($e.adler=t($e.adler,De,Se,Xe)),$e.next_in+=Se,$e.total_in+=Se,Se),U.lookahead+=Z,U.lookahead+U.insert>=P)for(Le=U.strstart-U.insert,U.ins_h=U.window[Le],U.ins_h=(U.ins_h<<U.hash_shift^U.window[Le+1])&U.hash_mask;U.insert&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[Le+P-1])&U.hash_mask,U.prev[Le&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=Le,Le++,U.insert--,!(U.lookahead+U.insert<P)););}while(U.lookahead<le&&U.strm.avail_in!==0)}function be(U,Ee){for(var Z,ce;;){if(U.lookahead<le){if(Be(U),U.lookahead<le&&Ee===d)return L;if(U.lookahead===0)break}if(Z=0,U.lookahead>=P&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+P-1])&U.hash_mask,Z=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),Z!==0&&U.strstart-Z<=U.w_size-le&&(U.match_length=we(U,Z)),U.match_length>=P)if(ce=a._tr_tally(U,U.strstart-U.match_start,U.match_length-P),U.lookahead-=U.match_length,U.match_length<=U.max_lazy_match&&U.lookahead>=P){U.match_length--;do U.strstart++,U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+P-1])&U.hash_mask,Z=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart;while(--U.match_length!=0);U.strstart++}else U.strstart+=U.match_length,U.match_length=0,U.ins_h=U.window[U.strstart],U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+1])&U.hash_mask;else ce=a._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++;if(ce&&(ke(U,!1),U.strm.avail_out===0))return L}return U.insert=U.strstart<P-1?U.strstart:P-1,Ee===M?(ke(U,!0),U.strm.avail_out===0?g:J):U.last_lit&&(ke(U,!1),U.strm.avail_out===0)?L:Q}function Pe(U,Ee){for(var Z,ce,Ve;;){if(U.lookahead<le){if(Be(U),U.lookahead<le&&Ee===d)return L;if(U.lookahead===0)break}if(Z=0,U.lookahead>=P&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+P-1])&U.hash_mask,Z=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),U.prev_length=U.match_length,U.prev_match=U.match_start,U.match_length=P-1,Z!==0&&U.prev_length<U.max_lazy_match&&U.strstart-Z<=U.w_size-le&&(U.match_length=we(U,Z),U.match_length<=5&&(U.strategy===_||U.match_length===P&&U.strstart-U.match_start>4096)&&(U.match_length=P-1)),U.prev_length>=P&&U.match_length<=U.prev_length){Ve=U.strstart+U.lookahead-P,ce=a._tr_tally(U,U.strstart-1-U.prev_match,U.prev_length-P),U.lookahead-=U.prev_length-1,U.prev_length-=2;do++U.strstart<=Ve&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+P-1])&U.hash_mask,Z=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart);while(--U.prev_length!=0);if(U.match_available=0,U.match_length=P-1,U.strstart++,ce&&(ke(U,!1),U.strm.avail_out===0))return L}else if(U.match_available){if((ce=a._tr_tally(U,0,U.window[U.strstart-1]))&&ke(U,!1),U.strstart++,U.lookahead--,U.strm.avail_out===0)return L}else U.match_available=1,U.strstart++,U.lookahead--}return U.match_available&&(ce=a._tr_tally(U,0,U.window[U.strstart-1]),U.match_available=0),U.insert=U.strstart<P-1?U.strstart:P-1,Ee===M?(ke(U,!0),U.strm.avail_out===0?g:J):U.last_lit&&(ke(U,!1),U.strm.avail_out===0)?L:Q}function Te(U,Ee,Z,ce,Ve){this.good_length=U,this.max_lazy=Ee,this.nice_length=Z,this.max_chain=ce,this.func=Ve}function Ne(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=D,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new e.Buf16(2*te),this.dyn_dtree=new e.Buf16(2*(2*G+1)),this.bl_tree=new e.Buf16(2*(2*B+1)),ve(this.dyn_ltree),ve(this.dyn_dtree),ve(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new e.Buf16(T+1),this.heap=new e.Buf16(2*K+1),ve(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new e.Buf16(2*K+1),ve(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function He(U){var Ee;return U&&U.state?(U.total_in=U.total_out=0,U.data_type=C,(Ee=U.state).pending=0,Ee.pending_out=0,Ee.wrap<0&&(Ee.wrap=-Ee.wrap),Ee.status=Ee.wrap?m:r,U.adler=Ee.wrap===2?0:1,Ee.last_flush=d,a._tr_init(Ee),k):H(U,F)}function Qe(U){var Ee,Z=He(U);return Z===k&&((Ee=U.state).window_size=2*Ee.w_size,ve(Ee.head),Ee.max_lazy_match=o[Ee.level].max_lazy,Ee.good_match=o[Ee.level].good_length,Ee.nice_match=o[Ee.level].nice_length,Ee.max_chain_length=o[Ee.level].max_chain,Ee.strstart=0,Ee.block_start=0,Ee.lookahead=0,Ee.insert=0,Ee.match_length=Ee.prev_length=P-1,Ee.match_available=0,Ee.ins_h=0),Z}function at(U,Ee,Z,ce,Ve,Le){if(!U)return F;var $e=1;if(Ee===X&&(Ee=6),ce<0?($e=0,ce=-ce):ce>15&&($e=2,ce-=16),Ve<1||Ve>x||Z!==D||ce<8||ce>15||Ee<0||Ee>9||Le<0||Le>W)return H(U,F);ce===8&&(ce=9);var De=new Ne;return U.state=De,De.strm=U,De.wrap=$e,De.gzhead=null,De.w_bits=ce,De.w_size=1<<De.w_bits,De.w_mask=De.w_size-1,De.hash_bits=Ve+7,De.hash_size=1<<De.hash_bits,De.hash_mask=De.hash_size-1,De.hash_shift=~~((De.hash_bits+P-1)/P),De.window=new e.Buf8(2*De.w_size),De.head=new e.Buf16(De.hash_size),De.prev=new e.Buf16(De.w_size),De.lit_bufsize=1<<Ve+6,De.pending_buf_size=4*De.lit_bufsize,De.pending_buf=new e.Buf8(De.pending_buf_size),De.d_buf=1*De.lit_bufsize,De.l_buf=3*De.lit_bufsize,De.level=Ee,De.strategy=Le,De.method=Z,Qe(U)}o=[new Te(0,0,0,0,function(U,Ee){var Z=65535;for(Z>U.pending_buf_size-5&&(Z=U.pending_buf_size-5);;){if(U.lookahead<=1){if(Be(U),U.lookahead===0&&Ee===d)return L;if(U.lookahead===0)break}U.strstart+=U.lookahead,U.lookahead=0;var ce=U.block_start+Z;if((U.strstart===0||U.strstart>=ce)&&(U.lookahead=U.strstart-ce,U.strstart=ce,ke(U,!1),U.strm.avail_out===0)||U.strstart-U.block_start>=U.w_size-le&&(ke(U,!1),U.strm.avail_out===0))return L}return U.insert=0,Ee===M?(ke(U,!0),U.strm.avail_out===0?g:J):(U.strstart>U.block_start&&(ke(U,!1),U.strm.avail_out),L)}),new Te(4,4,8,4,be),new Te(4,5,16,8,be),new Te(4,6,32,32,be),new Te(4,4,16,16,Pe),new Te(8,16,32,32,Pe),new Te(8,16,128,128,Pe),new Te(8,32,128,256,Pe),new Te(32,128,258,1024,Pe),new Te(32,258,258,4096,Pe)],l.deflateInit=function(U,Ee){return at(U,Ee,D,ne,Y,R)},l.deflateInit2=at,l.deflateReset=Qe,l.deflateResetKeep=He,l.deflateSetHeader=function(U,Ee){return U&&U.state?U.state.wrap!==2?F:(U.state.gzhead=Ee,k):F},l.deflate=function(U,Ee){var Z,ce,Ve,Le;if(!U||!U.state||Ee>b||Ee<0)return U?H(U,F):F;if(ce=U.state,!U.output||!U.input&&U.avail_in!==0||ce.status===h&&Ee!==M)return H(U,U.avail_out===0?$:F);if(ce.strm=U,Z=ce.last_flush,ce.last_flush=Ee,ce.status===m)if(ce.wrap===2)U.adler=0,ae(ce,31),ae(ce,139),ae(ce,8),ce.gzhead?(ae(ce,(ce.gzhead.text?1:0)+(ce.gzhead.hcrc?2:0)+(ce.gzhead.extra?4:0)+(ce.gzhead.name?8:0)+(ce.gzhead.comment?16:0)),ae(ce,255&ce.gzhead.time),ae(ce,ce.gzhead.time>>8&255),ae(ce,ce.gzhead.time>>16&255),ae(ce,ce.gzhead.time>>24&255),ae(ce,ce.level===9?2:ce.strategy>=p||ce.level<2?4:0),ae(ce,255&ce.gzhead.os),ce.gzhead.extra&&ce.gzhead.extra.length&&(ae(ce,255&ce.gzhead.extra.length),ae(ce,ce.gzhead.extra.length>>8&255)),ce.gzhead.hcrc&&(U.adler=t(U.adler,ce.pending_buf,ce.pending,0)),ce.gzindex=0,ce.status=v):(ae(ce,0),ae(ce,0),ae(ce,0),ae(ce,0),ae(ce,0),ae(ce,ce.level===9?2:ce.strategy>=p||ce.level<2?4:0),ae(ce,oe),ce.status=r);else{var $e=D+(ce.w_bits-8<<4)<<8;$e|=(ce.strategy>=p||ce.level<2?0:ce.level<6?1:ce.level===6?2:3)<<6,ce.strstart!==0&&($e|=fe),$e+=31-$e%31,ce.status=r,ue(ce,$e),ce.strstart!==0&&(ue(ce,U.adler>>>16),ue(ce,65535&U.adler)),U.adler=1}if(ce.status===v)if(ce.gzhead.extra){for(Ve=ce.pending;ce.gzindex<(65535&ce.gzhead.extra.length)&&(ce.pending!==ce.pending_buf_size||(ce.gzhead.hcrc&&ce.pending>Ve&&(U.adler=t(U.adler,ce.pending_buf,ce.pending-Ve,Ve)),Ie(U),Ve=ce.pending,ce.pending!==ce.pending_buf_size));)ae(ce,255&ce.gzhead.extra[ce.gzindex]),ce.gzindex++;ce.gzhead.hcrc&&ce.pending>Ve&&(U.adler=t(U.adler,ce.pending_buf,ce.pending-Ve,Ve)),ce.gzindex===ce.gzhead.extra.length&&(ce.gzindex=0,ce.status=A)}else ce.status=A;if(ce.status===A)if(ce.gzhead.name){Ve=ce.pending;do{if(ce.pending===ce.pending_buf_size&&(ce.gzhead.hcrc&&ce.pending>Ve&&(U.adler=t(U.adler,ce.pending_buf,ce.pending-Ve,Ve)),Ie(U),Ve=ce.pending,ce.pending===ce.pending_buf_size)){Le=1;break}Le=ce.gzindex<ce.gzhead.name.length?255&ce.gzhead.name.charCodeAt(ce.gzindex++):0,ae(ce,Le)}while(Le!==0);ce.gzhead.hcrc&&ce.pending>Ve&&(U.adler=t(U.adler,ce.pending_buf,ce.pending-Ve,Ve)),Le===0&&(ce.gzindex=0,ce.status=V)}else ce.status=V;if(ce.status===V)if(ce.gzhead.comment){Ve=ce.pending;do{if(ce.pending===ce.pending_buf_size&&(ce.gzhead.hcrc&&ce.pending>Ve&&(U.adler=t(U.adler,ce.pending_buf,ce.pending-Ve,Ve)),Ie(U),Ve=ce.pending,ce.pending===ce.pending_buf_size)){Le=1;break}Le=ce.gzindex<ce.gzhead.comment.length?255&ce.gzhead.comment.charCodeAt(ce.gzindex++):0,ae(ce,Le)}while(Le!==0);ce.gzhead.hcrc&&ce.pending>Ve&&(U.adler=t(U.adler,ce.pending_buf,ce.pending-Ve,Ve)),Le===0&&(ce.status=i)}else ce.status=i;if(ce.status===i&&(ce.gzhead.hcrc?(ce.pending+2>ce.pending_buf_size&&Ie(U),ce.pending+2<=ce.pending_buf_size&&(ae(ce,255&U.adler),ae(ce,U.adler>>8&255),U.adler=0,ce.status=r)):ce.status=r),ce.pending!==0){if(Ie(U),U.avail_out===0)return ce.last_flush=-1,k}else if(U.avail_in===0&&ge(Ee)<=ge(Z)&&Ee!==M)return H(U,$);if(ce.status===h&&U.avail_in!==0)return H(U,$);if(U.avail_in!==0||ce.lookahead!==0||Ee!==d&&ce.status!==h){var De=ce.strategy===p?function(Xe,Ue){for(var Se;;){if(Xe.lookahead===0&&(Be(Xe),Xe.lookahead===0)){if(Ue===d)return L;break}if(Xe.match_length=0,Se=a._tr_tally(Xe,0,Xe.window[Xe.strstart]),Xe.lookahead--,Xe.strstart++,Se&&(ke(Xe,!1),Xe.strm.avail_out===0))return L}return Xe.insert=0,Ue===M?(ke(Xe,!0),Xe.strm.avail_out===0?g:J):Xe.last_lit&&(ke(Xe,!1),Xe.strm.avail_out===0)?L:Q}(ce,Ee):ce.strategy===O?function(Xe,Ue){for(var Se,it,rt,Ke,ut=Xe.window;;){if(Xe.lookahead<=ie){if(Be(Xe),Xe.lookahead<=ie&&Ue===d)return L;if(Xe.lookahead===0)break}if(Xe.match_length=0,Xe.lookahead>=P&&Xe.strstart>0&&(it=ut[rt=Xe.strstart-1])===ut[++rt]&&it===ut[++rt]&&it===ut[++rt]){Ke=Xe.strstart+ie;do;while(it===ut[++rt]&&it===ut[++rt]&&it===ut[++rt]&&it===ut[++rt]&&it===ut[++rt]&&it===ut[++rt]&&it===ut[++rt]&&it===ut[++rt]&&rt<Ke);Xe.match_length=ie-(Ke-rt),Xe.match_length>Xe.lookahead&&(Xe.match_length=Xe.lookahead)}if(Xe.match_length>=P?(Se=a._tr_tally(Xe,1,Xe.match_length-P),Xe.lookahead-=Xe.match_length,Xe.strstart+=Xe.match_length,Xe.match_length=0):(Se=a._tr_tally(Xe,0,Xe.window[Xe.strstart]),Xe.lookahead--,Xe.strstart++),Se&&(ke(Xe,!1),Xe.strm.avail_out===0))return L}return Xe.insert=0,Ue===M?(ke(Xe,!0),Xe.strm.avail_out===0?g:J):Xe.last_lit&&(ke(Xe,!1),Xe.strm.avail_out===0)?L:Q}(ce,Ee):o[ce.level].func(ce,Ee);if(De!==g&&De!==J||(ce.status=h),De===L||De===g)return U.avail_out===0&&(ce.last_flush=-1),k;if(De===Q&&(Ee===y?a._tr_align(ce):Ee!==b&&(a._tr_stored_block(ce,0,0,!1),Ee===E&&(ve(ce.head),ce.lookahead===0&&(ce.strstart=0,ce.block_start=0,ce.insert=0))),Ie(U),U.avail_out===0))return ce.last_flush=-1,k}return Ee!==M?k:ce.wrap<=0?I:(ce.wrap===2?(ae(ce,255&U.adler),ae(ce,U.adler>>8&255),ae(ce,U.adler>>16&255),ae(ce,U.adler>>24&255),ae(ce,255&U.total_in),ae(ce,U.total_in>>8&255),ae(ce,U.total_in>>16&255),ae(ce,U.total_in>>24&255)):(ue(ce,U.adler>>>16),ue(ce,65535&U.adler)),Ie(U),ce.wrap>0&&(ce.wrap=-ce.wrap),ce.pending!==0?k:I)},l.deflateEnd=function(U){var Ee;return U&&U.state?(Ee=U.state.status)!==m&&Ee!==v&&Ee!==A&&Ee!==V&&Ee!==i&&Ee!==r&&Ee!==h?H(U,F):(U.state=null,Ee===r?H(U,N):k):F},l.deflateSetDictionary=function(U,Ee){var Z,ce,Ve,Le,$e,De,Xe,Ue,Se=Ee.length;if(!U||!U.state||(Le=(Z=U.state).wrap)===2||Le===1&&Z.status!==m||Z.lookahead)return F;for(Le===1&&(U.adler=n(U.adler,Ee,Se,0)),Z.wrap=0,Se>=Z.w_size&&(Le===0&&(ve(Z.head),Z.strstart=0,Z.block_start=0,Z.insert=0),Ue=new e.Buf8(Z.w_size),e.arraySet(Ue,Ee,Se-Z.w_size,Z.w_size,0),Ee=Ue,Se=Z.w_size),$e=U.avail_in,De=U.next_in,Xe=U.input,U.avail_in=Se,U.next_in=0,U.input=Ee,Be(Z);Z.lookahead>=P;){ce=Z.strstart,Ve=Z.lookahead-(P-1);do Z.ins_h=(Z.ins_h<<Z.hash_shift^Z.window[ce+P-1])&Z.hash_mask,Z.prev[ce&Z.w_mask]=Z.head[Z.ins_h],Z.head[Z.ins_h]=ce,ce++;while(--Ve);Z.strstart=ce,Z.lookahead=P-1,Be(Z)}return Z.strstart+=Z.lookahead,Z.block_start=Z.strstart,Z.insert=Z.lookahead,Z.lookahead=0,Z.match_length=Z.prev_length=P-1,Z.match_available=0,U.next_in=De,U.input=Xe,U.avail_in=$e,Z.wrap=Le,k},l.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":49,"./adler32":50,"./crc32":52,"./messages":57,"./trees":58}],54:[function(f,S,l){S.exports=function(o,e){var a,n,t,s,d,y,E,M,b,k,I,F,N,$,X,_,p,O,W,R,C,D,x,ne,Y;a=o.state,n=o.next_in,ne=o.input,t=n+(o.avail_in-5),s=o.next_out,Y=o.output,d=s-(e-o.avail_out),y=s+(o.avail_out-257),E=a.dmax,M=a.wsize,b=a.whave,k=a.wnext,I=a.window,F=a.hold,N=a.bits,$=a.lencode,X=a.distcode,_=(1<<a.lenbits)-1,p=(1<<a.distbits)-1;e:do{N<15&&(F+=ne[n++]<<N,N+=8,F+=ne[n++]<<N,N+=8),O=$[F&_];t:for(;;){if(F>>>=W=O>>>24,N-=W,(W=O>>>16&255)==0)Y[s++]=65535&O;else{if(!(16&W)){if(!(64&W)){O=$[(65535&O)+(F&(1<<W)-1)];continue t}if(32&W){a.mode=12;break e}o.msg="invalid literal/length code",a.mode=30;break e}R=65535&O,(W&=15)&&(N<W&&(F+=ne[n++]<<N,N+=8),R+=F&(1<<W)-1,F>>>=W,N-=W),N<15&&(F+=ne[n++]<<N,N+=8,F+=ne[n++]<<N,N+=8),O=X[F&p];i:for(;;){if(F>>>=W=O>>>24,N-=W,!(16&(W=O>>>16&255))){if(!(64&W)){O=X[(65535&O)+(F&(1<<W)-1)];continue i}o.msg="invalid distance code",a.mode=30;break e}if(C=65535&O,N<(W&=15)&&(F+=ne[n++]<<N,(N+=8)<W&&(F+=ne[n++]<<N,N+=8)),(C+=F&(1<<W)-1)>E){o.msg="invalid distance too far back",a.mode=30;break e}if(F>>>=W,N-=W,C>(W=s-d)){if((W=C-W)>b&&a.sane){o.msg="invalid distance too far back",a.mode=30;break e}if(D=0,x=I,k===0){if(D+=M-W,W<R){R-=W;do Y[s++]=I[D++];while(--W);D=s-C,x=Y}}else if(k<W){if(D+=M+k-W,(W-=k)<R){R-=W;do Y[s++]=I[D++];while(--W);if(D=0,k<R){R-=W=k;do Y[s++]=I[D++];while(--W);D=s-C,x=Y}}}else if(D+=k-W,W<R){R-=W;do Y[s++]=I[D++];while(--W);D=s-C,x=Y}for(;R>2;)Y[s++]=x[D++],Y[s++]=x[D++],Y[s++]=x[D++],R-=3;R&&(Y[s++]=x[D++],R>1&&(Y[s++]=x[D++]))}else{D=s-C;do Y[s++]=Y[D++],Y[s++]=Y[D++],Y[s++]=Y[D++],R-=3;while(R>2);R&&(Y[s++]=Y[D++],R>1&&(Y[s++]=Y[D++]))}break}}break}}while(n<t&&s<y);n-=R=N>>3,F&=(1<<(N-=R<<3))-1,o.next_in=n,o.next_out=s,o.avail_in=n<t?t-n+5:5-(n-t),o.avail_out=s<y?y-s+257:257-(s-y),a.hold=F,a.bits=N}},{}],55:[function(f,S,l){var o=f("../utils/common"),e=f("./adler32"),a=f("./crc32"),n=f("./inffast"),t=f("./inftrees"),s=0,d=1,y=2,E=4,M=5,b=6,k=0,I=1,F=2,N=-2,$=-3,X=-4,_=-5,p=8,O=1,W=2,R=3,C=4,D=5,x=6,ne=7,Y=8,K=9,G=10,B=11,te=12,T=13,P=14,ie=15,le=16,fe=17,m=18,v=19,A=20,V=21,i=22,r=23,h=24,L=25,Q=26,g=27,J=28,oe=29,H=30,ge=31,ve=852,Ie=592,ke=15;function ae(U){return(U>>>24&255)+(U>>>8&65280)+((65280&U)<<8)+((255&U)<<24)}function ue(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function we(U){var Ee;return U&&U.state?(Ee=U.state,U.total_in=U.total_out=Ee.total=0,U.msg="",Ee.wrap&&(U.adler=1&Ee.wrap),Ee.mode=O,Ee.last=0,Ee.havedict=0,Ee.dmax=32768,Ee.head=null,Ee.hold=0,Ee.bits=0,Ee.lencode=Ee.lendyn=new o.Buf32(ve),Ee.distcode=Ee.distdyn=new o.Buf32(Ie),Ee.sane=1,Ee.back=-1,k):N}function Be(U){var Ee;return U&&U.state?((Ee=U.state).wsize=0,Ee.whave=0,Ee.wnext=0,we(U)):N}function be(U,Ee){var Z,ce;return U&&U.state?(ce=U.state,Ee<0?(Z=0,Ee=-Ee):(Z=1+(Ee>>4),Ee<48&&(Ee&=15)),Ee&&(Ee<8||Ee>15)?N:(ce.window!==null&&ce.wbits!==Ee&&(ce.window=null),ce.wrap=Z,ce.wbits=Ee,Be(U))):N}function Pe(U,Ee){var Z,ce;return U?(ce=new ue,U.state=ce,ce.window=null,(Z=be(U,Ee))!==k&&(U.state=null),Z):N}var Te,Ne,He=!0;function Qe(U){if(He){var Ee;for(Te=new o.Buf32(512),Ne=new o.Buf32(32),Ee=0;Ee<144;)U.lens[Ee++]=8;for(;Ee<256;)U.lens[Ee++]=9;for(;Ee<280;)U.lens[Ee++]=7;for(;Ee<288;)U.lens[Ee++]=8;for(t(d,U.lens,0,288,Te,0,U.work,{bits:9}),Ee=0;Ee<32;)U.lens[Ee++]=5;t(y,U.lens,0,32,Ne,0,U.work,{bits:5}),He=!1}U.lencode=Te,U.lenbits=9,U.distcode=Ne,U.distbits=5}function at(U,Ee,Z,ce){var Ve,Le=U.state;return Le.window===null&&(Le.wsize=1<<Le.wbits,Le.wnext=0,Le.whave=0,Le.window=new o.Buf8(Le.wsize)),ce>=Le.wsize?(o.arraySet(Le.window,Ee,Z-Le.wsize,Le.wsize,0),Le.wnext=0,Le.whave=Le.wsize):((Ve=Le.wsize-Le.wnext)>ce&&(Ve=ce),o.arraySet(Le.window,Ee,Z-ce,Ve,Le.wnext),(ce-=Ve)?(o.arraySet(Le.window,Ee,Z-ce,ce,0),Le.wnext=ce,Le.whave=Le.wsize):(Le.wnext+=Ve,Le.wnext===Le.wsize&&(Le.wnext=0),Le.whave<Le.wsize&&(Le.whave+=Ve))),0}l.inflateReset=Be,l.inflateReset2=be,l.inflateResetKeep=we,l.inflateInit=function(U){return Pe(U,ke)},l.inflateInit2=Pe,l.inflate=function(U,Ee){var Z,ce,Ve,Le,$e,De,Xe,Ue,Se,it,rt,Ke,ut,Mt,mt,nt,vt,Rt,It,Dt,Bt,St,zt,Et,kt=0,Pt=new o.Buf8(4),Zt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!U||!U.state||!U.output||!U.input&&U.avail_in!==0)return N;(Z=U.state).mode===te&&(Z.mode=T),$e=U.next_out,Ve=U.output,Xe=U.avail_out,Le=U.next_in,ce=U.input,De=U.avail_in,Ue=Z.hold,Se=Z.bits,it=De,rt=Xe,St=k;e:for(;;)switch(Z.mode){case O:if(Z.wrap===0){Z.mode=T;break}for(;Se<16;){if(De===0)break e;De--,Ue+=ce[Le++]<<Se,Se+=8}if(2&Z.wrap&&Ue===35615){Z.check=0,Pt[0]=255&Ue,Pt[1]=Ue>>>8&255,Z.check=a(Z.check,Pt,2,0),Ue=0,Se=0,Z.mode=W;break}if(Z.flags=0,Z.head&&(Z.head.done=!1),!(1&Z.wrap)||(((255&Ue)<<8)+(Ue>>8))%31){U.msg="incorrect header check",Z.mode=H;break}if((15&Ue)!==p){U.msg="unknown compression method",Z.mode=H;break}if(Se-=4,Bt=8+(15&(Ue>>>=4)),Z.wbits===0)Z.wbits=Bt;else if(Bt>Z.wbits){U.msg="invalid window size",Z.mode=H;break}Z.dmax=1<<Bt,U.adler=Z.check=1,Z.mode=512&Ue?G:te,Ue=0,Se=0;break;case W:for(;Se<16;){if(De===0)break e;De--,Ue+=ce[Le++]<<Se,Se+=8}if(Z.flags=Ue,(255&Z.flags)!==p){U.msg="unknown compression method",Z.mode=H;break}if(57344&Z.flags){U.msg="unknown header flags set",Z.mode=H;break}Z.head&&(Z.head.text=Ue>>8&1),512&Z.flags&&(Pt[0]=255&Ue,Pt[1]=Ue>>>8&255,Z.check=a(Z.check,Pt,2,0)),Ue=0,Se=0,Z.mode=R;case R:for(;Se<32;){if(De===0)break e;De--,Ue+=ce[Le++]<<Se,Se+=8}Z.head&&(Z.head.time=Ue),512&Z.flags&&(Pt[0]=255&Ue,Pt[1]=Ue>>>8&255,Pt[2]=Ue>>>16&255,Pt[3]=Ue>>>24&255,Z.check=a(Z.check,Pt,4,0)),Ue=0,Se=0,Z.mode=C;case C:for(;Se<16;){if(De===0)break e;De--,Ue+=ce[Le++]<<Se,Se+=8}Z.head&&(Z.head.xflags=255&Ue,Z.head.os=Ue>>8),512&Z.flags&&(Pt[0]=255&Ue,Pt[1]=Ue>>>8&255,Z.check=a(Z.check,Pt,2,0)),Ue=0,Se=0,Z.mode=D;case D:if(1024&Z.flags){for(;Se<16;){if(De===0)break e;De--,Ue+=ce[Le++]<<Se,Se+=8}Z.length=Ue,Z.head&&(Z.head.extra_len=Ue),512&Z.flags&&(Pt[0]=255&Ue,Pt[1]=Ue>>>8&255,Z.check=a(Z.check,Pt,2,0)),Ue=0,Se=0}else Z.head&&(Z.head.extra=null);Z.mode=x;case x:if(1024&Z.flags&&((Ke=Z.length)>De&&(Ke=De),Ke&&(Z.head&&(Bt=Z.head.extra_len-Z.length,Z.head.extra||(Z.head.extra=new Array(Z.head.extra_len)),o.arraySet(Z.head.extra,ce,Le,Ke,Bt)),512&Z.flags&&(Z.check=a(Z.check,ce,Ke,Le)),De-=Ke,Le+=Ke,Z.length-=Ke),Z.length))break e;Z.length=0,Z.mode=ne;case ne:if(2048&Z.flags){if(De===0)break e;Ke=0;do Bt=ce[Le+Ke++],Z.head&&Bt&&Z.length<65536&&(Z.head.name+=String.fromCharCode(Bt));while(Bt&&Ke<De);if(512&Z.flags&&(Z.check=a(Z.check,ce,Ke,Le)),De-=Ke,Le+=Ke,Bt)break e}else Z.head&&(Z.head.name=null);Z.length=0,Z.mode=Y;case Y:if(4096&Z.flags){if(De===0)break e;Ke=0;do Bt=ce[Le+Ke++],Z.head&&Bt&&Z.length<65536&&(Z.head.comment+=String.fromCharCode(Bt));while(Bt&&Ke<De);if(512&Z.flags&&(Z.check=a(Z.check,ce,Ke,Le)),De-=Ke,Le+=Ke,Bt)break e}else Z.head&&(Z.head.comment=null);Z.mode=K;case K:if(512&Z.flags){for(;Se<16;){if(De===0)break e;De--,Ue+=ce[Le++]<<Se,Se+=8}if(Ue!==(65535&Z.check)){U.msg="header crc mismatch",Z.mode=H;break}Ue=0,Se=0}Z.head&&(Z.head.hcrc=Z.flags>>9&1,Z.head.done=!0),U.adler=Z.check=0,Z.mode=te;break;case G:for(;Se<32;){if(De===0)break e;De--,Ue+=ce[Le++]<<Se,Se+=8}U.adler=Z.check=ae(Ue),Ue=0,Se=0,Z.mode=B;case B:if(Z.havedict===0)return U.next_out=$e,U.avail_out=Xe,U.next_in=Le,U.avail_in=De,Z.hold=Ue,Z.bits=Se,F;U.adler=Z.check=1,Z.mode=te;case te:if(Ee===M||Ee===b)break e;case T:if(Z.last){Ue>>>=7&Se,Se-=7&Se,Z.mode=g;break}for(;Se<3;){if(De===0)break e;De--,Ue+=ce[Le++]<<Se,Se+=8}switch(Z.last=1&Ue,Se-=1,3&(Ue>>>=1)){case 0:Z.mode=P;break;case 1:if(Qe(Z),Z.mode=A,Ee===b){Ue>>>=2,Se-=2;break e}break;case 2:Z.mode=fe;break;case 3:U.msg="invalid block type",Z.mode=H}Ue>>>=2,Se-=2;break;case P:for(Ue>>>=7&Se,Se-=7&Se;Se<32;){if(De===0)break e;De--,Ue+=ce[Le++]<<Se,Se+=8}if((65535&Ue)!=(Ue>>>16^65535)){U.msg="invalid stored block lengths",Z.mode=H;break}if(Z.length=65535&Ue,Ue=0,Se=0,Z.mode=ie,Ee===b)break e;case ie:Z.mode=le;case le:if(Ke=Z.length){if(Ke>De&&(Ke=De),Ke>Xe&&(Ke=Xe),Ke===0)break e;o.arraySet(Ve,ce,Le,Ke,$e),De-=Ke,Le+=Ke,Xe-=Ke,$e+=Ke,Z.length-=Ke;break}Z.mode=te;break;case fe:for(;Se<14;){if(De===0)break e;De--,Ue+=ce[Le++]<<Se,Se+=8}if(Z.nlen=257+(31&Ue),Ue>>>=5,Se-=5,Z.ndist=1+(31&Ue),Ue>>>=5,Se-=5,Z.ncode=4+(15&Ue),Ue>>>=4,Se-=4,Z.nlen>286||Z.ndist>30){U.msg="too many length or distance symbols",Z.mode=H;break}Z.have=0,Z.mode=m;case m:for(;Z.have<Z.ncode;){for(;Se<3;){if(De===0)break e;De--,Ue+=ce[Le++]<<Se,Se+=8}Z.lens[Zt[Z.have++]]=7&Ue,Ue>>>=3,Se-=3}for(;Z.have<19;)Z.lens[Zt[Z.have++]]=0;if(Z.lencode=Z.lendyn,Z.lenbits=7,zt={bits:Z.lenbits},St=t(s,Z.lens,0,19,Z.lencode,0,Z.work,zt),Z.lenbits=zt.bits,St){U.msg="invalid code lengths set",Z.mode=H;break}Z.have=0,Z.mode=v;case v:for(;Z.have<Z.nlen+Z.ndist;){for(;nt=(kt=Z.lencode[Ue&(1<<Z.lenbits)-1])>>>16&255,vt=65535&kt,!((mt=kt>>>24)<=Se);){if(De===0)break e;De--,Ue+=ce[Le++]<<Se,Se+=8}if(vt<16)Ue>>>=mt,Se-=mt,Z.lens[Z.have++]=vt;else{if(vt===16){for(Et=mt+2;Se<Et;){if(De===0)break e;De--,Ue+=ce[Le++]<<Se,Se+=8}if(Ue>>>=mt,Se-=mt,Z.have===0){U.msg="invalid bit length repeat",Z.mode=H;break}Bt=Z.lens[Z.have-1],Ke=3+(3&Ue),Ue>>>=2,Se-=2}else if(vt===17){for(Et=mt+3;Se<Et;){if(De===0)break e;De--,Ue+=ce[Le++]<<Se,Se+=8}Se-=mt,Bt=0,Ke=3+(7&(Ue>>>=mt)),Ue>>>=3,Se-=3}else{for(Et=mt+7;Se<Et;){if(De===0)break e;De--,Ue+=ce[Le++]<<Se,Se+=8}Se-=mt,Bt=0,Ke=11+(127&(Ue>>>=mt)),Ue>>>=7,Se-=7}if(Z.have+Ke>Z.nlen+Z.ndist){U.msg="invalid bit length repeat",Z.mode=H;break}for(;Ke--;)Z.lens[Z.have++]=Bt}}if(Z.mode===H)break;if(Z.lens[256]===0){U.msg="invalid code -- missing end-of-block",Z.mode=H;break}if(Z.lenbits=9,zt={bits:Z.lenbits},St=t(d,Z.lens,0,Z.nlen,Z.lencode,0,Z.work,zt),Z.lenbits=zt.bits,St){U.msg="invalid literal/lengths set",Z.mode=H;break}if(Z.distbits=6,Z.distcode=Z.distdyn,zt={bits:Z.distbits},St=t(y,Z.lens,Z.nlen,Z.ndist,Z.distcode,0,Z.work,zt),Z.distbits=zt.bits,St){U.msg="invalid distances set",Z.mode=H;break}if(Z.mode=A,Ee===b)break e;case A:Z.mode=V;case V:if(De>=6&&Xe>=258){U.next_out=$e,U.avail_out=Xe,U.next_in=Le,U.avail_in=De,Z.hold=Ue,Z.bits=Se,n(U,rt),$e=U.next_out,Ve=U.output,Xe=U.avail_out,Le=U.next_in,ce=U.input,De=U.avail_in,Ue=Z.hold,Se=Z.bits,Z.mode===te&&(Z.back=-1);break}for(Z.back=0;nt=(kt=Z.lencode[Ue&(1<<Z.lenbits)-1])>>>16&255,vt=65535&kt,!((mt=kt>>>24)<=Se);){if(De===0)break e;De--,Ue+=ce[Le++]<<Se,Se+=8}if(nt&&!(240&nt)){for(Rt=mt,It=nt,Dt=vt;nt=(kt=Z.lencode[Dt+((Ue&(1<<Rt+It)-1)>>Rt)])>>>16&255,vt=65535&kt,!(Rt+(mt=kt>>>24)<=Se);){if(De===0)break e;De--,Ue+=ce[Le++]<<Se,Se+=8}Ue>>>=Rt,Se-=Rt,Z.back+=Rt}if(Ue>>>=mt,Se-=mt,Z.back+=mt,Z.length=vt,nt===0){Z.mode=Q;break}if(32&nt){Z.back=-1,Z.mode=te;break}if(64&nt){U.msg="invalid literal/length code",Z.mode=H;break}Z.extra=15&nt,Z.mode=i;case i:if(Z.extra){for(Et=Z.extra;Se<Et;){if(De===0)break e;De--,Ue+=ce[Le++]<<Se,Se+=8}Z.length+=Ue&(1<<Z.extra)-1,Ue>>>=Z.extra,Se-=Z.extra,Z.back+=Z.extra}Z.was=Z.length,Z.mode=r;case r:for(;nt=(kt=Z.distcode[Ue&(1<<Z.distbits)-1])>>>16&255,vt=65535&kt,!((mt=kt>>>24)<=Se);){if(De===0)break e;De--,Ue+=ce[Le++]<<Se,Se+=8}if(!(240&nt)){for(Rt=mt,It=nt,Dt=vt;nt=(kt=Z.distcode[Dt+((Ue&(1<<Rt+It)-1)>>Rt)])>>>16&255,vt=65535&kt,!(Rt+(mt=kt>>>24)<=Se);){if(De===0)break e;De--,Ue+=ce[Le++]<<Se,Se+=8}Ue>>>=Rt,Se-=Rt,Z.back+=Rt}if(Ue>>>=mt,Se-=mt,Z.back+=mt,64&nt){U.msg="invalid distance code",Z.mode=H;break}Z.offset=vt,Z.extra=15&nt,Z.mode=h;case h:if(Z.extra){for(Et=Z.extra;Se<Et;){if(De===0)break e;De--,Ue+=ce[Le++]<<Se,Se+=8}Z.offset+=Ue&(1<<Z.extra)-1,Ue>>>=Z.extra,Se-=Z.extra,Z.back+=Z.extra}if(Z.offset>Z.dmax){U.msg="invalid distance too far back",Z.mode=H;break}Z.mode=L;case L:if(Xe===0)break e;if(Ke=rt-Xe,Z.offset>Ke){if((Ke=Z.offset-Ke)>Z.whave&&Z.sane){U.msg="invalid distance too far back",Z.mode=H;break}Ke>Z.wnext?(Ke-=Z.wnext,ut=Z.wsize-Ke):ut=Z.wnext-Ke,Ke>Z.length&&(Ke=Z.length),Mt=Z.window}else Mt=Ve,ut=$e-Z.offset,Ke=Z.length;Ke>Xe&&(Ke=Xe),Xe-=Ke,Z.length-=Ke;do Ve[$e++]=Mt[ut++];while(--Ke);Z.length===0&&(Z.mode=V);break;case Q:if(Xe===0)break e;Ve[$e++]=Z.length,Xe--,Z.mode=V;break;case g:if(Z.wrap){for(;Se<32;){if(De===0)break e;De--,Ue|=ce[Le++]<<Se,Se+=8}if(rt-=Xe,U.total_out+=rt,Z.total+=rt,rt&&(U.adler=Z.check=Z.flags?a(Z.check,Ve,rt,$e-rt):e(Z.check,Ve,rt,$e-rt)),rt=Xe,(Z.flags?Ue:ae(Ue))!==Z.check){U.msg="incorrect data check",Z.mode=H;break}Ue=0,Se=0}Z.mode=J;case J:if(Z.wrap&&Z.flags){for(;Se<32;){if(De===0)break e;De--,Ue+=ce[Le++]<<Se,Se+=8}if(Ue!==(4294967295&Z.total)){U.msg="incorrect length check",Z.mode=H;break}Ue=0,Se=0}Z.mode=oe;case oe:St=I;break e;case H:St=$;break e;case ge:return X;default:return N}return U.next_out=$e,U.avail_out=Xe,U.next_in=Le,U.avail_in=De,Z.hold=Ue,Z.bits=Se,(Z.wsize||rt!==U.avail_out&&Z.mode<H&&(Z.mode<g||Ee!==E))&&at(U,U.output,U.next_out,rt-U.avail_out)?(Z.mode=ge,X):(it-=U.avail_in,rt-=U.avail_out,U.total_in+=it,U.total_out+=rt,Z.total+=rt,Z.wrap&&rt&&(U.adler=Z.check=Z.flags?a(Z.check,Ve,rt,U.next_out-rt):e(Z.check,Ve,rt,U.next_out-rt)),U.data_type=Z.bits+(Z.last?64:0)+(Z.mode===te?128:0)+(Z.mode===A||Z.mode===ie?256:0),(it===0&&rt===0||Ee===E)&&St===k&&(St=_),St)},l.inflateEnd=function(U){if(!U||!U.state)return N;var Ee=U.state;return Ee.window&&(Ee.window=null),U.state=null,k},l.inflateGetHeader=function(U,Ee){var Z;return U&&U.state&&2&(Z=U.state).wrap?(Z.head=Ee,Ee.done=!1,k):N},l.inflateSetDictionary=function(U,Ee){var Z,ce=Ee.length;return U&&U.state?(Z=U.state).wrap!==0&&Z.mode!==B?N:Z.mode===B&&e(1,Ee,ce,0)!==Z.check?$:at(U,Ee,ce,ce)?(Z.mode=ge,X):(Z.havedict=1,k):N},l.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":49,"./adler32":50,"./crc32":52,"./inffast":54,"./inftrees":56}],56:[function(f,S,l){var o=f("../utils/common"),e=15,a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],n=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],t=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];S.exports=function(d,y,E,M,b,k,I,F){var N,$,X,_,p,O,W,R,C,D=F.bits,x=0,ne=0,Y=0,K=0,G=0,B=0,te=0,T=0,P=0,ie=0,le=null,fe=0,m=new o.Buf16(16),v=new o.Buf16(16),A=null,V=0;for(x=0;x<=e;x++)m[x]=0;for(ne=0;ne<M;ne++)m[y[E+ne]]++;for(G=D,K=e;K>=1&&m[K]===0;K--);if(G>K&&(G=K),K===0)return b[k++]=20971520,b[k++]=20971520,F.bits=1,0;for(Y=1;Y<K&&m[Y]===0;Y++);for(G<Y&&(G=Y),T=1,x=1;x<=e;x++)if(T<<=1,(T-=m[x])<0)return-1;if(T>0&&(d===0||K!==1))return-1;for(v[1]=0,x=1;x<e;x++)v[x+1]=v[x]+m[x];for(ne=0;ne<M;ne++)y[E+ne]!==0&&(I[v[y[E+ne]]++]=ne);if(d===0?(le=A=I,O=19):d===1?(le=a,fe-=257,A=n,V-=257,O=256):(le=t,A=s,O=-1),ie=0,ne=0,x=Y,p=k,B=G,te=0,X=-1,_=(P=1<<G)-1,d===1&&P>852||d===2&&P>592)return 1;for(;;){W=x-te,I[ne]<O?(R=0,C=I[ne]):I[ne]>O?(R=A[V+I[ne]],C=le[fe+I[ne]]):(R=96,C=0),N=1<<x-te,Y=$=1<<B;do b[p+(ie>>te)+($-=N)]=W<<24|R<<16|C|0;while($!==0);for(N=1<<x-1;ie&N;)N>>=1;if(N!==0?(ie&=N-1,ie+=N):ie=0,ne++,--m[x]==0){if(x===K)break;x=y[E+I[ne]]}if(x>G&&(ie&_)!==X){for(te===0&&(te=G),p+=Y,T=1<<(B=x-te);B+te<K&&!((T-=m[B+te])<=0);)B++,T<<=1;if(P+=1<<B,d===1&&P>852||d===2&&P>592)return 1;b[X=ie&_]=G<<24|B<<16|p-k|0}}return ie!==0&&(b[p+ie]=x-te<<24|4194304|0),F.bits=G,0}},{"../utils/common":49}],57:[function(f,S,l){S.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],58:[function(f,S,l){var o=f("../utils/common"),e=4,a=0,n=1,t=2;function s(ae){for(var ue=ae.length;--ue>=0;)ae[ue]=0}var d=0,y=1,E=2,M=29,b=256,k=b+1+M,I=30,F=19,N=2*k+1,$=15,X=16,_=7,p=256,O=16,W=17,R=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=new Array(2*(k+2));s(Y);var K=new Array(2*I);s(K);var G=new Array(512);s(G);var B=new Array(256);s(B);var te=new Array(M);s(te);var T,P,ie,le=new Array(I);function fe(ae,ue,we,Be,be){this.static_tree=ae,this.extra_bits=ue,this.extra_base=we,this.elems=Be,this.max_length=be,this.has_stree=ae&&ae.length}function m(ae,ue){this.dyn_tree=ae,this.max_code=0,this.stat_desc=ue}function v(ae){return ae<256?G[ae]:G[256+(ae>>>7)]}function A(ae,ue){ae.pending_buf[ae.pending++]=255&ue,ae.pending_buf[ae.pending++]=ue>>>8&255}function V(ae,ue,we){ae.bi_valid>X-we?(ae.bi_buf|=ue<<ae.bi_valid&65535,A(ae,ae.bi_buf),ae.bi_buf=ue>>X-ae.bi_valid,ae.bi_valid+=we-X):(ae.bi_buf|=ue<<ae.bi_valid&65535,ae.bi_valid+=we)}function i(ae,ue,we){V(ae,we[2*ue],we[2*ue+1])}function r(ae,ue){var we=0;do we|=1&ae,ae>>>=1,we<<=1;while(--ue>0);return we>>>1}function h(ae,ue,we){var Be,be,Pe=new Array($+1),Te=0;for(Be=1;Be<=$;Be++)Pe[Be]=Te=Te+we[Be-1]<<1;for(be=0;be<=ue;be++){var Ne=ae[2*be+1];Ne!==0&&(ae[2*be]=r(Pe[Ne]++,Ne))}}function L(ae){var ue;for(ue=0;ue<k;ue++)ae.dyn_ltree[2*ue]=0;for(ue=0;ue<I;ue++)ae.dyn_dtree[2*ue]=0;for(ue=0;ue<F;ue++)ae.bl_tree[2*ue]=0;ae.dyn_ltree[2*p]=1,ae.opt_len=ae.static_len=0,ae.last_lit=ae.matches=0}function Q(ae){ae.bi_valid>8?A(ae,ae.bi_buf):ae.bi_valid>0&&(ae.pending_buf[ae.pending++]=ae.bi_buf),ae.bi_buf=0,ae.bi_valid=0}function g(ae,ue,we,Be){var be=2*ue,Pe=2*we;return ae[be]<ae[Pe]||ae[be]===ae[Pe]&&Be[ue]<=Be[we]}function J(ae,ue,we){for(var Be=ae.heap[we],be=we<<1;be<=ae.heap_len&&(be<ae.heap_len&&g(ue,ae.heap[be+1],ae.heap[be],ae.depth)&&be++,!g(ue,Be,ae.heap[be],ae.depth));)ae.heap[we]=ae.heap[be],we=be,be<<=1;ae.heap[we]=Be}function oe(ae,ue,we){var Be,be,Pe,Te,Ne=0;if(ae.last_lit!==0)do Be=ae.pending_buf[ae.d_buf+2*Ne]<<8|ae.pending_buf[ae.d_buf+2*Ne+1],be=ae.pending_buf[ae.l_buf+Ne],Ne++,Be===0?i(ae,be,ue):(i(ae,(Pe=B[be])+b+1,ue),(Te=C[Pe])!==0&&V(ae,be-=te[Pe],Te),i(ae,Pe=v(--Be),we),(Te=D[Pe])!==0&&V(ae,Be-=le[Pe],Te));while(Ne<ae.last_lit);i(ae,p,ue)}function H(ae,ue){var we,Be,be,Pe=ue.dyn_tree,Te=ue.stat_desc.static_tree,Ne=ue.stat_desc.has_stree,He=ue.stat_desc.elems,Qe=-1;for(ae.heap_len=0,ae.heap_max=N,we=0;we<He;we++)Pe[2*we]!==0?(ae.heap[++ae.heap_len]=Qe=we,ae.depth[we]=0):Pe[2*we+1]=0;for(;ae.heap_len<2;)Pe[2*(be=ae.heap[++ae.heap_len]=Qe<2?++Qe:0)]=1,ae.depth[be]=0,ae.opt_len--,Ne&&(ae.static_len-=Te[2*be+1]);for(ue.max_code=Qe,we=ae.heap_len>>1;we>=1;we--)J(ae,Pe,we);be=He;do we=ae.heap[1],ae.heap[1]=ae.heap[ae.heap_len--],J(ae,Pe,1),Be=ae.heap[1],ae.heap[--ae.heap_max]=we,ae.heap[--ae.heap_max]=Be,Pe[2*be]=Pe[2*we]+Pe[2*Be],ae.depth[be]=(ae.depth[we]>=ae.depth[Be]?ae.depth[we]:ae.depth[Be])+1,Pe[2*we+1]=Pe[2*Be+1]=be,ae.heap[1]=be++,J(ae,Pe,1);while(ae.heap_len>=2);ae.heap[--ae.heap_max]=ae.heap[1],function(at,U){var Ee,Z,ce,Ve,Le,$e,De=U.dyn_tree,Xe=U.max_code,Ue=U.stat_desc.static_tree,Se=U.stat_desc.has_stree,it=U.stat_desc.extra_bits,rt=U.stat_desc.extra_base,Ke=U.stat_desc.max_length,ut=0;for(Ve=0;Ve<=$;Ve++)at.bl_count[Ve]=0;for(De[2*at.heap[at.heap_max]+1]=0,Ee=at.heap_max+1;Ee<N;Ee++)(Ve=De[2*De[2*(Z=at.heap[Ee])+1]+1]+1)>Ke&&(Ve=Ke,ut++),De[2*Z+1]=Ve,Z>Xe||(at.bl_count[Ve]++,Le=0,Z>=rt&&(Le=it[Z-rt]),$e=De[2*Z],at.opt_len+=$e*(Ve+Le),Se&&(at.static_len+=$e*(Ue[2*Z+1]+Le)));if(ut!==0){do{for(Ve=Ke-1;at.bl_count[Ve]===0;)Ve--;at.bl_count[Ve]--,at.bl_count[Ve+1]+=2,at.bl_count[Ke]--,ut-=2}while(ut>0);for(Ve=Ke;Ve!==0;Ve--)for(Z=at.bl_count[Ve];Z!==0;)(ce=at.heap[--Ee])>Xe||(De[2*ce+1]!==Ve&&(at.opt_len+=(Ve-De[2*ce+1])*De[2*ce],De[2*ce+1]=Ve),Z--)}}(ae,ue),h(Pe,Qe,ae.bl_count)}function ge(ae,ue,we){var Be,be,Pe=-1,Te=ue[1],Ne=0,He=7,Qe=4;for(Te===0&&(He=138,Qe=3),ue[2*(we+1)+1]=65535,Be=0;Be<=we;Be++)be=Te,Te=ue[2*(Be+1)+1],++Ne<He&&be===Te||(Ne<Qe?ae.bl_tree[2*be]+=Ne:be!==0?(be!==Pe&&ae.bl_tree[2*be]++,ae.bl_tree[2*O]++):Ne<=10?ae.bl_tree[2*W]++:ae.bl_tree[2*R]++,Ne=0,Pe=be,Te===0?(He=138,Qe=3):be===Te?(He=6,Qe=3):(He=7,Qe=4))}function ve(ae,ue,we){var Be,be,Pe=-1,Te=ue[1],Ne=0,He=7,Qe=4;for(Te===0&&(He=138,Qe=3),Be=0;Be<=we;Be++)if(be=Te,Te=ue[2*(Be+1)+1],!(++Ne<He&&be===Te)){if(Ne<Qe)do i(ae,be,ae.bl_tree);while(--Ne!=0);else be!==0?(be!==Pe&&(i(ae,be,ae.bl_tree),Ne--),i(ae,O,ae.bl_tree),V(ae,Ne-3,2)):Ne<=10?(i(ae,W,ae.bl_tree),V(ae,Ne-3,3)):(i(ae,R,ae.bl_tree),V(ae,Ne-11,7));Ne=0,Pe=be,Te===0?(He=138,Qe=3):be===Te?(He=6,Qe=3):(He=7,Qe=4)}}s(le);var Ie=!1;function ke(ae,ue,we,Be){V(ae,(d<<1)+(Be?1:0),3),function(be,Pe,Te,Ne){Q(be),Ne&&(A(be,Te),A(be,~Te)),o.arraySet(be.pending_buf,be.window,Pe,Te,be.pending),be.pending+=Te}(ae,ue,we,!0)}l._tr_init=function(ae){Ie||(function(){var ue,we,Be,be,Pe,Te=new Array($+1);for(Be=0,be=0;be<M-1;be++)for(te[be]=Be,ue=0;ue<1<<C[be];ue++)B[Be++]=be;for(B[Be-1]=be,Pe=0,be=0;be<16;be++)for(le[be]=Pe,ue=0;ue<1<<D[be];ue++)G[Pe++]=be;for(Pe>>=7;be<I;be++)for(le[be]=Pe<<7,ue=0;ue<1<<D[be]-7;ue++)G[256+Pe++]=be;for(we=0;we<=$;we++)Te[we]=0;for(ue=0;ue<=143;)Y[2*ue+1]=8,ue++,Te[8]++;for(;ue<=255;)Y[2*ue+1]=9,ue++,Te[9]++;for(;ue<=279;)Y[2*ue+1]=7,ue++,Te[7]++;for(;ue<=287;)Y[2*ue+1]=8,ue++,Te[8]++;for(h(Y,k+1,Te),ue=0;ue<I;ue++)K[2*ue+1]=5,K[2*ue]=r(ue,5);T=new fe(Y,C,b+1,k,$),P=new fe(K,D,0,I,$),ie=new fe(new Array(0),x,0,F,_)}(),Ie=!0),ae.l_desc=new m(ae.dyn_ltree,T),ae.d_desc=new m(ae.dyn_dtree,P),ae.bl_desc=new m(ae.bl_tree,ie),ae.bi_buf=0,ae.bi_valid=0,L(ae)},l._tr_stored_block=ke,l._tr_flush_block=function(ae,ue,we,Be){var be,Pe,Te=0;ae.level>0?(ae.strm.data_type===t&&(ae.strm.data_type=function(Ne){var He,Qe=4093624447;for(He=0;He<=31;He++,Qe>>>=1)if(1&Qe&&Ne.dyn_ltree[2*He]!==0)return a;if(Ne.dyn_ltree[18]!==0||Ne.dyn_ltree[20]!==0||Ne.dyn_ltree[26]!==0)return n;for(He=32;He<b;He++)if(Ne.dyn_ltree[2*He]!==0)return n;return a}(ae)),H(ae,ae.l_desc),H(ae,ae.d_desc),Te=function(Ne){var He;for(ge(Ne,Ne.dyn_ltree,Ne.l_desc.max_code),ge(Ne,Ne.dyn_dtree,Ne.d_desc.max_code),H(Ne,Ne.bl_desc),He=F-1;He>=3&&Ne.bl_tree[2*ne[He]+1]===0;He--);return Ne.opt_len+=3*(He+1)+5+5+4,He}(ae),be=ae.opt_len+3+7>>>3,(Pe=ae.static_len+3+7>>>3)<=be&&(be=Pe)):be=Pe=we+5,we+4<=be&&ue!==-1?ke(ae,ue,we,Be):ae.strategy===e||Pe===be?(V(ae,(y<<1)+(Be?1:0),3),oe(ae,Y,K)):(V(ae,(E<<1)+(Be?1:0),3),function(Ne,He,Qe,at){var U;for(V(Ne,He-257,5),V(Ne,Qe-1,5),V(Ne,at-4,4),U=0;U<at;U++)V(Ne,Ne.bl_tree[2*ne[U]+1],3);ve(Ne,Ne.dyn_ltree,He-1),ve(Ne,Ne.dyn_dtree,Qe-1)}(ae,ae.l_desc.max_code+1,ae.d_desc.max_code+1,Te+1),oe(ae,ae.dyn_ltree,ae.dyn_dtree)),L(ae),Be&&Q(ae)},l._tr_tally=function(ae,ue,we){return ae.pending_buf[ae.d_buf+2*ae.last_lit]=ue>>>8&255,ae.pending_buf[ae.d_buf+2*ae.last_lit+1]=255&ue,ae.pending_buf[ae.l_buf+ae.last_lit]=255&we,ae.last_lit++,ue===0?ae.dyn_ltree[2*we]++:(ae.matches++,ue--,ae.dyn_ltree[2*(B[we]+b+1)]++,ae.dyn_dtree[2*v(ue)]++),ae.last_lit===ae.lit_bufsize-1},l._tr_align=function(ae){V(ae,y<<1,3),i(ae,p,Y),function(ue){ue.bi_valid===16?(A(ue,ue.bi_buf),ue.bi_buf=0,ue.bi_valid=0):ue.bi_valid>=8&&(ue.pending_buf[ue.pending++]=255&ue.bi_buf,ue.bi_buf>>=8,ue.bi_valid-=8)}(ae)}},{"../utils/common":49}],59:[function(f,S,l){S.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],60:[function(f,S,l){var o,e,a=S.exports={};function n(){throw new Error("setTimeout has not been defined")}function t(){throw new Error("clearTimeout has not been defined")}function s(N){if(o===setTimeout)return setTimeout(N,0);if((o===n||!o)&&setTimeout)return o=setTimeout,setTimeout(N,0);try{return o(N,0)}catch{try{return o.call(null,N,0)}catch{return o.call(this,N,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:n}catch{o=n}try{e=typeof clearTimeout=="function"?clearTimeout:t}catch{e=t}})();var d,y=[],E=!1,M=-1;function b(){E&&d&&(E=!1,d.length?y=d.concat(y):M=-1,y.length&&k())}function k(){if(!E){var N=s(b);E=!0;for(var $=y.length;$;){for(d=y,y=[];++M<$;)d&&d[M].run();M=-1,$=y.length}d=null,E=!1,function(X){if(e===clearTimeout)return clearTimeout(X);if((e===t||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(X);try{e(X)}catch{try{return e.call(null,X)}catch{return e.call(this,X)}}}(N)}}function I(N,$){this.fun=N,this.array=$}function F(){}a.nextTick=function(N){var $=new Array(arguments.length-1);if(arguments.length>1)for(var X=1;X<arguments.length;X++)$[X-1]=arguments[X];y.push(new I(N,$)),y.length!==1||E||s(k)},I.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=F,a.addListener=F,a.once=F,a.off=F,a.removeListener=F,a.removeAllListeners=F,a.emit=F,a.prependListener=F,a.prependOnceListener=F,a.listeners=function(N){return[]},a.binding=function(N){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(N){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],61:[function(f,S,l){S.exports=e;var o=f("events").EventEmitter;function e(){o.call(this)}f("inherits")(e,o),e.Readable=f("readable-stream/lib/_stream_readable.js"),e.Writable=f("readable-stream/lib/_stream_writable.js"),e.Duplex=f("readable-stream/lib/_stream_duplex.js"),e.Transform=f("readable-stream/lib/_stream_transform.js"),e.PassThrough=f("readable-stream/lib/_stream_passthrough.js"),e.finished=f("readable-stream/lib/internal/streams/end-of-stream.js"),e.pipeline=f("readable-stream/lib/internal/streams/pipeline.js"),e.Stream=e,e.prototype.pipe=function(a,n){var t=this;function s(I){a.writable&&a.write(I)===!1&&t.pause&&t.pause()}function d(){t.readable&&t.resume&&t.resume()}t.on("data",s),a.on("drain",d),a._isStdio||n&&n.end===!1||(t.on("end",E),t.on("close",M));var y=!1;function E(){y||(y=!0,a.end())}function M(){y||(y=!0,typeof a.destroy=="function"&&a.destroy())}function b(I){if(k(),o.listenerCount(this,"error")===0)throw I}function k(){t.removeListener("data",s),a.removeListener("drain",d),t.removeListener("end",E),t.removeListener("close",M),t.removeListener("error",b),a.removeListener("error",b),t.removeListener("end",k),t.removeListener("close",k),a.removeListener("close",k)}return t.on("error",b),a.on("error",b),t.on("end",k),t.on("close",k),a.on("close",k),a.emit("pipe",t),a}},{events:38,inherits:45,"readable-stream/lib/_stream_duplex.js":63,"readable-stream/lib/_stream_passthrough.js":64,"readable-stream/lib/_stream_readable.js":65,"readable-stream/lib/_stream_transform.js":66,"readable-stream/lib/_stream_writable.js":67,"readable-stream/lib/internal/streams/end-of-stream.js":71,"readable-stream/lib/internal/streams/pipeline.js":73}],62:[function(f,S,l){var o={};function e(n,t,s){s||(s=Error);var d=function(y){function E(k,I,F){return y.call(this,function(N,$,X){return typeof t=="string"?t:t(N,$,X)}(k,I,F))||this}return b=y,(M=E).prototype=Object.create(b.prototype),M.prototype.constructor=M,M.__proto__=b,E;var M,b}(s);d.prototype.name=s.name,d.prototype.code=n,o[n]=d}function a(n,t){if(Array.isArray(n)){var s=n.length;return n=n.map(function(d){return String(d)}),s>2?"one of ".concat(t," ").concat(n.slice(0,s-1).join(", "),", or ")+n[s-1]:s===2?"one of ".concat(t," ").concat(n[0]," or ").concat(n[1]):"of ".concat(t," ").concat(n[0])}return"of ".concat(t," ").concat(String(n))}e("ERR_INVALID_OPT_VALUE",function(n,t){return'The value "'+t+'" is invalid for option "'+n+'"'},TypeError),e("ERR_INVALID_ARG_TYPE",function(n,t,s){var d,y,E;if(typeof t=="string"&&(E="not ",t.substr(0,E.length)===E)?(d="must not be",t=t.replace(/^not /,"")):d="must be",function(b,k,I){return(I===void 0||I>b.length)&&(I=b.length),b.substring(I-k.length,I)===k}(n," argument"))y="The ".concat(n," ").concat(d," ").concat(a(t,"type"));else{var M=function(b,k,I){return typeof I!="number"&&(I=0),!(I+k.length>b.length)&&b.indexOf(k,I)!==-1}(n,".")?"property":"argument";y='The "'.concat(n,'" ').concat(M," ").concat(d," ").concat(a(t,"type"))}return y+". Received type ".concat(typeof s)},TypeError),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),e("ERR_METHOD_NOT_IMPLEMENTED",function(n){return"The "+n+" method is not implemented"}),e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),e("ERR_STREAM_DESTROYED",function(n){return"Cannot call "+n+" after a stream was destroyed"}),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),e("ERR_STREAM_WRITE_AFTER_END","write after end"),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_UNKNOWN_ENCODING",function(n){return"Unknown encoding: "+n},TypeError),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),S.exports.codes=o},{}],63:[function(f,S,l){(function(o){(function(){var e=Object.keys||function(b){var k=[];for(var I in b)k.push(I);return k};S.exports=y;var a=f("./_stream_readable"),n=f("./_stream_writable");f("inherits")(y,a);for(var t=e(n.prototype),s=0;s<t.length;s++){var d=t[s];y.prototype[d]||(y.prototype[d]=n.prototype[d])}function y(b){if(!(this instanceof y))return new y(b);a.call(this,b),n.call(this,b),this.allowHalfOpen=!0,b&&(b.readable===!1&&(this.readable=!1),b.writable===!1&&(this.writable=!1),b.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",E)))}function E(){this._writableState.ended||o.nextTick(M,this)}function M(b){b.end()}Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(y.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(b){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=b,this._writableState.destroyed=b)}})}).call(this)}).call(this,f("_process"))},{"./_stream_readable":65,"./_stream_writable":67,_process:60,inherits:45}],64:[function(f,S,l){S.exports=e;var o=f("./_stream_transform");function e(a){if(!(this instanceof e))return new e(a);o.call(this,a)}f("inherits")(e,o),e.prototype._transform=function(a,n,t){t(null,a)}},{"./_stream_transform":66,inherits:45}],65:[function(f,S,l){(function(o,e){(function(){var a;S.exports=D,D.ReadableState=C,f("events").EventEmitter;var n=function(i,r){return i.listeners(r).length},t=f("./internal/streams/stream"),s=f("buffer").Buffer,d=e.Uint8Array||function(){},y,E=f("util");y=E&&E.debuglog?E.debuglog("stream"):function(){};var M,b,k,I=f("./internal/streams/buffer_list"),F=f("./internal/streams/destroy"),N=f("./internal/streams/state").getHighWaterMark,$=f("../errors").codes,X=$.ERR_INVALID_ARG_TYPE,_=$.ERR_STREAM_PUSH_AFTER_EOF,p=$.ERR_METHOD_NOT_IMPLEMENTED,O=$.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;f("inherits")(D,t);var W=F.errorOrDestroy,R=["error","close","destroy","pause","resume"];function C(i,r,h){a=a||f("./_stream_duplex"),i=i||{},typeof h!="boolean"&&(h=r instanceof a),this.objectMode=!!i.objectMode,h&&(this.objectMode=this.objectMode||!!i.readableObjectMode),this.highWaterMark=N(this,i,"readableHighWaterMark",h),this.buffer=new I,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=i.emitClose!==!1,this.autoDestroy=!!i.autoDestroy,this.destroyed=!1,this.defaultEncoding=i.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,i.encoding&&(M||(M=f("string_decoder/").StringDecoder),this.decoder=new M(i.encoding),this.encoding=i.encoding)}function D(i){if(a=a||f("./_stream_duplex"),!(this instanceof D))return new D(i);var r=this instanceof a;this._readableState=new C(i,this,r),this.readable=!0,i&&(typeof i.read=="function"&&(this._read=i.read),typeof i.destroy=="function"&&(this._destroy=i.destroy)),t.call(this)}function x(i,r,h,L,Q){y("readableAddChunk",r);var g,J=i._readableState;if(r===null)J.reading=!1,function(oe,H){if(y("onEofChunk"),!H.ended){if(H.decoder){var ge=H.decoder.end();ge&&ge.length&&(H.buffer.push(ge),H.length+=H.objectMode?1:ge.length)}H.ended=!0,H.sync?G(oe):(H.needReadable=!1,H.emittedReadable||(H.emittedReadable=!0,B(oe)))}}(i,J);else if(Q||(g=function(oe,H){var ge;return ve=H,s.isBuffer(ve)||ve instanceof d||typeof H=="string"||H===void 0||oe.objectMode||(ge=new X("chunk",["string","Buffer","Uint8Array"],H)),ge;var ve}(J,r)),g)W(i,g);else if(J.objectMode||r&&r.length>0)if(typeof r=="string"||J.objectMode||Object.getPrototypeOf(r)===s.prototype||(r=function(oe){return s.from(oe)}(r)),L)J.endEmitted?W(i,new O):ne(i,J,r,!0);else if(J.ended)W(i,new _);else{if(J.destroyed)return!1;J.reading=!1,J.decoder&&!h?(r=J.decoder.write(r),J.objectMode||r.length!==0?ne(i,J,r,!1):te(i,J)):ne(i,J,r,!1)}else L||(J.reading=!1,te(i,J));return!J.ended&&(J.length<J.highWaterMark||J.length===0)}function ne(i,r,h,L){r.flowing&&r.length===0&&!r.sync?(r.awaitDrain=0,i.emit("data",h)):(r.length+=r.objectMode?1:h.length,L?r.buffer.unshift(h):r.buffer.push(h),r.needReadable&&G(i)),te(i,r)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(i){this._readableState&&(this._readableState.destroyed=i)}}),D.prototype.destroy=F.destroy,D.prototype._undestroy=F.undestroy,D.prototype._destroy=function(i,r){r(i)},D.prototype.push=function(i,r){var h,L=this._readableState;return L.objectMode?h=!0:typeof i=="string"&&((r=r||L.defaultEncoding)!==L.encoding&&(i=s.from(i,r),r=""),h=!0),x(this,i,r,!1,h)},D.prototype.unshift=function(i){return x(this,i,null,!0,!1)},D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(i){M||(M=f("string_decoder/").StringDecoder);var r=new M(i);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var h=this._readableState.buffer.head,L="";h!==null;)L+=r.write(h.data),h=h.next;return this._readableState.buffer.clear(),L!==""&&this._readableState.buffer.push(L),this._readableState.length=L.length,this};var Y=1073741824;function K(i,r){return i<=0||r.length===0&&r.ended?0:r.objectMode?1:i!=i?r.flowing&&r.length?r.buffer.head.data.length:r.length:(i>r.highWaterMark&&(r.highWaterMark=function(h){return h>=Y?h=Y:(h--,h|=h>>>1,h|=h>>>2,h|=h>>>4,h|=h>>>8,h|=h>>>16,h++),h}(i)),i<=r.length?i:r.ended?r.length:(r.needReadable=!0,0))}function G(i){var r=i._readableState;y("emitReadable",r.needReadable,r.emittedReadable),r.needReadable=!1,r.emittedReadable||(y("emitReadable",r.flowing),r.emittedReadable=!0,o.nextTick(B,i))}function B(i){var r=i._readableState;y("emitReadable_",r.destroyed,r.length,r.ended),r.destroyed||!r.length&&!r.ended||(i.emit("readable"),r.emittedReadable=!1),r.needReadable=!r.flowing&&!r.ended&&r.length<=r.highWaterMark,fe(i)}function te(i,r){r.readingMore||(r.readingMore=!0,o.nextTick(T,i,r))}function T(i,r){for(;!r.reading&&!r.ended&&(r.length<r.highWaterMark||r.flowing&&r.length===0);){var h=r.length;if(y("maybeReadMore read 0"),i.read(0),h===r.length)break}r.readingMore=!1}function P(i){var r=i._readableState;r.readableListening=i.listenerCount("readable")>0,r.resumeScheduled&&!r.paused?r.flowing=!0:i.listenerCount("data")>0&&i.resume()}function ie(i){y("readable nexttick read 0"),i.read(0)}function le(i,r){y("resume",r.reading),r.reading||i.read(0),r.resumeScheduled=!1,i.emit("resume"),fe(i),r.flowing&&!r.reading&&i.read(0)}function fe(i){var r=i._readableState;for(y("flow",r.flowing);r.flowing&&i.read()!==null;);}function m(i,r){return r.length===0?null:(r.objectMode?h=r.buffer.shift():!i||i>=r.length?(h=r.decoder?r.buffer.join(""):r.buffer.length===1?r.buffer.first():r.buffer.concat(r.length),r.buffer.clear()):h=r.buffer.consume(i,r.decoder),h);var h}function v(i){var r=i._readableState;y("endReadable",r.endEmitted),r.endEmitted||(r.ended=!0,o.nextTick(A,r,i))}function A(i,r){if(y("endReadableNT",i.endEmitted,i.length),!i.endEmitted&&i.length===0&&(i.endEmitted=!0,r.readable=!1,r.emit("end"),i.autoDestroy)){var h=r._writableState;(!h||h.autoDestroy&&h.finished)&&r.destroy()}}function V(i,r){for(var h=0,L=i.length;h<L;h++)if(i[h]===r)return h;return-1}D.prototype.read=function(i){y("read",i),i=parseInt(i,10);var r=this._readableState,h=i;if(i!==0&&(r.emittedReadable=!1),i===0&&r.needReadable&&((r.highWaterMark!==0?r.length>=r.highWaterMark:r.length>0)||r.ended))return y("read: emitReadable",r.length,r.ended),r.length===0&&r.ended?v(this):G(this),null;if((i=K(i,r))===0&&r.ended)return r.length===0&&v(this),null;var L,Q=r.needReadable;return y("need readable",Q),(r.length===0||r.length-i<r.highWaterMark)&&y("length less than watermark",Q=!0),r.ended||r.reading?y("reading or ended",Q=!1):Q&&(y("do read"),r.reading=!0,r.sync=!0,r.length===0&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(i=K(h,r))),(L=i>0?m(i,r):null)===null?(r.needReadable=r.length<=r.highWaterMark,i=0):(r.length-=i,r.awaitDrain=0),r.length===0&&(r.ended||(r.needReadable=!0),h!==i&&r.ended&&v(this)),L!==null&&this.emit("data",L),L},D.prototype._read=function(i){W(this,new p("_read()"))},D.prototype.pipe=function(i,r){var h=this,L=this._readableState;switch(L.pipesCount){case 0:L.pipes=i;break;case 1:L.pipes=[L.pipes,i];break;default:L.pipes.push(i)}L.pipesCount+=1,y("pipe count=%d opts=%j",L.pipesCount,r);var Q=r&&r.end===!1||i===o.stdout||i===o.stderr?ae:J;function g(ue,we){y("onunpipe"),ue===h&&we&&we.hasUnpiped===!1&&(we.hasUnpiped=!0,y("cleanup"),i.removeListener("close",Ie),i.removeListener("finish",ke),i.removeListener("drain",oe),i.removeListener("error",ve),i.removeListener("unpipe",g),h.removeListener("end",J),h.removeListener("end",ae),h.removeListener("data",ge),H=!0,!L.awaitDrain||i._writableState&&!i._writableState.needDrain||oe())}function J(){y("onend"),i.end()}L.endEmitted?o.nextTick(Q):h.once("end",Q),i.on("unpipe",g);var oe=function(ue){return function(){var we=ue._readableState;y("pipeOnDrain",we.awaitDrain),we.awaitDrain&&we.awaitDrain--,we.awaitDrain===0&&n(ue,"data")&&(we.flowing=!0,fe(ue))}}(h);i.on("drain",oe);var H=!1;function ge(ue){y("ondata");var we=i.write(ue);y("dest.write",we),we===!1&&((L.pipesCount===1&&L.pipes===i||L.pipesCount>1&&V(L.pipes,i)!==-1)&&!H&&(y("false write response, pause",L.awaitDrain),L.awaitDrain++),h.pause())}function ve(ue){y("onerror",ue),ae(),i.removeListener("error",ve),n(i,"error")===0&&W(i,ue)}function Ie(){i.removeListener("finish",ke),ae()}function ke(){y("onfinish"),i.removeListener("close",Ie),ae()}function ae(){y("unpipe"),h.unpipe(i)}return h.on("data",ge),function(ue,we,Be){if(typeof ue.prependListener=="function")return ue.prependListener(we,Be);ue._events&&ue._events[we]?Array.isArray(ue._events[we])?ue._events[we].unshift(Be):ue._events[we]=[Be,ue._events[we]]:ue.on(we,Be)}(i,"error",ve),i.once("close",Ie),i.once("finish",ke),i.emit("pipe",h),L.flowing||(y("pipe resume"),h.resume()),i},D.prototype.unpipe=function(i){var r=this._readableState,h={hasUnpiped:!1};if(r.pipesCount===0)return this;if(r.pipesCount===1)return i&&i!==r.pipes||(i||(i=r.pipes),r.pipes=null,r.pipesCount=0,r.flowing=!1,i&&i.emit("unpipe",this,h)),this;if(!i){var L=r.pipes,Q=r.pipesCount;r.pipes=null,r.pipesCount=0,r.flowing=!1;for(var g=0;g<Q;g++)L[g].emit("unpipe",this,{hasUnpiped:!1});return this}var J=V(r.pipes,i);return J===-1||(r.pipes.splice(J,1),r.pipesCount-=1,r.pipesCount===1&&(r.pipes=r.pipes[0]),i.emit("unpipe",this,h)),this},D.prototype.on=function(i,r){var h=t.prototype.on.call(this,i,r),L=this._readableState;return i==="data"?(L.readableListening=this.listenerCount("readable")>0,L.flowing!==!1&&this.resume()):i==="readable"&&(L.endEmitted||L.readableListening||(L.readableListening=L.needReadable=!0,L.flowing=!1,L.emittedReadable=!1,y("on readable",L.length,L.reading),L.length?G(this):L.reading||o.nextTick(ie,this))),h},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(i,r){var h=t.prototype.removeListener.call(this,i,r);return i==="readable"&&o.nextTick(P,this),h},D.prototype.removeAllListeners=function(i){var r=t.prototype.removeAllListeners.apply(this,arguments);return i!=="readable"&&i!==void 0||o.nextTick(P,this),r},D.prototype.resume=function(){var i=this._readableState;return i.flowing||(y("resume"),i.flowing=!i.readableListening,function(r,h){h.resumeScheduled||(h.resumeScheduled=!0,o.nextTick(le,r,h))}(this,i)),i.paused=!1,this},D.prototype.pause=function(){return y("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(y("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},D.prototype.wrap=function(i){var r=this,h=this._readableState,L=!1;for(var Q in i.on("end",function(){if(y("wrapped end"),h.decoder&&!h.ended){var J=h.decoder.end();J&&J.length&&r.push(J)}r.push(null)}),i.on("data",function(J){y("wrapped data"),h.decoder&&(J=h.decoder.write(J)),h.objectMode&&J==null||(h.objectMode||J&&J.length)&&(r.push(J)||(L=!0,i.pause()))}),i)this[Q]===void 0&&typeof i[Q]=="function"&&(this[Q]=function(J){return function(){return i[J].apply(i,arguments)}}(Q));for(var g=0;g<R.length;g++)i.on(R[g],this.emit.bind(this,R[g]));return this._read=function(J){y("wrapped _read",J),L&&(L=!1,i.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return b===void 0&&(b=f("./internal/streams/async_iterator")),b(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(i){this._readableState&&(this._readableState.flowing=i)}}),D._fromList=m,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(D.from=function(i,r){return k===void 0&&(k=f("./internal/streams/from")),k(D,i,r)})}).call(this)}).call(this,f("_process"),q.g!==void 0?q.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":62,"./_stream_duplex":63,"./internal/streams/async_iterator":68,"./internal/streams/buffer_list":69,"./internal/streams/destroy":70,"./internal/streams/from":72,"./internal/streams/state":74,"./internal/streams/stream":75,_process:60,buffer:33,events:38,inherits:45,"string_decoder/":76,util:30}],66:[function(f,S,l){S.exports=y;var o=f("../errors").codes,e=o.ERR_METHOD_NOT_IMPLEMENTED,a=o.ERR_MULTIPLE_CALLBACK,n=o.ERR_TRANSFORM_ALREADY_TRANSFORMING,t=o.ERR_TRANSFORM_WITH_LENGTH_0,s=f("./_stream_duplex");function d(b,k){var I=this._transformState;I.transforming=!1;var F=I.writecb;if(F===null)return this.emit("error",new a);I.writechunk=null,I.writecb=null,k!=null&&this.push(k),F(b);var N=this._readableState;N.reading=!1,(N.needReadable||N.length<N.highWaterMark)&&this._read(N.highWaterMark)}function y(b){if(!(this instanceof y))return new y(b);s.call(this,b),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,b&&(typeof b.transform=="function"&&(this._transform=b.transform),typeof b.flush=="function"&&(this._flush=b.flush)),this.on("prefinish",E)}function E(){var b=this;typeof this._flush!="function"||this._readableState.destroyed?M(this,null,null):this._flush(function(k,I){M(b,k,I)})}function M(b,k,I){if(k)return b.emit("error",k);if(I!=null&&b.push(I),b._writableState.length)throw new t;if(b._transformState.transforming)throw new n;return b.push(null)}f("inherits")(y,s),y.prototype.push=function(b,k){return this._transformState.needTransform=!1,s.prototype.push.call(this,b,k)},y.prototype._transform=function(b,k,I){I(new e("_transform()"))},y.prototype._write=function(b,k,I){var F=this._transformState;if(F.writecb=I,F.writechunk=b,F.writeencoding=k,!F.transforming){var N=this._readableState;(F.needTransform||N.needReadable||N.length<N.highWaterMark)&&this._read(N.highWaterMark)}},y.prototype._read=function(b){var k=this._transformState;k.writechunk===null||k.transforming?k.needTransform=!0:(k.transforming=!0,this._transform(k.writechunk,k.writeencoding,k.afterTransform))},y.prototype._destroy=function(b,k){s.prototype._destroy.call(this,b,function(I){k(I)})}},{"../errors":62,"./_stream_duplex":63,inherits:45}],67:[function(f,S,l){(function(o,e){(function(){function a(T){var P=this;this.next=null,this.entry=null,this.finish=function(){(function(ie,le,fe){var m=ie.entry;for(ie.entry=null;m;){var v=m.callback;le.pendingcb--,v(fe),m=m.next}le.corkedRequestsFree.next=ie})(P,T)}}var n;S.exports=D,D.WritableState=C;var t={deprecate:f("util-deprecate")},s=f("./internal/streams/stream"),d=f("buffer").Buffer,y=e.Uint8Array||function(){},E,M=f("./internal/streams/destroy"),b=f("./internal/streams/state").getHighWaterMark,k=f("../errors").codes,I=k.ERR_INVALID_ARG_TYPE,F=k.ERR_METHOD_NOT_IMPLEMENTED,N=k.ERR_MULTIPLE_CALLBACK,$=k.ERR_STREAM_CANNOT_PIPE,X=k.ERR_STREAM_DESTROYED,_=k.ERR_STREAM_NULL_VALUES,p=k.ERR_STREAM_WRITE_AFTER_END,O=k.ERR_UNKNOWN_ENCODING,W=M.errorOrDestroy;function R(){}function C(T,P,ie){n=n||f("./_stream_duplex"),T=T||{},typeof ie!="boolean"&&(ie=P instanceof n),this.objectMode=!!T.objectMode,ie&&(this.objectMode=this.objectMode||!!T.writableObjectMode),this.highWaterMark=b(this,T,"writableHighWaterMark",ie),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var le=T.decodeStrings===!1;this.decodeStrings=!le,this.defaultEncoding=T.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(fe){(function(m,v){var A=m._writableState,V=A.sync,i=A.writecb;if(typeof i!="function")throw new N;if(function(h){h.writing=!1,h.writecb=null,h.length-=h.writelen,h.writelen=0}(A),v)(function(h,L,Q,g,J){--L.pendingcb,Q?(o.nextTick(J,g),o.nextTick(te,h,L),h._writableState.errorEmitted=!0,W(h,g)):(J(g),h._writableState.errorEmitted=!0,W(h,g),te(h,L))})(m,A,V,v,i);else{var r=G(A)||m.destroyed;r||A.corked||A.bufferProcessing||!A.bufferedRequest||K(m,A),V?o.nextTick(Y,m,A,r,i):Y(m,A,r,i)}})(P,fe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=T.emitClose!==!1,this.autoDestroy=!!T.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function D(T){var P=this instanceof(n=n||f("./_stream_duplex"));if(!P&&!E.call(D,this))return new D(T);this._writableState=new C(T,this,P),this.writable=!0,T&&(typeof T.write=="function"&&(this._write=T.write),typeof T.writev=="function"&&(this._writev=T.writev),typeof T.destroy=="function"&&(this._destroy=T.destroy),typeof T.final=="function"&&(this._final=T.final)),s.call(this)}function x(T,P,ie,le,fe,m){if(!ie){var v=function(r,h,L){return r.objectMode||r.decodeStrings===!1||typeof h!="string"||(h=d.from(h,L)),h}(P,le,fe);le!==v&&(ie=!0,fe="buffer",le=v)}var A=P.objectMode?1:le.length;P.length+=A;var V=P.length<P.highWaterMark;if(V||(P.needDrain=!0),P.writing||P.corked){var i=P.lastBufferedRequest;P.lastBufferedRequest={chunk:le,encoding:fe,isBuf:ie,callback:m,next:null},i?i.next=P.lastBufferedRequest:P.bufferedRequest=P.lastBufferedRequest,P.bufferedRequestCount+=1}else ne(T,P,!1,A,le,fe,m);return V}function ne(T,P,ie,le,fe,m,v){P.writelen=le,P.writecb=v,P.writing=!0,P.sync=!0,P.destroyed?P.onwrite(new X("write")):ie?T._writev(fe,P.onwrite):T._write(fe,m,P.onwrite),P.sync=!1}function Y(T,P,ie,le){ie||function(fe,m){m.length===0&&m.needDrain&&(m.needDrain=!1,fe.emit("drain"))}(T,P),P.pendingcb--,le(),te(T,P)}function K(T,P){P.bufferProcessing=!0;var ie=P.bufferedRequest;if(T._writev&&ie&&ie.next){var le=P.bufferedRequestCount,fe=new Array(le),m=P.corkedRequestsFree;m.entry=ie;for(var v=0,A=!0;ie;)fe[v]=ie,ie.isBuf||(A=!1),ie=ie.next,v+=1;fe.allBuffers=A,ne(T,P,!0,P.length,fe,"",m.finish),P.pendingcb++,P.lastBufferedRequest=null,m.next?(P.corkedRequestsFree=m.next,m.next=null):P.corkedRequestsFree=new a(P),P.bufferedRequestCount=0}else{for(;ie;){var V=ie.chunk,i=ie.encoding,r=ie.callback;if(ne(T,P,!1,P.objectMode?1:V.length,V,i,r),ie=ie.next,P.bufferedRequestCount--,P.writing)break}ie===null&&(P.lastBufferedRequest=null)}P.bufferedRequest=ie,P.bufferProcessing=!1}function G(T){return T.ending&&T.length===0&&T.bufferedRequest===null&&!T.finished&&!T.writing}function B(T,P){T._final(function(ie){P.pendingcb--,ie&&W(T,ie),P.prefinished=!0,T.emit("prefinish"),te(T,P)})}function te(T,P){var ie=G(P);if(ie&&(function(fe,m){m.prefinished||m.finalCalled||(typeof fe._final!="function"||m.destroyed?(m.prefinished=!0,fe.emit("prefinish")):(m.pendingcb++,m.finalCalled=!0,o.nextTick(B,fe,m)))}(T,P),P.pendingcb===0&&(P.finished=!0,T.emit("finish"),P.autoDestroy))){var le=T._readableState;(!le||le.autoDestroy&&le.endEmitted)&&T.destroy()}return ie}f("inherits")(D,s),C.prototype.getBuffer=function(){for(var T=this.bufferedRequest,P=[];T;)P.push(T),T=T.next;return P},function(){try{Object.defineProperty(C.prototype,"buffer",{get:t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(E=Function.prototype[Symbol.hasInstance],Object.defineProperty(D,Symbol.hasInstance,{value:function(T){return!!E.call(this,T)||this===D&&T&&T._writableState instanceof C}})):E=function(T){return T instanceof this},D.prototype.pipe=function(){W(this,new $)},D.prototype.write=function(T,P,ie){var le,fe=this._writableState,m=!1,v=!fe.objectMode&&(le=T,d.isBuffer(le)||le instanceof y);return v&&!d.isBuffer(T)&&(T=function(A){return d.from(A)}(T)),typeof P=="function"&&(ie=P,P=null),v?P="buffer":P||(P=fe.defaultEncoding),typeof ie!="function"&&(ie=R),fe.ending?function(A,V){var i=new p;W(A,i),o.nextTick(V,i)}(this,ie):(v||function(A,V,i,r){var h;return i===null?h=new _:typeof i=="string"||V.objectMode||(h=new I("chunk",["string","Buffer"],i)),!h||(W(A,h),o.nextTick(r,h),!1)}(this,fe,T,ie))&&(fe.pendingcb++,m=x(this,fe,v,T,P,ie)),m},D.prototype.cork=function(){this._writableState.corked++},D.prototype.uncork=function(){var T=this._writableState;T.corked&&(T.corked--,T.writing||T.corked||T.bufferProcessing||!T.bufferedRequest||K(this,T))},D.prototype.setDefaultEncoding=function(T){if(typeof T=="string"&&(T=T.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((T+"").toLowerCase())>-1))throw new O(T);return this._writableState.defaultEncoding=T,this},Object.defineProperty(D.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(D.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),D.prototype._write=function(T,P,ie){ie(new F("_write()"))},D.prototype._writev=null,D.prototype.end=function(T,P,ie){var le=this._writableState;return typeof T=="function"?(ie=T,T=null,P=null):typeof P=="function"&&(ie=P,P=null),T!=null&&this.write(T,P),le.corked&&(le.corked=1,this.uncork()),le.ending||function(fe,m,v){m.ending=!0,te(fe,m),v&&(m.finished?o.nextTick(v):fe.once("finish",v)),m.ended=!0,fe.writable=!1}(this,le,ie),this},Object.defineProperty(D.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(T){this._writableState&&(this._writableState.destroyed=T)}}),D.prototype.destroy=M.destroy,D.prototype._undestroy=M.undestroy,D.prototype._destroy=function(T,P){P(T)}}).call(this)}).call(this,f("_process"),q.g!==void 0?q.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":62,"./_stream_duplex":63,"./internal/streams/destroy":70,"./internal/streams/state":74,"./internal/streams/stream":75,_process:60,buffer:33,inherits:45,"util-deprecate":78}],68:[function(f,S,l){(function(o){(function(){var e;function a(X,_,p){return _ in X?Object.defineProperty(X,_,{value:p,enumerable:!0,configurable:!0,writable:!0}):X[_]=p,X}var n=f("./end-of-stream"),t=Symbol("lastResolve"),s=Symbol("lastReject"),d=Symbol("error"),y=Symbol("ended"),E=Symbol("lastPromise"),M=Symbol("handlePromise"),b=Symbol("stream");function k(X,_){return{value:X,done:_}}function I(X){var _=X[t];if(_!==null){var p=X[b].read();p!==null&&(X[E]=null,X[t]=null,X[s]=null,_(k(p,!1)))}}function F(X){o.nextTick(I,X)}var N=Object.getPrototypeOf(function(){}),$=Object.setPrototypeOf((a(e={get stream(){return this[b]},next:function(){var X=this,_=this[d];if(_!==null)return Promise.reject(_);if(this[y])return Promise.resolve(k(void 0,!0));if(this[b].destroyed)return new Promise(function(R,C){o.nextTick(function(){X[d]?C(X[d]):R(k(void 0,!0))})});var p,O=this[E];if(O)p=new Promise(function(R,C){return function(D,x){R.then(function(){C[y]?D(k(void 0,!0)):C[M](D,x)},x)}}(O,this));else{var W=this[b].read();if(W!==null)return Promise.resolve(k(W,!1));p=new Promise(this[M])}return this[E]=p,p}},Symbol.asyncIterator,function(){return this}),a(e,"return",function(){var X=this;return new Promise(function(_,p){X[b].destroy(null,function(O){O?p(O):_(k(void 0,!0))})})}),e),N);S.exports=function(X){var _,p=Object.create($,(a(_={},b,{value:X,writable:!0}),a(_,t,{value:null,writable:!0}),a(_,s,{value:null,writable:!0}),a(_,d,{value:null,writable:!0}),a(_,y,{value:X._readableState.endEmitted,writable:!0}),a(_,M,{value:function(O,W){var R=p[b].read();R?(p[E]=null,p[t]=null,p[s]=null,O(k(R,!1))):(p[t]=O,p[s]=W)},writable:!0}),_));return p[E]=null,n(X,function(O){if(O&&O.code!=="ERR_STREAM_PREMATURE_CLOSE"){var W=p[s];return W!==null&&(p[E]=null,p[t]=null,p[s]=null,W(O)),void(p[d]=O)}var R=p[t];R!==null&&(p[E]=null,p[t]=null,p[s]=null,R(k(void 0,!0))),p[y]=!0}),X.on("readable",F.bind(null,p)),p}}).call(this)}).call(this,f("_process"))},{"./end-of-stream":71,_process:60}],69:[function(f,S,l){function o(d,y){var E=Object.keys(d);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(d);y&&(M=M.filter(function(b){return Object.getOwnPropertyDescriptor(d,b).enumerable})),E.push.apply(E,M)}return E}function e(d,y,E){return y in d?Object.defineProperty(d,y,{value:E,enumerable:!0,configurable:!0,writable:!0}):d[y]=E,d}function a(d,y){for(var E=0;E<y.length;E++){var M=y[E];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(d,M.key,M)}}var n=f("buffer").Buffer,t=f("util").inspect,s=t&&t.custom||"inspect";S.exports=function(){function d(){(function(b,k){if(!(b instanceof k))throw new TypeError("Cannot call a class as a function")})(this,d),this.head=null,this.tail=null,this.length=0}return y=d,E=[{key:"push",value:function(b){var k={data:b,next:null};this.length>0?this.tail.next=k:this.head=k,this.tail=k,++this.length}},{key:"unshift",value:function(b){var k={data:b,next:this.head};this.length===0&&(this.tail=k),this.head=k,++this.length}},{key:"shift",value:function(){if(this.length!==0){var b=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,b}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(b){if(this.length===0)return"";for(var k=this.head,I=""+k.data;k=k.next;)I+=b+k.data;return I}},{key:"concat",value:function(b){if(this.length===0)return n.alloc(0);for(var k=n.allocUnsafe(b>>>0),I=this.head,F=0;I;)N=I.data,$=k,X=F,n.prototype.copy.call(N,$,X),F+=I.data.length,I=I.next;var N,$,X;return k}},{key:"consume",value:function(b,k){var I;return b<this.head.data.length?(I=this.head.data.slice(0,b),this.head.data=this.head.data.slice(b)):I=b===this.head.data.length?this.shift():k?this._getString(b):this._getBuffer(b),I}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(b){var k=this.head,I=1,F=k.data;for(b-=F.length;k=k.next;){var N=k.data,$=b>N.length?N.length:b;if($===N.length?F+=N:F+=N.slice(0,b),(b-=$)==0){$===N.length?(++I,k.next?this.head=k.next:this.head=this.tail=null):(this.head=k,k.data=N.slice($));break}++I}return this.length-=I,F}},{key:"_getBuffer",value:function(b){var k=n.allocUnsafe(b),I=this.head,F=1;for(I.data.copy(k),b-=I.data.length;I=I.next;){var N=I.data,$=b>N.length?N.length:b;if(N.copy(k,k.length-b,0,$),(b-=$)==0){$===N.length?(++F,I.next?this.head=I.next:this.head=this.tail=null):(this.head=I,I.data=N.slice($));break}++F}return this.length-=F,k}},{key:s,value:function(b,k){return t(this,function(I){for(var F=1;F<arguments.length;F++){var N=arguments[F]!=null?arguments[F]:{};F%2?o(Object(N),!0).forEach(function($){e(I,$,N[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(N)):o(Object(N)).forEach(function($){Object.defineProperty(I,$,Object.getOwnPropertyDescriptor(N,$))})}return I}({},k,{depth:0,customInspect:!1}))}}],E&&a(y.prototype,E),M&&a(y,M),d;var y,E,M}()},{buffer:33,util:30}],70:[function(f,S,l){(function(o){(function(){function e(t,s){n(t,s),a(t)}function a(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function n(t,s){t.emit("error",s)}S.exports={destroy:function(t,s){var d=this,y=this._readableState&&this._readableState.destroyed,E=this._writableState&&this._writableState.destroyed;return y||E?(s?s(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,o.nextTick(n,this,t)):o.nextTick(n,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(M){!s&&M?d._writableState?d._writableState.errorEmitted?o.nextTick(a,d):(d._writableState.errorEmitted=!0,o.nextTick(e,d,M)):o.nextTick(e,d,M):s?(o.nextTick(a,d),s(M)):o.nextTick(a,d)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,s){var d=t._readableState,y=t._writableState;d&&d.autoDestroy||y&&y.autoDestroy?t.destroy(s):t.emit("error",s)}}}).call(this)}).call(this,f("_process"))},{_process:60}],71:[function(f,S,l){var o=f("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function e(){}S.exports=function a(n,t,s){if(typeof t=="function")return a(n,null,t);t||(t={}),s=function(X){var _=!1;return function(){if(!_){_=!0;for(var p=arguments.length,O=new Array(p),W=0;W<p;W++)O[W]=arguments[W];X.apply(this,O)}}}(s||e);var d=t.readable||t.readable!==!1&&n.readable,y=t.writable||t.writable!==!1&&n.writable,E=function(){n.writable||b()},M=n._writableState&&n._writableState.finished,b=function(){y=!1,M=!0,d||s.call(n)},k=n._readableState&&n._readableState.endEmitted,I=function(){d=!1,k=!0,y||s.call(n)},F=function(X){s.call(n,X)},N=function(){var X;return d&&!k?(n._readableState&&n._readableState.ended||(X=new o),s.call(n,X)):y&&!M?(n._writableState&&n._writableState.ended||(X=new o),s.call(n,X)):void 0},$=function(){n.req.on("finish",b)};return function(X){return X.setHeader&&typeof X.abort=="function"}(n)?(n.on("complete",b),n.on("abort",N),n.req?$():n.on("request",$)):y&&!n._writableState&&(n.on("end",E),n.on("close",E)),n.on("end",I),n.on("finish",b),t.error!==!1&&n.on("error",F),n.on("close",N),function(){n.removeListener("complete",b),n.removeListener("abort",N),n.removeListener("request",$),n.req&&n.req.removeListener("finish",b),n.removeListener("end",E),n.removeListener("close",E),n.removeListener("finish",b),n.removeListener("end",I),n.removeListener("error",F),n.removeListener("close",N)}}},{"../../../errors":62}],72:[function(f,S,l){S.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],73:[function(f,S,l){var o,e=f("../../../errors").codes,a=e.ERR_MISSING_ARGS,n=e.ERR_STREAM_DESTROYED;function t(y){if(y)throw y}function s(y){y()}function d(y,E){return y.pipe(E)}S.exports=function(){for(var y=arguments.length,E=new Array(y),M=0;M<y;M++)E[M]=arguments[M];var b,k=function(F){return F.length?typeof F[F.length-1]!="function"?t:F.pop():t}(E);if(Array.isArray(E[0])&&(E=E[0]),E.length<2)throw new a("streams");var I=E.map(function(F,N){var $=N<E.length-1;return function(X,_,p,O){O=function(C){var D=!1;return function(){D||(D=!0,C.apply(void 0,arguments))}}(O);var W=!1;X.on("close",function(){W=!0}),o===void 0&&(o=f("./end-of-stream")),o(X,{readable:_,writable:p},function(C){if(C)return O(C);W=!0,O()});var R=!1;return function(C){if(!W&&!R)return R=!0,function(D){return D.setHeader&&typeof D.abort=="function"}(X)?X.abort():typeof X.destroy=="function"?X.destroy():void O(C||new n("pipe"))}}(F,$,N>0,function(X){b||(b=X),X&&I.forEach(s),$||(I.forEach(s),k(b))})});return E.reduce(d)}},{"../../../errors":62,"./end-of-stream":71}],74:[function(f,S,l){var o=f("../../../errors").codes.ERR_INVALID_OPT_VALUE;S.exports={getHighWaterMark:function(e,a,n,t){var s=function(d,y,E){return d.highWaterMark!=null?d.highWaterMark:y?d[E]:null}(a,t,n);if(s!=null){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new o(t?n:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}},{"../../../errors":62}],75:[function(f,S,l){S.exports=f("events").EventEmitter},{events:38}],76:[function(f,S,l){var o=f("safe-buffer").Buffer,e=o.isEncoding||function(k){switch((k=""+k)&&k.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(k){var I;switch(this.encoding=function(F){var N=function($){if(!$)return"utf8";for(var X;;)switch($){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return $;default:if(X)return;$=(""+$).toLowerCase(),X=!0}}(F);if(typeof N!="string"&&(o.isEncoding===e||!e(F)))throw new Error("Unknown encoding: "+F);return N||F}(k),this.encoding){case"utf16le":this.text=s,this.end=d,I=4;break;case"utf8":this.fillLast=t,I=4;break;case"base64":this.text=y,this.end=E,I=3;break;default:return this.write=M,void(this.end=b)}this.lastNeed=0,this.lastTotal=0,this.lastChar=o.allocUnsafe(I)}function n(k){return k<=127?0:k>>5==6?2:k>>4==14?3:k>>3==30?4:k>>6==2?-1:-2}function t(k){var I=this.lastTotal-this.lastNeed,F=function(N,$,X){if((192&$[0])!=128)return N.lastNeed=0,"";if(N.lastNeed>1&&$.length>1){if((192&$[1])!=128)return N.lastNeed=1,"";if(N.lastNeed>2&&$.length>2&&(192&$[2])!=128)return N.lastNeed=2,""}}(this,k);return F!==void 0?F:this.lastNeed<=k.length?(k.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(k.copy(this.lastChar,I,0,k.length),void(this.lastNeed-=k.length))}function s(k,I){if((k.length-I)%2==0){var F=k.toString("utf16le",I);if(F){var N=F.charCodeAt(F.length-1);if(N>=55296&&N<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=k[k.length-2],this.lastChar[1]=k[k.length-1],F.slice(0,-1)}return F}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=k[k.length-1],k.toString("utf16le",I,k.length-1)}function d(k){var I=k&&k.length?this.write(k):"";if(this.lastNeed){var F=this.lastTotal-this.lastNeed;return I+this.lastChar.toString("utf16le",0,F)}return I}function y(k,I){var F=(k.length-I)%3;return F===0?k.toString("base64",I):(this.lastNeed=3-F,this.lastTotal=3,F===1?this.lastChar[0]=k[k.length-1]:(this.lastChar[0]=k[k.length-2],this.lastChar[1]=k[k.length-1]),k.toString("base64",I,k.length-F))}function E(k){var I=k&&k.length?this.write(k):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function M(k){return k.toString(this.encoding)}function b(k){return k&&k.length?this.write(k):""}l.StringDecoder=a,a.prototype.write=function(k){if(k.length===0)return"";var I,F;if(this.lastNeed){if((I=this.fillLast(k))===void 0)return"";F=this.lastNeed,this.lastNeed=0}else F=0;return F<k.length?I?I+this.text(k,F):this.text(k,F):I||""},a.prototype.end=function(k){var I=k&&k.length?this.write(k):"";return this.lastNeed?I+"":I},a.prototype.text=function(k,I){var F=function($,X,_){var p=X.length-1;if(p<_)return 0;var O=n(X[p]);return O>=0?(O>0&&($.lastNeed=O-1),O):--p<_||O===-2?0:(O=n(X[p]))>=0?(O>0&&($.lastNeed=O-2),O):--p<_||O===-2?0:(O=n(X[p]))>=0?(O>0&&(O===2?O=0:$.lastNeed=O-3),O):0}(this,k,I);if(!this.lastNeed)return k.toString("utf8",I);this.lastTotal=F;var N=k.length-(F-this.lastNeed);return k.copy(this.lastChar,0,N),k.toString("utf8",I,N)},a.prototype.fillLast=function(k){if(this.lastNeed<=k.length)return k.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);k.copy(this.lastChar,this.lastTotal-this.lastNeed,0,k.length),this.lastNeed-=k.length}},{"safe-buffer":77}],77:[function(f,S,l){var o=f("buffer"),e=o.Buffer;function a(t,s){for(var d in t)s[d]=t[d]}function n(t,s,d){return e(t,s,d)}e.from&&e.alloc&&e.allocUnsafe&&e.allocUnsafeSlow?S.exports=o:(a(o,l),l.Buffer=n),n.prototype=Object.create(e.prototype),a(e,n),n.from=function(t,s,d){if(typeof t=="number")throw new TypeError("Argument must not be a number");return e(t,s,d)},n.alloc=function(t,s,d){if(typeof t!="number")throw new TypeError("Argument must be a number");var y=e(t);return s!==void 0?typeof d=="string"?y.fill(s,d):y.fill(s):y.fill(0),y},n.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return e(t)},n.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(t)}},{buffer:33}],78:[function(f,S,l){(function(o){(function(){function e(a){try{if(!o.localStorage)return!1}catch{return!1}var n=o.localStorage[a];return n!=null&&String(n).toLowerCase()==="true"}S.exports=function(a,n){if(e("noDeprecation"))return a;var t=!1;return function(){if(!t){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),t=!0}return a.apply(this,arguments)}}}).call(this)}).call(this,q.g!==void 0?q.g:typeof self<"u"?self:typeof window<"u"?window:{})},{}],79:[function(f,S,l){arguments[4][25][0].apply(l,arguments)},{dup:25}],80:[function(f,S,l){var o=f("is-arguments"),e=f("is-generator-function"),a=f("which-typed-array"),n=f("is-typed-array");function t(B){return B.call.bind(B)}var s=typeof BigInt<"u",d=typeof Symbol<"u",y=t(Object.prototype.toString),E=t(Number.prototype.valueOf),M=t(String.prototype.valueOf),b=t(Boolean.prototype.valueOf);if(s)var k=t(BigInt.prototype.valueOf);if(d)var I=t(Symbol.prototype.valueOf);function F(B,te){if(typeof B!="object")return!1;try{return te(B),!0}catch{return!1}}function N(B){return y(B)==="[object Map]"}function $(B){return y(B)==="[object Set]"}function X(B){return y(B)==="[object WeakMap]"}function _(B){return y(B)==="[object WeakSet]"}function p(B){return y(B)==="[object ArrayBuffer]"}function O(B){return typeof ArrayBuffer<"u"&&(p.working?p(B):B instanceof ArrayBuffer)}function W(B){return y(B)==="[object DataView]"}function R(B){return typeof DataView<"u"&&(W.working?W(B):B instanceof DataView)}function C(B){return y(B)==="[object SharedArrayBuffer]"}function D(B){return typeof SharedArrayBuffer<"u"&&(C.working?C(B):B instanceof SharedArrayBuffer)}function x(B){return F(B,E)}function ne(B){return F(B,M)}function Y(B){return F(B,b)}function K(B){return s&&F(B,k)}function G(B){return d&&F(B,I)}l.isArgumentsObject=o,l.isGeneratorFunction=e,l.isTypedArray=n,l.isPromise=function(B){return typeof Promise<"u"&&B instanceof Promise||B!==null&&typeof B=="object"&&typeof B.then=="function"&&typeof B.catch=="function"},l.isArrayBufferView=function(B){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(B):n(B)||R(B)},l.isUint8Array=function(B){return a(B)==="Uint8Array"},l.isUint8ClampedArray=function(B){return a(B)==="Uint8ClampedArray"},l.isUint16Array=function(B){return a(B)==="Uint16Array"},l.isUint32Array=function(B){return a(B)==="Uint32Array"},l.isInt8Array=function(B){return a(B)==="Int8Array"},l.isInt16Array=function(B){return a(B)==="Int16Array"},l.isInt32Array=function(B){return a(B)==="Int32Array"},l.isFloat32Array=function(B){return a(B)==="Float32Array"},l.isFloat64Array=function(B){return a(B)==="Float64Array"},l.isBigInt64Array=function(B){return a(B)==="BigInt64Array"},l.isBigUint64Array=function(B){return a(B)==="BigUint64Array"},N.working=typeof Map<"u"&&N(new Map),l.isMap=function(B){return typeof Map<"u"&&(N.working?N(B):B instanceof Map)},$.working=typeof Set<"u"&&$(new Set),l.isSet=function(B){return typeof Set<"u"&&($.working?$(B):B instanceof Set)},X.working=typeof WeakMap<"u"&&X(new WeakMap),l.isWeakMap=function(B){return typeof WeakMap<"u"&&(X.working?X(B):B instanceof WeakMap)},_.working=typeof WeakSet<"u"&&_(new WeakSet),l.isWeakSet=function(B){return _(B)},p.working=typeof ArrayBuffer<"u"&&p(new ArrayBuffer),l.isArrayBuffer=O,W.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&W(new DataView(new ArrayBuffer(1),0,1)),l.isDataView=R,C.working=typeof SharedArrayBuffer<"u"&&C(new SharedArrayBuffer),l.isSharedArrayBuffer=D,l.isAsyncFunction=function(B){return y(B)==="[object AsyncFunction]"},l.isMapIterator=function(B){return y(B)==="[object Map Iterator]"},l.isSetIterator=function(B){return y(B)==="[object Set Iterator]"},l.isGeneratorObject=function(B){return y(B)==="[object Generator]"},l.isWebAssemblyCompiledModule=function(B){return y(B)==="[object WebAssembly.Module]"},l.isNumberObject=x,l.isStringObject=ne,l.isBooleanObject=Y,l.isBigIntObject=K,l.isSymbolObject=G,l.isBoxedPrimitive=function(B){return x(B)||ne(B)||Y(B)||K(B)||G(B)},l.isAnyArrayBuffer=function(B){return typeof Uint8Array<"u"&&(O(B)||D(B))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(B){Object.defineProperty(l,B,{enumerable:!1,value:function(){throw new Error(B+" is not supported in userland")}})})},{"is-arguments":46,"is-generator-function":47,"is-typed-array":48,"which-typed-array":82}],81:[function(f,S,l){(function(o){(function(){var e=Object.getOwnPropertyDescriptors||function(B){for(var te=Object.keys(B),T={},P=0;P<te.length;P++)T[te[P]]=Object.getOwnPropertyDescriptor(B,te[P]);return T},a=/%[sdj%]/g;l.format=function(B){if(!X(B)){for(var te=[],T=0;T<arguments.length;T++)te.push(d(arguments[T]));return te.join(" ")}T=1;for(var P=arguments,ie=P.length,le=String(B).replace(a,function(m){if(m==="%%")return"%";if(T>=ie)return m;switch(m){case"%s":return String(P[T++]);case"%d":return Number(P[T++]);case"%j":try{return JSON.stringify(P[T++])}catch{return"[Circular]"}default:return m}}),fe=P[T];T<ie;fe=P[++T])N(fe)||!O(fe)?le+=" "+fe:le+=" "+d(fe);return le},l.deprecate=function(B,te){if(o!==void 0&&o.noDeprecation===!0)return B;if(o===void 0)return function(){return l.deprecate(B,te).apply(this,arguments)};var T=!1;return function(){if(!T){if(o.throwDeprecation)throw new Error(te);o.traceDeprecation?console.trace(te):console.error(te),T=!0}return B.apply(this,arguments)}};var n={},t=/^$/;if(o.env.NODE_DEBUG){var s=o.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),t=new RegExp("^"+s+"$","i")}function d(B,te){var T={seen:[],stylize:E};return arguments.length>=3&&(T.depth=arguments[2]),arguments.length>=4&&(T.colors=arguments[3]),F(te)?T.showHidden=te:te&&l._extend(T,te),_(T.showHidden)&&(T.showHidden=!1),_(T.depth)&&(T.depth=2),_(T.colors)&&(T.colors=!1),_(T.customInspect)&&(T.customInspect=!0),T.colors&&(T.stylize=y),M(T,B,T.depth)}function y(B,te){var T=d.styles[te];return T?"\x1B["+d.colors[T][0]+"m"+B+"\x1B["+d.colors[T][1]+"m":B}function E(B,te){return B}function M(B,te,T){if(B.customInspect&&te&&C(te.inspect)&&te.inspect!==l.inspect&&(!te.constructor||te.constructor.prototype!==te)){var P=te.inspect(T,B);return X(P)||(P=M(B,P,T)),P}var ie=function(r,h){if(_(h))return r.stylize("undefined","undefined");if(X(h)){var L="'"+JSON.stringify(h).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return r.stylize(L,"string")}return $(h)?r.stylize(""+h,"number"):F(h)?r.stylize(""+h,"boolean"):N(h)?r.stylize("null","null"):void 0}(B,te);if(ie)return ie;var le=Object.keys(te),fe=function(r){var h={};return r.forEach(function(L,Q){h[L]=!0}),h}(le);if(B.showHidden&&(le=Object.getOwnPropertyNames(te)),R(te)&&(le.indexOf("message")>=0||le.indexOf("description")>=0))return b(te);if(le.length===0){if(C(te)){var m=te.name?": "+te.name:"";return B.stylize("[Function"+m+"]","special")}if(p(te))return B.stylize(RegExp.prototype.toString.call(te),"regexp");if(W(te))return B.stylize(Date.prototype.toString.call(te),"date");if(R(te))return b(te)}var v,A="",V=!1,i=["{","}"];return I(te)&&(V=!0,i=["[","]"]),C(te)&&(A=" [Function"+(te.name?": "+te.name:"")+"]"),p(te)&&(A=" "+RegExp.prototype.toString.call(te)),W(te)&&(A=" "+Date.prototype.toUTCString.call(te)),R(te)&&(A=" "+b(te)),le.length!==0||V&&te.length!=0?T<0?p(te)?B.stylize(RegExp.prototype.toString.call(te),"regexp"):B.stylize("[Object]","special"):(B.seen.push(te),v=V?function(r,h,L,Q,g){for(var J=[],oe=0,H=h.length;oe<H;++oe)Y(h,String(oe))?J.push(k(r,h,L,Q,String(oe),!0)):J.push("");return g.forEach(function(ge){ge.match(/^\d+$/)||J.push(k(r,h,L,Q,ge,!0))}),J}(B,te,T,fe,le):le.map(function(r){return k(B,te,T,fe,r,V)}),B.seen.pop(),function(r,h,L){return r.reduce(function(Q,g){return g.indexOf(`
`),Q+g.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?L[0]+(h===""?"":h+`
 `)+" "+r.join(`,
  `)+" "+L[1]:L[0]+h+" "+r.join(", ")+" "+L[1]}(v,A,i)):i[0]+A+i[1]}function b(B){return"["+Error.prototype.toString.call(B)+"]"}function k(B,te,T,P,ie,le){var fe,m,v;if((v=Object.getOwnPropertyDescriptor(te,ie)||{value:te[ie]}).get?m=v.set?B.stylize("[Getter/Setter]","special"):B.stylize("[Getter]","special"):v.set&&(m=B.stylize("[Setter]","special")),Y(P,ie)||(fe="["+ie+"]"),m||(B.seen.indexOf(v.value)<0?(m=N(T)?M(B,v.value,null):M(B,v.value,T-1)).indexOf(`
`)>-1&&(m=le?m.split(`
`).map(function(A){return"  "+A}).join(`
`).substr(2):`
`+m.split(`
`).map(function(A){return"   "+A}).join(`
`)):m=B.stylize("[Circular]","special")),_(fe)){if(le&&ie.match(/^\d+$/))return m;(fe=JSON.stringify(""+ie)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(fe=fe.substr(1,fe.length-2),fe=B.stylize(fe,"name")):(fe=fe.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),fe=B.stylize(fe,"string"))}return fe+": "+m}function I(B){return Array.isArray(B)}function F(B){return typeof B=="boolean"}function N(B){return B===null}function $(B){return typeof B=="number"}function X(B){return typeof B=="string"}function _(B){return B===void 0}function p(B){return O(B)&&D(B)==="[object RegExp]"}function O(B){return typeof B=="object"&&B!==null}function W(B){return O(B)&&D(B)==="[object Date]"}function R(B){return O(B)&&(D(B)==="[object Error]"||B instanceof Error)}function C(B){return typeof B=="function"}function D(B){return Object.prototype.toString.call(B)}function x(B){return B<10?"0"+B.toString(10):B.toString(10)}l.debuglog=function(B){if(B=B.toUpperCase(),!n[B])if(t.test(B)){var te=o.pid;n[B]=function(){var T=l.format.apply(l,arguments);console.error("%s %d: %s",B,te,T)}}else n[B]=function(){};return n[B]},l.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},l.types=f("./support/types"),l.isArray=I,l.isBoolean=F,l.isNull=N,l.isNullOrUndefined=function(B){return B==null},l.isNumber=$,l.isString=X,l.isSymbol=function(B){return typeof B=="symbol"},l.isUndefined=_,l.isRegExp=p,l.types.isRegExp=p,l.isObject=O,l.isDate=W,l.types.isDate=W,l.isError=R,l.types.isNativeError=R,l.isFunction=C,l.isPrimitive=function(B){return B===null||typeof B=="boolean"||typeof B=="number"||typeof B=="string"||typeof B=="symbol"||B===void 0},l.isBuffer=f("./support/isBuffer");var ne=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Y(B,te){return Object.prototype.hasOwnProperty.call(B,te)}l.log=function(){var B,te;console.log("%s - %s",(B=new Date,te=[x(B.getHours()),x(B.getMinutes()),x(B.getSeconds())].join(":"),[B.getDate(),ne[B.getMonth()],te].join(" ")),l.format.apply(l,arguments))},l.inherits=f("inherits"),l._extend=function(B,te){if(!te||!O(te))return B;for(var T=Object.keys(te),P=T.length;P--;)B[T[P]]=te[T[P]];return B};var K=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function G(B,te){if(!B){var T=new Error("Promise was rejected with a falsy value");T.reason=B,B=T}return te(B)}l.promisify=function(B){if(typeof B!="function")throw new TypeError('The "original" argument must be of type Function');if(K&&B[K]){var te;if(typeof(te=B[K])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(te,K,{value:te,enumerable:!1,writable:!1,configurable:!0}),te}function te(){for(var T,P,ie=new Promise(function(m,v){T=m,P=v}),le=[],fe=0;fe<arguments.length;fe++)le.push(arguments[fe]);le.push(function(m,v){m?P(m):T(v)});try{B.apply(this,le)}catch(m){P(m)}return ie}return Object.setPrototypeOf(te,Object.getPrototypeOf(B)),K&&Object.defineProperty(te,K,{value:te,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(te,e(B))},l.promisify.custom=K,l.callbackify=function(B){if(typeof B!="function")throw new TypeError('The "original" argument must be of type Function');function te(){for(var T=[],P=0;P<arguments.length;P++)T.push(arguments[P]);var ie=T.pop();if(typeof ie!="function")throw new TypeError("The last argument must be of type Function");var le=this,fe=function(){return ie.apply(le,arguments)};B.apply(this,T).then(function(m){o.nextTick(fe.bind(null,null,m))},function(m){o.nextTick(G.bind(null,m,fe))})}return Object.setPrototypeOf(te,Object.getPrototypeOf(B)),Object.defineProperties(te,e(B)),te}}).call(this)}).call(this,f("_process"))},{"./support/isBuffer":79,"./support/types":80,_process:60,inherits:45}],82:[function(f,S,l){(function(o){(function(){var e=f("foreach"),a=f("available-typed-arrays"),n=f("es-abstract/helpers/callBound"),t=n("Object.prototype.toString"),s=f("has-symbols")()&&typeof Symbol.toStringTag=="symbol",d=a(),y=n("String.prototype.slice"),E={},M=f("es-abstract/helpers/getOwnPropertyDescriptor"),b=Object.getPrototypeOf;s&&M&&b&&e(d,function(I){if(typeof o[I]=="function"){var F=new o[I];if(!(Symbol.toStringTag in F))throw new EvalError("this engine has support for Symbol.toStringTag, but "+I+" does not have the property! Please report this.");var N=b(F),$=M(N,Symbol.toStringTag);if(!$){var X=b(N);$=M(X,Symbol.toStringTag)}E[I]=$.get}});var k=f("is-typed-array");S.exports=function(I){return!!k(I)&&(s?function(F){var N=!1;return e(E,function($,X){if(!N)try{var _=$.call(F);_===X&&(N=_)}catch{}}),N}(I):y(t(I),8,-1))}}).call(this)}).call(this,q.g!==void 0?q.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"available-typed-arrays":27,"es-abstract/helpers/callBound":36,"es-abstract/helpers/getOwnPropertyDescriptor":37,foreach:39,"has-symbols":42,"is-typed-array":48}]},{},[20])(20)},4406:xe=>{var re=xe.exports={};re.nextTick=function(){var q=typeof window<"u"&&window.setImmediate,f=typeof window<"u"&&window.postMessage&&window.addEventListener;if(q)return function(l){return window.setImmediate(l)};if(f){var S=[];return window.addEventListener("message",function(l){var o=l.source;o!==window&&o!==null||l.data!=="process-tick"||(l.stopPropagation(),S.length>0&&S.shift()())},!0),function(l){S.push(l),window.postMessage("process-tick","*")}}return function(l){setTimeout(l,0)}}(),re.title="browser",re.browser=!0,re.env={},re.argv=[],re.binding=function(q){throw new Error("process.binding is not supported")},re.cwd=function(){return"/"},re.chdir=function(q){throw new Error("process.chdir is not supported")}},6197:(xe,re,q)=>{var f=q(8834).lW;Object.defineProperty(re,"__esModule",{value:!0}),re.AbstractTokenizer=void 0;const S=q(4644);re.AbstractTokenizer=class{constructor(l){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=l||{}}async readToken(l,o=this.position){const e=f.alloc(l.len);if(await this.readBuffer(e,{position:o})<l.len)throw new S.EndOfStreamError;return l.get(e,0)}async peekToken(l,o=this.position){const e=f.alloc(l.len);if(await this.peekBuffer(e,{position:o})<l.len)throw new S.EndOfStreamError;return l.get(e,0)}async readNumber(l){if(await this.readBuffer(this.numBuffer,{length:l.len})<l.len)throw new S.EndOfStreamError;return l.get(this.numBuffer,0)}async peekNumber(l){if(await this.peekBuffer(this.numBuffer,{length:l.len})<l.len)throw new S.EndOfStreamError;return l.get(this.numBuffer,0)}async ignore(l){if(this.fileInfo.size!==void 0){const o=this.fileInfo.size-this.position;if(l>o)return this.position+=o,o}return this.position+=l,l}async close(){}normalizeOptions(l,o){if(o&&o.position!==void 0&&o.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return o?{mayBeLess:o.mayBeLess===!0,offset:o.offset?o.offset:0,length:o.length?o.length:l.length-(o.offset?o.offset:0),position:o.position?o.position:this.position}:{mayBeLess:!1,offset:0,length:l.length,position:this.position}}}},932:(xe,re,q)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.BufferTokenizer=void 0;const f=q(4644),S=q(6197);class l extends S.AbstractTokenizer{constructor(e,a){super(a),this.uint8Array=e,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:e.length}async readBuffer(e,a){if(a&&a.position){if(a.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=a.position}const n=await this.peekBuffer(e,a);return this.position+=n,n}async peekBuffer(e,a){const n=this.normalizeOptions(e,a),t=Math.min(this.uint8Array.length-n.position,n.length);if(!n.mayBeLess&&t<n.length)throw new f.EndOfStreamError;return e.set(this.uint8Array.subarray(n.position,n.position+t),n.offset),t}async close(){}}re.BufferTokenizer=l},9425:(xe,re,q)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.fromFile=re.FileTokenizer=void 0;const f=q(6197),S=q(4644),l=q(5187);class o extends f.AbstractTokenizer{constructor(a,n){super(n),this.fd=a}async readBuffer(a,n){const t=this.normalizeOptions(a,n);this.position=t.position;const s=await l.read(this.fd,a,t.offset,t.length,t.position);if(this.position+=s.bytesRead,s.bytesRead<t.length&&(!n||!n.mayBeLess))throw new S.EndOfStreamError;return s.bytesRead}async peekBuffer(a,n){const t=this.normalizeOptions(a,n),s=await l.read(this.fd,a,t.offset,t.length,t.position);if(!t.mayBeLess&&s.bytesRead<t.length)throw new S.EndOfStreamError;return s.bytesRead}async close(){return l.close(this.fd)}}re.FileTokenizer=o,re.fromFile=async function(e){const a=await l.stat(e);if(!a.isFile)throw new Error(`File not a file: ${e}`);const n=await l.open(e,"r");return new o(n,{path:e,size:a.size})}},5187:(xe,re,q)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.readFile=re.writeFileSync=re.writeFile=re.read=re.open=re.close=re.stat=re.createReadStream=re.pathExists=void 0;const f=q(6777);re.pathExists=f.existsSync,re.createReadStream=f.createReadStream,re.stat=async function(S){return new Promise((l,o)=>{f.stat(S,(e,a)=>{e?o(e):l(a)})})},re.close=async function(S){return new Promise((l,o)=>{f.close(S,e=>{e?o(e):l()})})},re.open=async function(S,l){return new Promise((o,e)=>{f.open(S,l,(a,n)=>{a?e(a):o(n)})})},re.read=async function(S,l,o,e,a){return new Promise((n,t)=>{f.read(S,l,o,e,a,(s,d,y)=>{s?t(s):n({bytesRead:d,buffer:y})})})},re.writeFile=async function(S,l){return new Promise((o,e)=>{f.writeFile(S,l,a=>{a?e(a):o()})})},re.writeFileSync=function(S,l){f.writeFileSync(S,l)},re.readFile=async function(S){return new Promise((l,o)=>{f.readFile(S,(e,a)=>{e?o(e):l(a)})})}},8286:(xe,re,q)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.ReadStreamTokenizer=void 0;const f=q(6197),S=q(4644);class l extends f.AbstractTokenizer{constructor(e,a){super(a),this.streamReader=new S.StreamReader(e)}async getFileInfo(){return this.fileInfo}async readBuffer(e,a){const n=this.normalizeOptions(e,a),t=n.position-this.position;if(t>0)return await this.ignore(t),this.readBuffer(e,a);if(t<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(n.length===0)return 0;const s=await this.streamReader.read(e,n.offset,n.length);if(this.position+=s,(!a||!a.mayBeLess)&&s<n.length)throw new S.EndOfStreamError;return s}async peekBuffer(e,a){const n=this.normalizeOptions(e,a);let t=0;if(n.position){const s=n.position-this.position;if(s>0){const d=new Uint8Array(n.length+s);return t=await this.peekBuffer(d,{mayBeLess:n.mayBeLess}),e.set(d.subarray(s),n.offset),t-s}if(s<0)throw new Error("Cannot peek from a negative offset in a stream")}if(n.length>0){try{t=await this.streamReader.peek(e,n.offset,n.length)}catch(s){if(a&&a.mayBeLess&&s instanceof S.EndOfStreamError)return 0;throw s}if(!n.mayBeLess&&t<n.length)throw new S.EndOfStreamError}return t}async ignore(e){const a=Math.min(256e3,e),n=new Uint8Array(a);let t=0;for(;t<e;){const s=e-t,d=await this.readBuffer(n,{length:Math.min(a,s)});if(d<0)return d;t+=d}return t}}re.ReadStreamTokenizer=l},7378:(xe,re,q)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.fromBuffer=re.fromStream=re.EndOfStreamError=void 0;const f=q(8286),S=q(932);var l=q(4644);Object.defineProperty(re,"EndOfStreamError",{enumerable:!0,get:function(){return l.EndOfStreamError}}),re.fromStream=function(o,e){return e=e||{},new f.ReadStreamTokenizer(o,e)},re.fromBuffer=function(o,e){return new S.BufferTokenizer(o,e)}},3569:(xe,re,q)=>{Object.defineProperty(re,"__esModule",{value:!0}),re.fromStream=re.fromBuffer=re.EndOfStreamError=re.fromFile=void 0;const f=q(5187),S=q(7378);var l=q(9425);Object.defineProperty(re,"fromFile",{enumerable:!0,get:function(){return l.fromFile}});var o=q(7378);Object.defineProperty(re,"EndOfStreamError",{enumerable:!0,get:function(){return o.EndOfStreamError}}),Object.defineProperty(re,"fromBuffer",{enumerable:!0,get:function(){return o.fromBuffer}}),re.fromStream=async function(e,a){if(a=a||{},e.path){const n=await f.stat(e.path);a.path=e.path,a.size=n.size}return S.fromStream(e,a)}},643:(xe,re)=>{var q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};re.Ee=function(n,t,s,d,y,E){for(var M=arguments.length,b=Array(M>6?M-6:0),k=6;k<M;k++)b[k-6]=arguments[k];return b.length?e.call.apply(e,[null,!1,!0,n,t,s,d,y,E].concat(b)):e(!1,!0,n,t,s,d,y,E)};var f="INVALID_ARGS";function S(n){throw new Error(n)}function l(n){var t=Object.keys(n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t}function o(n){if(Array.isArray(n))return n.slice();for(var t=l(n),s={},d=0;d<t.length;d++){var y=t[d];s[y]=n[y]}return s}function e(n,t,s){var d=s;d==null&&S(f);for(var y=!1,E=arguments.length,M=Array(E>3?E-3:0),b=3;b<E;b++)M[b-3]=arguments[b];for(var k=0;k<M.length;k++){var I=M[k];if(I!=null){var F=l(I);if(F.length)for(var N=0;N<=F.length;N++){var $=F[N];if(!n||d[$]===void 0){var X=I[$];t&&a(d[$])&&a(X)&&(X=e(n,t,d[$],X)),X!==void 0&&X!==d[$]&&(y||(y=!0,d=o(d)),d[$]=X)}}}}return d}function a(n){var t=n===void 0?"undefined":q(n);return n!=null&&t==="object"}},5010:(xe,re,q)=>{var f=q(8834).lW;Object.defineProperty(re,"__esModule",{value:!0}),re.AnsiStringType=re.StringType=re.BufferType=re.Uint8ArrayType=re.IgnoreType=re.Float80_LE=re.Float80_BE=re.Float64_LE=re.Float64_BE=re.Float32_LE=re.Float32_BE=re.Float16_LE=re.Float16_BE=re.INT64_BE=re.UINT64_BE=re.INT64_LE=re.UINT64_LE=re.INT32_LE=re.INT32_BE=re.INT24_BE=re.INT24_LE=re.INT16_LE=re.INT16_BE=re.INT8=re.UINT32_BE=re.UINT32_LE=re.UINT24_BE=re.UINT24_LE=re.UINT16_BE=re.UINT16_LE=re.UINT8=void 0;const S=q(2333);function l(e){return new DataView(e.buffer,e.byteOffset)}re.UINT8={len:1,get:(e,a)=>l(e).getUint8(a),put:(e,a,n)=>(l(e).setUint8(a,n),a+1)},re.UINT16_LE={len:2,get:(e,a)=>l(e).getUint16(a,!0),put:(e,a,n)=>(l(e).setUint16(a,n,!0),a+2)},re.UINT16_BE={len:2,get:(e,a)=>l(e).getUint16(a),put:(e,a,n)=>(l(e).setUint16(a,n),a+2)},re.UINT24_LE={len:3,get(e,a){const n=l(e);return n.getUint8(a)+(n.getUint16(a+1,!0)<<8)},put(e,a,n){const t=l(e);return t.setUint8(a,255&n),t.setUint16(a+1,n>>8,!0),a+3}},re.UINT24_BE={len:3,get(e,a){const n=l(e);return(n.getUint16(a)<<8)+n.getUint8(a+2)},put(e,a,n){const t=l(e);return t.setUint16(a,n>>8),t.setUint8(a+2,255&n),a+3}},re.UINT32_LE={len:4,get:(e,a)=>l(e).getUint32(a,!0),put:(e,a,n)=>(l(e).setUint32(a,n,!0),a+4)},re.UINT32_BE={len:4,get:(e,a)=>l(e).getUint32(a),put:(e,a,n)=>(l(e).setUint32(a,n),a+4)},re.INT8={len:1,get:(e,a)=>l(e).getInt8(a),put:(e,a,n)=>(l(e).setInt8(a,n),a+1)},re.INT16_BE={len:2,get:(e,a)=>l(e).getInt16(a),put:(e,a,n)=>(l(e).setInt16(a,n),a+2)},re.INT16_LE={len:2,get:(e,a)=>l(e).getInt16(a,!0),put:(e,a,n)=>(l(e).setInt16(a,n,!0),a+2)},re.INT24_LE={len:3,get(e,a){const n=re.UINT24_LE.get(e,a);return n>8388607?n-16777216:n},put(e,a,n){const t=l(e);return t.setUint8(a,255&n),t.setUint16(a+1,n>>8,!0),a+3}},re.INT24_BE={len:3,get(e,a){const n=re.UINT24_BE.get(e,a);return n>8388607?n-16777216:n},put(e,a,n){const t=l(e);return t.setUint16(a,n>>8),t.setUint8(a+2,255&n),a+3}},re.INT32_BE={len:4,get:(e,a)=>l(e).getInt32(a),put:(e,a,n)=>(l(e).setInt32(a,n),a+4)},re.INT32_LE={len:4,get:(e,a)=>l(e).getInt32(a,!0),put:(e,a,n)=>(l(e).setInt32(a,n,!0),a+4)},re.UINT64_LE={len:8,get:(e,a)=>l(e).getBigUint64(a,!0),put:(e,a,n)=>(l(e).setBigUint64(a,n,!0),a+8)},re.INT64_LE={len:8,get:(e,a)=>l(e).getBigInt64(a,!0),put:(e,a,n)=>(l(e).setBigInt64(a,n,!0),a+8)},re.UINT64_BE={len:8,get:(e,a)=>l(e).getBigUint64(a),put:(e,a,n)=>(l(e).setBigUint64(a,n),a+8)},re.INT64_BE={len:8,get:(e,a)=>l(e).getBigInt64(a),put:(e,a,n)=>(l(e).setBigInt64(a,n),a+8)},re.Float16_BE={len:2,get(e,a){return S.read(e,a,!1,10,this.len)},put(e,a,n){return S.write(e,n,a,!1,10,this.len),a+this.len}},re.Float16_LE={len:2,get(e,a){return S.read(e,a,!0,10,this.len)},put(e,a,n){return S.write(e,n,a,!0,10,this.len),a+this.len}},re.Float32_BE={len:4,get:(e,a)=>l(e).getFloat32(a),put:(e,a,n)=>(l(e).setFloat32(a,n),a+4)},re.Float32_LE={len:4,get:(e,a)=>l(e).getFloat32(a,!0),put:(e,a,n)=>(l(e).setFloat32(a,n,!0),a+4)},re.Float64_BE={len:8,get:(e,a)=>l(e).getFloat64(a),put:(e,a,n)=>(l(e).setFloat64(a,n),a+8)},re.Float64_LE={len:8,get:(e,a)=>l(e).getFloat64(a,!0),put:(e,a,n)=>(l(e).setFloat64(a,n,!0),a+8)},re.Float80_BE={len:10,get(e,a){return S.read(e,a,!1,63,this.len)},put(e,a,n){return S.write(e,n,a,!1,63,this.len),a+this.len}},re.Float80_LE={len:10,get(e,a){return S.read(e,a,!0,63,this.len)},put(e,a,n){return S.write(e,n,a,!0,63,this.len),a+this.len}},re.IgnoreType=class{constructor(e){this.len=e}get(e,a){}},re.Uint8ArrayType=class{constructor(e){this.len=e}get(e,a){return e.subarray(a,a+this.len)}},re.BufferType=class{constructor(e){this.len=e}get(e,a){return f.from(e.subarray(a,a+this.len))}},re.StringType=class{constructor(e,a){this.len=e,this.encoding=a}get(e,a){return f.from(e).toString(this.encoding,a,a+this.len)}};class o{constructor(a){this.len=a}static decode(a,n,t){let s="";for(let d=n;d<t;++d)s+=o.codePointToString(o.singleByteDecoder(a[d]));return s}static inRange(a,n,t){return n<=a&&a<=t}static codePointToString(a){return a<=65535?String.fromCharCode(a):(a-=65536,String.fromCharCode(55296+(a>>10),56320+(1023&a)))}static singleByteDecoder(a){if(o.inRange(a,0,127))return a;const n=o.windows1252[a-128];if(n===null)throw Error("invaliding encoding");return n}get(a,n=0){return o.decode(a,n,n+this.len)}}re.AnsiStringType=o,o.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},311:(xe,re)=>{(re=xe.exports=function(q){return q.replace(/^\s*|\s*$/g,"")}).left=function(q){return q.replace(/^\s*/,"")},re.right=function(q){return q.replace(/\s*$/,"")}},9299:(xe,re,q)=>{var f=q(4406);(function(){var S={};function l(){f===void 0&&console.log.apply(console,arguments)}xe.exports=S,function(o,e){var a,n,t,s,d,y,E,M,b,k,I,F,N,$,X;(function(){var _=function(){function W(R){this.message="JPEG error: "+R}return W.prototype=new Error,W.prototype.name="JpegError",W.constructor=W,W}(),p=function(){var W=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),R=4017,C=799,D=3406,x=2276,ne=1567,Y=3784,K=5793,G=2896;function B(m){m==null&&(m={}),m.w==null&&(m.w=-1),this.V=m.n,this.N=m.w}function te(m,v){for(var A,V,i,r=0,h=[],L=16;L>0&&!m[L-1];)L--;h.push({children:[],index:0});var Q=h[0];for(A=0;A<L;A++){for(V=0;V<m[A];V++){for((Q=h.pop()).children[Q.index]=v[r];Q.index>0;)Q=h.pop();for(Q.index++,h.push(Q);h.length<=A;)h.push(i={children:[],index:0}),Q.children[Q.index]=i.children,Q=i;r++}A+1<L&&(h.push(i={children:[],index:0}),Q.children[Q.index]=i.children,Q=i)}return h[0].children}function T(m,v,A){return 64*((m.P+1)*v+A)}function P(m,v,A,V,i,r,h,L,Q,g){g==null&&(g=!1);var J,oe,H,ge,ve,Ie,ke,ae,ue,we,Be,be=A.m,Pe=A.Z,Te=v,Ne=0,He=0,Qe=0,at=0,U=0,Ee=0;function Z(){if(He>0)return He--,Ne>>He&1;if((Ne=m[v++])===255){var Se=m[v++];if(Se){if(Se===220&&g){var it=O(m,v+=2);if(v+=2,it>0&&it!==A.s)throw new DNLMarkerError("Found DNL marker (0xFFDC) while parsing scan data",it)}else if(Se===217){if(g){var rt=8*U;if(rt>0&&rt<A.s/10)throw new DNLMarkerError("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",rt)}throw new EOIMarkerError("Found EOI marker (0xFFD9) while parsing scan data")}throw new _("unexpected marker")}}return He=7,Ne>>>7}function ce(Se){for(var it=Se;;){switch(typeof(it=it[Z()])){case"number":return it;case"object":continue}throw new _("invalid huffman sequence")}}function Ve(Se){for(var it=0;Se>0;)it=it<<1|Z(),Se--;return it}function Le(Se){if(Se===1)return Z()===1?1:-1;var it=Ve(Se);return it>=1<<Se-1?it:it+(-1<<Se)+1}function $e(Se,it,rt,Ke,ut){var Mt=rt%be;U=(rt/be|0)*Se.A+Ke;var mt=Mt*Se.h+ut;it(Se,T(Se,U,mt))}function De(Se,it,rt){U=rt/Se.P|0;var Ke=rt%Se.P;it(Se,T(Se,U,Ke))}var Xe=V.length;for(ke=Pe?r===0?L===0?function(Se,it){var rt=ce(Se.J),Ke=rt===0?0:Le(rt)<<Q;Se.D[it]=Se.Q+=Ke}:function(Se,it){Se.D[it]|=Z()<<Q}:L===0?function(Se,it){if(Qe>0)Qe--;else for(var rt=r,Ke=h;rt<=Ke;){var ut=ce(Se.i),Mt=15&ut,mt=ut>>4;if(Mt!==0){var nt=W[rt+=mt];Se.D[it+nt]=Le(Mt)*(1<<Q),rt++}else{if(mt<15){Qe=Ve(mt)+(1<<mt)-1;break}rt+=16}}}:function(Se,it){for(var rt,Ke,ut=r,Mt=h,mt=0;ut<=Mt;){var nt=it+W[ut],vt=Se.D[nt]<0?-1:1;switch(at){case 0:if(mt=(Ke=ce(Se.i))>>4,(rt=15&Ke)==0)mt<15?(Qe=Ve(mt)+(1<<mt),at=4):(mt=16,at=1);else{if(rt!==1)throw new _("invalid ACn encoding");J=Le(rt),at=mt?2:3}continue;case 1:case 2:Se.D[nt]?Se.D[nt]+=vt*(Z()<<Q):--mt==0&&(at=at===2?3:0);break;case 3:Se.D[nt]?Se.D[nt]+=vt*(Z()<<Q):(Se.D[nt]=J<<Q,at=0);break;case 4:Se.D[nt]&&(Se.D[nt]+=vt*(Z()<<Q))}ut++}at===4&&--Qe==0&&(at=0)}:function(Se,it){var rt=ce(Se.J),Ke=rt===0?0:Le(rt),ut=1;for(Se.D[it]=Se.Q+=Ke;ut<64;){var Mt=ce(Se.i),mt=15&Mt,nt=Mt>>4;if(mt!==0){var vt=W[ut+=nt];Se.D[it+vt]=Le(mt),ut++}else{if(nt<15)break;ut+=16}}},ue=Xe===1?V[0].P*V[0].c:be*A.R;Ee<=ue;){var Ue=i?Math.min(ue-Ee,i):ue;if(Ue>0){for(H=0;H<Xe;H++)V[H].Q=0;if(Qe=0,Xe===1)for(oe=V[0],Ie=0;Ie<Ue;Ie++)De(oe,ke,Ee),Ee++;else for(Ie=0;Ie<Ue;Ie++){for(H=0;H<Xe;H++)for(we=(oe=V[H]).h,Be=oe.A,ge=0;ge<Be;ge++)for(ve=0;ve<we;ve++)$e(oe,ke,Ee,ge,ve);Ee++}}if(He=0,!(ae=fe(m,v))||(ae.u&&(v=ae.offset),!(ae.M>=65488&&ae.M<=65495)))break;v+=2}return v-Te}function ie(m,v,A){var V,i,r,h,L,Q,g,J,oe,H,ge,ve,Ie,ke,ae,ue,we,Be=m.$,be=m.D;if(!Be)throw new _("missing required Quantization Table.");for(var Pe=0;Pe<64;Pe+=8)oe=be[v+Pe],H=be[v+Pe+1],ge=be[v+Pe+2],ve=be[v+Pe+3],Ie=be[v+Pe+4],ke=be[v+Pe+5],ae=be[v+Pe+6],ue=be[v+Pe+7],oe*=Be[Pe],H|ge|ve|Ie|ke|ae|ue?(H*=Be[Pe+1],ge*=Be[Pe+2],ve*=Be[Pe+3],Ie*=Be[Pe+4],ke*=Be[Pe+5],ae*=Be[Pe+6],ue*=Be[Pe+7],i=(V=(V=K*oe+128>>8)+(i=K*Ie+128>>8)+1>>1)-i,we=(r=ge)*Y+(h=ae)*ne+128>>8,r=r*ne-h*Y+128>>8,g=(L=(L=G*(H-ue)+128>>8)+(g=ke<<4)+1>>1)-g,Q=(J=(J=G*(H+ue)+128>>8)+(Q=ve<<4)+1>>1)-Q,h=(V=V+(h=we)+1>>1)-h,r=(i=i+r+1>>1)-r,we=L*x+J*D+2048>>12,L=L*D-J*x+2048>>12,J=we,we=Q*C+g*R+2048>>12,Q=Q*R-g*C+2048>>12,g=we,A[Pe]=V+J,A[Pe+7]=V-J,A[Pe+1]=i+g,A[Pe+6]=i-g,A[Pe+2]=r+Q,A[Pe+5]=r-Q,A[Pe+3]=h+L,A[Pe+4]=h-L):(we=K*oe+512>>10,A[Pe]=we,A[Pe+1]=we,A[Pe+2]=we,A[Pe+3]=we,A[Pe+4]=we,A[Pe+5]=we,A[Pe+6]=we,A[Pe+7]=we);for(var Te=0;Te<8;++Te)oe=A[Te],(H=A[Te+8])|(ge=A[Te+16])|(ve=A[Te+24])|(Ie=A[Te+32])|(ke=A[Te+40])|(ae=A[Te+48])|(ue=A[Te+56])?(i=(V=4112+((V=K*oe+2048>>12)+(i=K*Ie+2048>>12)+1>>1))-i,we=(r=ge)*Y+(h=ae)*ne+2048>>12,r=r*ne-h*Y+2048>>12,h=we,g=(L=(L=G*(H-ue)+2048>>12)+(g=ke)+1>>1)-g,Q=(J=(J=G*(H+ue)+2048>>12)+(Q=ve)+1>>1)-Q,we=L*x+J*D+2048>>12,L=L*D-J*x+2048>>12,J=we,we=Q*C+g*R+2048>>12,Q=Q*R-g*C+2048>>12,(oe=(V=V+h+1>>1)+J)<16?oe=0:oe>=4080?oe=255:oe>>=4,(H=(i=i+r+1>>1)+(g=we))<16?H=0:H>=4080?H=255:H>>=4,(ge=(r=i-r)+Q)<16?ge=0:ge>=4080?ge=255:ge>>=4,(ve=(h=V-h)+L)<16?ve=0:ve>=4080?ve=255:ve>>=4,(Ie=h-L)<16?Ie=0:Ie>=4080?Ie=255:Ie>>=4,(ke=r-Q)<16?ke=0:ke>=4080?ke=255:ke>>=4,(ae=i-g)<16?ae=0:ae>=4080?ae=255:ae>>=4,(ue=V-J)<16?ue=0:ue>=4080?ue=255:ue>>=4,be[v+Te]=oe,be[v+Te+8]=H,be[v+Te+16]=ge,be[v+Te+24]=ve,be[v+Te+32]=Ie,be[v+Te+40]=ke,be[v+Te+48]=ae,be[v+Te+56]=ue):(we=(we=K*oe+8192>>14)<-2040?0:we>=2024?255:we+2056>>4,be[v+Te]=we,be[v+Te+8]=we,be[v+Te+16]=we,be[v+Te+24]=we,be[v+Te+32]=we,be[v+Te+40]=we,be[v+Te+48]=we,be[v+Te+56]=we)}function le(m,v){for(var A=v.P,V=v.c,i=new Int16Array(64),r=0;r<V;r++)for(var h=0;h<A;h++)ie(v,T(v,r,h),i);return v.D}function fe(m,v,A){A==null&&(A=v);var V=m.length-1,i=A<v?A:v;if(v>=V)return null;var r=O(m,v);if(r>=65472&&r<=65534)return{u:null,M:r,offset:v};for(var h=O(m,i);!(h>=65472&&h<=65534);){if(++i>=V)return null;h=O(m,i)}return{u:r.toString(16),M:h,offset:i}}return B.prototype={parse(m,v){v==null&&(v={});var A,V,i=v.F,r=0,h=null,L=null,Q=0;function g(){var It=O(m,r),Dt=(r+=2)+It-2,Bt=fe(m,Dt,r);Bt&&Bt.u&&(Dt=Bt.offset);var St=m.subarray(r,Dt);return r+=St.length,St}function J(It){for(var Dt=Math.ceil(It.o/8/It.X),Bt=Math.ceil(It.s/8/It.B),St=0;St<It.W.length;St++){De=It.W[St];var zt=Math.ceil(Math.ceil(It.o/8)*De.h/It.X),Et=Math.ceil(Math.ceil(It.s/8)*De.A/It.B),kt=Dt*De.h,Pt=Bt*De.A*64*(kt+1);De.D=new Int16Array(Pt),De.P=zt,De.c=Et}It.m=Dt,It.R=Bt}var oe=[],H=[],ge=[],ve=O(m,r);if(r+=2,ve!==65496)throw new _("SOI not found");ve=O(m,r),r+=2;e:for(;ve!==65497;){var Ie,ke,ae;switch(ve){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var ue=g();ve===65504&&ue[0]===74&&ue[1]===70&&ue[2]===73&&ue[3]===70&&ue[4]===0&&(h={version:{d:ue[5],T:ue[6]},K:ue[7],j:ue[8]<<8|ue[9],H:ue[10]<<8|ue[11],S:ue[12],I:ue[13],C:ue.subarray(14,14+3*ue[12]*ue[13])}),ve===65518&&ue[0]===65&&ue[1]===100&&ue[2]===111&&ue[3]===98&&ue[4]===101&&(L={version:ue[5]<<8|ue[6],k:ue[7]<<8|ue[8],q:ue[9]<<8|ue[10],a:ue[11]});break;case 65499:for(var we=O(m,r)+(r+=2)-2;r<we;){var Be=m[r++],be=new Uint16Array(64);if(Be>>4){if(Be>>4!=1)throw new _("DQT - invalid table spec");for(ke=0;ke<64;ke++)be[W[ke]]=O(m,r),r+=2}else for(ke=0;ke<64;ke++)be[W[ke]]=m[r++];oe[15&Be]=be}break;case 65472:case 65473:case 65474:if(A)throw new _("Only single frame JPEGs supported");r+=2,(A={}).G=ve===65473,A.Z=ve===65474,A.precision=m[r++];var Pe,Te=O(m,r),Ne=0,He=0;r+=2,A.s=i||Te,A.o=O(m,r),r+=2,A.W=[],A._={};var Qe=m[r++];for(Ie=0;Ie<Qe;Ie++){Pe=m[r];var at=m[r+1]>>4,U=15&m[r+1];Ne<at&&(Ne=at),He<U&&(He=U);var Ee=m[r+2];ae=A.W.push({h:at,A:U,L:Ee,$:null}),A._[Pe]=ae-1,r+=3}A.X=Ne,A.B=He,J(A);break;case 65476:var Z=O(m,r);for(r+=2,Ie=2;Ie<Z;){var ce=m[r++],Ve=new Uint8Array(16),Le=0;for(ke=0;ke<16;ke++,r++)Le+=Ve[ke]=m[r];var $e=new Uint8Array(Le);for(ke=0;ke<Le;ke++,r++)$e[ke]=m[r];Ie+=17+Le,(ce>>4?H:ge)[15&ce]=te(Ve,$e)}break;case 65501:V=O(m,r+=2),r+=2;break;case 65498:var De,Xe=++Q==1&&!i;r+=2;var Ue=m[r++],Se=[];for(Ie=0;Ie<Ue;Ie++){var it=m[r++],rt=A._[it];(De=A.W[rt]).index=it;var Ke=m[r++];De.J=ge[Ke>>4],De.i=H[15&Ke],Se.push(De)}var ut=m[r++],Mt=m[r++],mt=m[r++];try{var nt=P(m,r,A,Se,V,ut,Mt,mt>>4,15&mt,Xe);r+=nt}catch(It){if(It instanceof DNLMarkerError)return this.parse(m,{F:It.s});if(It instanceof EOIMarkerError)break e;throw It}break;case 65500:r+=4;break;case 65535:m[r]!==255&&r--;break;default:var vt=fe(m,r-2,r-3);if(vt&&vt.u){r=vt.offset;break}if(r>=m.length-1)break e;throw new _("JpegImage.parse - unknown marker: "+ve.toString(16))}ve=O(m,r),r+=2}for(this.width=A.o,this.height=A.s,this.g=h,this.b=L,this.W=[],Ie=0;Ie<A.W.length;Ie++){var Rt=oe[(De=A.W[Ie]).L];Rt&&(De.$=Rt),this.W.push({index:De.index,e:le(0,De),l:De.h/A.X,t:De.A/A.B,P:De.P,c:De.c})}this.p=this.W.length},Y(m,v,A){A==null&&(A=!1);var V,i,r,h,L,Q,g,J,oe,H,ge,ve,Ie=this.width/m,ke=this.height/v,ae=0,ue=this.W.length,we=m*v*ue,Be=new Uint8ClampedArray(we),be=new Uint32Array(m),Pe=4294967288;for(g=0;g<ue;g++){if(i=(V=this.W[g]).l*Ie,r=V.t*ke,ae=g,ge=V.e,h=V.P+1<<3,i!==ve){for(L=0;L<m;L++)J=0|L*i,be[L]=(J&Pe)<<3|7&J;ve=i}for(Q=0;Q<v;Q++)for(H=h*((J=0|Q*r)&Pe)|(7&J)<<3,L=0;L<m;L++)Be[ae]=ge[H+be[L]],ae+=ue}var Te=this.V;if(A||ue!==4||Te||(Te=new Int32Array([-256,255,-256,255,-256,255,-256,255])),Te)for(g=0;g<we;)for(J=0,oe=0;J<ue;J++,g++,oe+=2)Be[g]=(Be[g]*Te[oe]>>8)+Te[oe+1];return Be},get f(){return this.b?!!this.b.a:this.p===3?this.N!==0&&(this.W[0].index!==82||this.W[1].index!==71||this.W[2].index!==66):this.N===1},z:function(m){for(var v,A,V,i=0,r=m.length;i<r;i+=3)v=m[i],A=m[i+1],V=m[i+2],m[i]=v-179.456+1.402*V,m[i+1]=v+135.459-.344*A-.714*V,m[i+2]=v-226.816+1.772*A;return m},O:function(m){for(var v,A,V,i,r=0,h=0,L=m.length;h<L;h+=4)v=m[h],A=m[h+1],V=m[h+2],i=m[h+3],m[r++]=A*(-660635669420364e-19*A+.000437130475926232*V-54080610064599e-18*v+.00048449797120281*i-.154362151871126)-122.67195406894+V*(-.000957964378445773*V+.000817076911346625*v-.00477271405408747*i+1.53380253221734)+v*(.000961250184130688*v-.00266257332283933*i+.48357088451265)+i*(-.000336197177618394*i+.484791561490776),m[r++]=107.268039397724+A*(219927104525741e-19*A-.000640992018297945*V+.000659397001245577*v+.000426105652938837*i-.176491792462875)+V*(-.000778269941513683*V+.00130872261408275*v+.000770482631801132*i-.151051492775562)+v*(.00126935368114843*v-.00265090189010898*i+.25802910206845)+i*(-.000318913117588328*i-.213742400323665),m[r++]=A*(-.000570115196973677*A-263409051004589e-19*V+.0020741088115012*v-.00288260236853442*i+.814272968359295)-20.810012546947+V*(-153496057440975e-19*V-.000132689043961446*v+.000560833691242812*i-.195152027534049)+v*(.00174418132927582*v-.00255243321439347*i+.116935020465145)+i*(-.000343531996510555*i+.24165260232407);return m.subarray(0,r)},r:function(m){for(var v,A,V,i=0,r=m.length;i<r;i+=4)v=m[i],A=m[i+1],V=m[i+2],m[i]=434.456-v-1.402*V,m[i+1]=119.541-v+.344*A+.714*V,m[i+2]=481.816-v-1.772*A;return m},U:function(m){for(var v,A,V,i,r=0,h=0,L=m.length;h<L;h+=4)v=m[h],A=m[h+1],V=m[h+2],i=m[h+3],m[r++]=255+v*(-6747147073602441e-20*v+.0008379262121013727*A+.0002894718188643294*V+.003264231057537806*i-1.1185611867203937)+A*(26374107616089405e-21*A-8626949158638572e-20*V-.0002748769067499491*i-.02155688794978967)+V*(-3878099212869363e-20*V-.0003267808279485286*i+.0686742238595345)-i*(.0003361971776183937*i+.7430659151342254),m[r++]=255+v*(.00013596372813588848*v+.000924537132573585*A+.00010567359618683593*V+.0004791864687436512*i-.3109689587515875)+A*(-.00023545346108370344*A+.0002702845253534714*V+.0020200308977307156*i-.7488052167015494)+V*(6834815998235662e-20*V+.00015168452363460973*i-.09751927774728933)-i*(.0003189131175883281*i+.7364883807733168),m[r++]=255+v*(13598650411385307e-21*v+.00012423956175490851*A+.0004751985097583589*V-36729317476630422e-22*i-.05562186980264034)+A*(.00016141380598724676*A+.0009692239130725186*V+.0007782692450036253*i-.44015232367526463)+V*(5068882914068769e-22*V+.0017778369011375071*i-.7591454649749609)-i*(.0003435319965105553*i+.7063770186160144);return m.subarray(0,r)},getData:function(m){var v=m.width,A=m.height,V=m.forceRGB,i=m.isSourcePDF;if(this.p>4)throw new _("Unsupported color mode");var r=this.Y(v,A,i);if(this.p===1&&V){for(var h=r.length,L=new Uint8ClampedArray(3*h),Q=0,g=0;g<h;g++){var J=r[g];L[Q++]=J,L[Q++]=J,L[Q++]=J}return L}if(this.p===3&&this.f)return this.z(r);if(this.p===4){if(this.f)return V?this.O(r):this.r(r);if(V)return this.U(r)}return r}},B}();function O(W,R){return W[R]<<8|W[R+1]}o.JpegDecoder=p})(),o.encodeImage=function(_,p,O,W){var R={t256:[p],t257:[O],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[O],t279:[p*O*4],t282:[[72,1]],t283:[[72,1]],t284:[1],t286:[[0,1]],t287:[[0,1]],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(W)for(var C in W)R[C]=W[C];var D=new Uint8Array(o.encode([R])),x=new Uint8Array(_),ne=new Uint8Array(1e3+p*O*4);for(C=0;C<D.length;C++)ne[C]=D[C];for(C=0;C<x.length;C++)ne[1e3+C]=x[C];return ne.buffer},o.encode=function(_){var p=new Uint8Array(2e4),O=4,W=o._binBE;p[0]=p[1]=77,W.writeUshort(p,2,42);var R=8;W.writeUint(p,O,R),O+=4;for(var C=0;C<_.length;C++){var D=o._writeIFD(W,o._types.basic,p,R,_[C]);R=D[1],C<_.length-1&&(3&R&&(R+=4-(3&R)),W.writeUint(p,D[0],R))}return p.slice(0,R).buffer},o.decode=function(_,p){p==null&&(p={parseMN:!0,debug:!1});var O=new Uint8Array(_),W=0,R=o._binBE.readASCII(O,W,2);W+=2;var C=R=="II"?o._binLE:o._binBE;C.readUshort(O,W),W+=2;var D=C.readUint(O,W);W+=4;for(var x=[];;){var ne=C.readUshort(O,D),Y=C.readUshort(O,D+4);if(ne!=0&&(Y<1||13<Y)){l("error in TIFF");break}if(o._readIFD(C,O,D,x,0,p),(D=C.readUint(O,D+2+12*ne))==0)break}return x},o.decodeImage=function(_,p,O){if(!p.data){var W=new Uint8Array(_),R=o._binBE.readASCII(W,0,2);if(p.t256!=null){p.isLE=R=="II",p.width=p.t256[0],p.height=p.t257[0];var C,D=p.t259?p.t259[0]:1,x=p.t266?p.t266[0]:1;p.t284&&p.t284[0]==2&&l("PlanarConfiguration 2 should not be used!"),D==7&&p.t258&&p.t258.length>3&&(p.t258=p.t258.slice(0,3)),C=p.t258?Math.min(32,p.t258[0])*p.t258.length:p.t277?p.t277[0]:1,D==1&&p.t279!=null&&p.t278&&p.t262[0]==32803&&(C=Math.round(8*p.t279[0]/(p.width*p.t278[0]))),p.t50885&&p.t50885[0]==4&&(C=3*p.t258[0]);var ne=8*Math.ceil(p.width*C/8),Y=p.t273;(Y==null||p.t322)&&(Y=p.t324);var K=p.t279;D==1&&Y.length==1&&(K=[p.height*(ne>>>3)]),(K==null||p.t322)&&(K=p.t325);var G=new Uint8Array(p.height*(ne>>>3)),B=0;if(p.t322!=null){var te=p.t322[0],T=p.t323[0],P=Math.floor((p.width+te-1)/te),ie=Math.floor((p.height+T-1)/T),le=new Uint8Array(0|Math.ceil(te*T*C/8));console.log("====",P,ie);for(var fe=0;fe<ie;fe++)for(var m=0;m<P;m++){var v=fe*P+m;le.fill(0),o.decode._decompress(p,O,W,Y[v],K[v],D,le,0,x),D==6?G=le:o._copyTile(le,0|Math.ceil(te*C/8),T,G,0|Math.ceil(p.width*C/8),p.height,0|Math.ceil(m*te*C/8),fe*T)}B=8*G.length}else{var A=p.t278?p.t278[0]:p.height;for(A=Math.min(A,p.height),console.log("====",p.width,A),v=0;v<Y.length;v++)o.decode._decompress(p,O,W,Y[v],K[v],D,G,0|Math.ceil(B/8),x),B+=ne*A;B=Math.min(B,8*G.length)}p.data=new Uint8Array(G.buffer,0,0|Math.ceil(B/8))}}},o.decode._decompress=function(_,p,O,W,R,C,D,x,ne){if(C==1)for(var Y=0;Y<R;Y++)D[x+Y]=O[W+Y];else if(C==2)o.decode._decodeG2(O,W,R,D,x,_.width,ne);else if(C==3)o.decode._decodeG3(O,W,R,D,x,_.width,ne,!!_.t292&&(1&_.t292[0])==1);else if(C==4)o.decode._decodeG4(O,W,R,D,x,_.width,ne);else if(C==5)o.decode._decodeLZW(O,W,R,D,x,8);else if(C==6)o.decode._decodeOldJPEG(_,O,W,R,D,x);else if(C==7||C==34892)o.decode._decodeNewJPEG(_,O,W,R,D,x);else if(C==8||C==32946)for(var K=new Uint8Array(O.buffer,W,R),G=e.inflate(K),B=0;B<G.length;B++)D[x+B]=G[B];else C==9?o.decode._decodeVC5(O,W,R,D,x):C==32767?o.decode._decodeARW(_,O,W,R,D,x):C==32773?o.decode._decodePackBits(O,W,R,D,x):C==32809?o.decode._decodeThunder(O,W,R,D,x):C==34713?o.decode._decodeNikon(_,p,O,W,R,D,x):C==34676?o.decode._decodeLogLuv32(_,O,W,R,D,x):l("Unknown compression",C);var te=_.t258?Math.min(32,_.t258[0]):1,T=_.t277?_.t277[0]:1,P=te*T>>>3,ie=_.t278?_.t278[0]:_.height,le=Math.ceil(te*T*_.width/8);if(te==16&&!_.isLE&&_.t33422==null)for(var fe=0;fe<ie;fe++)for(var m=x+fe*le,v=1;v<le;v+=2){var A=D[m+v];D[m+v]=D[m+v-1],D[m+v-1]=A}if(_.t317&&_.t317[0]==2)for(fe=0;fe<ie;fe++){var V=x+fe*le;if(te==16)for(Y=P;Y<le;Y+=2){var i=(D[V+Y+1]<<8|D[V+Y])+(D[V+Y-P+1]<<8|D[V+Y-P]);D[V+Y]=255&i,D[V+Y+1]=i>>>8&255}else if(T==3)for(Y=3;Y<le;Y+=3)D[V+Y]=D[V+Y]+D[V+Y-3]&255,D[V+Y+1]=D[V+Y+1]+D[V+Y-2]&255,D[V+Y+2]=D[V+Y+2]+D[V+Y-1]&255;else for(Y=P;Y<le;Y++)D[V+Y]=D[V+Y]+D[V+Y-P]&255}},o.decode._decodeVC5=o.decode._decodeVC5=function(){var _,p,O,W=[1,0,1,0,2,2,1,1,3,7,1,2,5,25,1,3,6,48,1,4,6,54,1,5,7,111,1,8,7,99,1,6,7,105,12,0,7,107,1,7,8,209,20,0,8,212,1,9,8,220,1,10,9,393,1,11,9,394,32,0,9,416,1,12,9,427,1,13,10,887,1,18,10,784,1,14,10,790,1,15,10,835,60,0,10,852,1,16,10,885,1,17,11,1571,1,19,11,1668,1,20,11,1669,100,0,11,1707,1,21,11,1772,1,22,12,3547,1,29,12,3164,1,24,12,3166,1,25,12,3140,1,23,12,3413,1,26,12,3537,1,27,12,3539,1,28,13,7093,1,35,13,6283,1,30,13,6331,1,31,13,6335,180,0,13,6824,1,32,13,7072,1,33,13,7077,320,0,13,7076,1,34,14,12565,1,36,14,12661,1,37,14,12669,1,38,14,13651,1,39,14,14184,1,40,15,28295,1,46,15,28371,1,47,15,25320,1,42,15,25336,1,43,15,25128,1,41,15,27300,1,44,15,28293,1,45,16,50259,1,48,16,50643,1,49,16,50675,1,50,16,56740,1,53,16,56584,1,51,16,56588,1,52,17,113483,1,61,17,113482,1,60,17,101285,1,55,17,101349,1,56,17,109205,1,57,17,109207,1,58,17,100516,1,54,17,113171,1,59,18,202568,1,62,18,202696,1,63,18,218408,1,64,18,218412,1,65,18,226340,1,66,18,226356,1,67,18,226358,1,68,19,402068,1,69,19,405138,1,70,19,405394,1,71,19,436818,1,72,19,436826,1,73,19,452714,1,75,19,452718,1,76,19,452682,1,74,20,804138,1,77,20,810279,1,78,20,810790,1,79,20,873638,1,80,20,873654,1,81,20,905366,1,82,20,905430,1,83,20,905438,1,84,21,1608278,1,85,21,1620557,1,86,21,1621582,1,87,21,1621583,1,88,21,1747310,1,89,21,1810734,1,90,21,1810735,1,91,21,1810863,1,92,21,1810879,1,93,22,3621725,1,99,22,3621757,1,100,22,3241112,1,94,22,3494556,1,95,22,3494557,1,96,22,3494622,1,97,22,3494623,1,98,23,6482227,1,102,23,6433117,1,101,23,6989117,1,103,23,6989119,1,105,23,6989118,1,104,23,7243449,1,106,23,7243512,1,107,24,13978233,1,111,24,12964453,1,109,24,12866232,1,108,24,14486897,1,113,24,13978232,1,110,24,14486896,1,112,24,14487026,1,114,24,14487027,1,115,25,25732598,1,225,25,25732597,1,189,25,25732596,1,188,25,25732595,1,203,25,25732594,1,202,25,25732593,1,197,25,25732592,1,207,25,25732591,1,169,25,25732590,1,223,25,25732589,1,159,25,25732522,1,235,25,25732579,1,152,25,25732575,1,192,25,25732489,1,179,25,25732573,1,201,25,25732472,1,172,25,25732576,1,149,25,25732488,1,178,25,25732566,1,120,25,25732571,1,219,25,25732577,1,150,25,25732487,1,127,25,25732506,1,211,25,25732548,1,125,25,25732588,1,158,25,25732486,1,247,25,25732467,1,238,25,25732508,1,163,25,25732552,1,228,25,25732603,1,183,25,25732513,1,217,25,25732587,1,168,25,25732520,1,122,25,25732484,1,128,25,25732562,1,249,25,25732505,1,187,25,25732504,1,186,25,25732483,1,136,25,25928905,1,181,25,25732560,1,255,25,25732500,1,230,25,25732482,1,135,25,25732555,1,233,25,25732568,1,222,25,25732583,1,145,25,25732481,1,134,25,25732586,1,167,25,25732521,1,248,25,25732518,1,209,25,25732480,1,243,25,25732512,1,216,25,25732509,1,164,25,25732547,1,140,25,25732479,1,157,25,25732544,1,239,25,25732574,1,191,25,25732564,1,251,25,25732478,1,156,25,25732546,1,139,25,25732498,1,242,25,25732557,1,133,25,25732477,1,162,25,25732515,1,213,25,25732584,1,165,25,25732514,1,212,25,25732476,1,227,25,25732494,1,198,25,25732531,1,236,25,25732530,1,234,25,25732529,1,117,25,25732528,1,215,25,25732527,1,124,25,25732526,1,123,25,25732525,1,254,25,25732524,1,253,25,25732523,1,148,25,25732570,1,218,25,25732580,1,146,25,25732581,1,147,25,25732569,1,224,25,25732533,1,143,25,25732540,1,184,25,25732541,1,185,25,25732585,1,166,25,25732556,1,132,25,25732485,1,129,25,25732563,1,250,25,25732578,1,151,25,25732501,1,119,25,25732502,1,193,25,25732536,1,176,25,25732496,1,245,25,25732553,1,229,25,25732516,1,206,25,25732582,1,144,25,25732517,1,208,25,25732558,1,137,25,25732543,1,241,25,25732466,1,237,25,25732507,1,190,25,25732542,1,240,25,25732551,1,131,25,25732554,1,232,25,25732565,1,252,25,25732475,1,171,25,25732493,1,205,25,25732492,1,204,25,25732491,1,118,25,25732490,1,214,25,25928904,1,180,25,25732549,1,126,25,25732602,1,182,25,25732539,1,175,25,25732545,1,141,25,25732559,1,138,25,25732537,1,177,25,25732534,1,153,25,25732503,1,194,25,25732606,1,160,25,25732567,1,121,25,25732538,1,174,25,25732497,1,246,25,25732550,1,130,25,25732572,1,200,25,25732474,1,170,25,25732511,1,221,25,25732601,1,196,25,25732532,1,142,25,25732519,1,210,25,25732495,1,199,25,25732605,1,155,25,25732535,1,154,25,25732499,1,244,25,25732510,1,220,25,25732600,1,195,25,25732607,1,161,25,25732604,1,231,25,25732473,1,173,25,25732599,1,226,26,51465122,1,116,26,51465123,0,1],R=[3,3,3,3,2,2,2,1,1,1];function C(te){var T=te[1],P=te[0][T>>>3]>>>7-(7&T)&1;return te[1]++,P}function D(te,T){if(_==null){_={};for(var P=0;P<W.length;P+=4)_[W[P+1]]=W.slice(P,P+4)}for(var ie=C(te),le=_[ie];le==null;)ie=ie<<1|C(te),le=_[ie];var fe=le[3];fe!=0&&(fe=C(te)==0?fe:-fe),T[0]=le[2],T[1]=fe}function x(te,T){for(var P=0;P<T;P++)(1&te)==1&&te++,te>>>=1;return te}function ne(te,T){return te>>T}function Y(te,T,P,ie,le,fe){T[P]=ne(ne(11*te[le]-4*te[le+fe]+te[le+fe+fe]+4,3)+te[ie],1),T[P+fe]=ne(ne(5*te[le]+4*te[le+fe]-te[le+fe+fe]+4,3)-te[ie],1)}function K(te,T,P,ie,le,fe){var m=te[le-fe]-te[le+fe],v=te[le],A=te[ie];T[P]=ne(ne(m+4,3)+v+A,1),T[P+fe]=ne(ne(4-m,3)+v-A,1)}function G(te,T,P,ie,le,fe){T[P]=ne(ne(5*te[le]+4*te[le-fe]-te[le-fe-fe]+4,3)+te[ie],1),T[P+fe]=ne(ne(11*te[le]-4*te[le-fe]+te[le-fe-fe]+4,3)-te[ie],1)}function B(te){return O[te=te<0?0:te>4095?4095:te]>>>2}return function(te,T,P,ie,le){ie=new Uint16Array(ie.buffer);var fe,m,v,A,V,i,r,h,L=Date.now(),Q=o._binBE,g=T+P;for(T+=4;T<g;){var J=Q.readShort(te,T),oe=Q.readUshort(te,T+2);if(T+=4,J==12)ue=oe;else if(J==20)fe=oe;else if(J==21)m=oe;else if(J==48)v=oe;else if(J==53)A=oe;else if(J!=35){if(J==62)V=oe;else if(J!=101){if(J==109)i=oe;else if(J!=84){if(J!=106){if(J!=107){if(J!=108){if(J!=102){if(J==104)Se=oe;else if(J!=105){var H=J<0?-J:J,ge=65280&H,ve=0;if(24576&H&&(8192&H?(ve=65535&oe,ve+=(255&H)<<16):ve=65535&oe),(24576&H)==24576){if(r==null){r=[];for(var Ie=0;Ie<4;Ie++)r[Ie]=new Int16Array((fe>>>1)*(m>>>1));for(h=new Int16Array((fe>>>1)*(m>>>1)),p=new Int16Array(1024),Ie=0;Ie<1024;Ie++){var ke=Ie-512,ae=Math.abs(ke),ue=Math.floor(768*ae*ae*ae/16581375)+ae;p[Ie]=Math.sign(ke)*ue}for(O=new Uint16Array(4096),Ie=0;Ie<4096;Ie++){var we=Ie,Be=65535*(Math.pow(113,we/4095)-1)/112;O[Ie]=Math.min(Be,65535)}}var be=r[V],Pe=x(fe,1+R[v]),Te=x(m,1+R[v]);if(v==0)for(var Ne=0;Ne<Te;Ne++)for(var He=0;He<Pe;He++){var Qe=T+2*(Ne*Pe+He);be[Ne*(fe>>>1)+He]=te[Qe]<<8|te[Qe+1]}else{var at=[te,8*T],U=[],Ee=0,Z=Pe*Te,ce=[0,0],Ve=0;for(oe=0;Ee<Z;)for(D(at,ce),Ve=ce[0],oe=ce[1];Ve>0;)U[Ee++]=oe,Ve--;var Le=(v-1)%3,$e=Le!=1?Pe:0,De=Le!=0?Te:0;for(Ne=0;Ne<Te;Ne++){var Xe=(Ne+De)*(fe>>>1)+$e,Ue=Ne*Pe;for(He=0;He<Pe;He++)be[Xe+He]=p[U[Ue+He]+512]*A}if(Le==2){var Se=fe>>>1,it=2*Pe,rt=2*Te;for(Ne=0;Ne<Te;Ne++)for(He=0;He<it;He++){Ie=2*Ne*Se+He;var Ke=Te*Se+(Mt=Ne*Se+He);Ne==0?Y(be,h,Ie,Ke,Mt,Se):Ne==Te-1?G(be,h,Ie,Ke,Mt,Se):K(be,h,Ie,Ke,Mt,Se)}var ut=be;for(be=h,h=ut,Ne=0;Ne<rt;Ne++)for(He=0;He<Pe;He++){var Mt;Ie=Ne*Se+2*He,Ke=Pe+(Mt=Ne*Se+He),He==0?Y(be,h,Ie,Ke,Mt,1):He==Pe-1?G(be,h,Ie,Ke,Mt,1):K(be,h,Ie,Ke,Mt,1)}ut=be,be=h,h=ut;for(var mt=[],nt=2-~~((v-1)/3),vt=0;vt<3;vt++)mt[vt]=i>>14-2*vt&3;var Rt=mt[nt];if(Rt!=0)for(Ne=0;Ne<rt;Ne++)for(He=0;He<it;He++)be[Ie=Ne*Se+He]=be[Ie]<<Rt}}if(v==9&&V==3){var It=r[0],Dt=r[1],Bt=r[2],St=r[3];for(Ne=0;Ne<m;Ne+=2)for(He=0;He<fe;He+=2){var zt=Ne*fe+He,Et=It[Qe=(Ne>>>1)*(fe>>>1)+(He>>>1)],kt=Dt[Qe]-2048,Pt=Bt[Qe]-2048,Zt=St[Qe]-2048,ii=(kt<<1)+Et,Gt=(Pt<<1)+Et,Ft=Et+Zt,Vt=Et-Zt;ie[zt]=B(ii),ie[zt+1]=B(Ft),ie[zt+fe]=B(Vt),ie[zt+fe+1]=B(Gt)}}T+=4*ve}else if(H==16388)T+=4*ve;else if(ge!=8192&&ge!=8448&&ge!=9216)throw H.toString(16)}}}}}}}}}console.log(Date.now()-L)}}(),o.decode._decodeLogLuv32=function(_,p,O,W,R,C){for(var D=_.width,x=4*D,ne=0,Y=new Uint8Array(x);ne<W;){for(var K=0;K<x;){var G=p[O+ne];if(ne++,G<128){for(var B=0;B<G;B++)Y[K+B]=p[O+ne+B];K+=G,ne+=G}else{for(G-=126,B=0;B<G;B++)Y[K+B]=p[O+ne];K+=G,ne++}}for(var te=0;te<D;te++)R[C+0]=Y[te],R[C+1]=Y[te+D],R[C+2]=Y[te+2*D],R[C+4]=Y[te+3*D],C+=6}},o.decode._ljpeg_diff=function(_,p,O){var W,R,C=o.decode._getbithuff;return W=C(_,p,O[0],O),!((R=C(_,p,W,0))&1<<W-1)&&(R-=(1<<W)-1),R},o.decode._decodeARW=function(_,p,O,W,R,C){var D=_.t256[0],x=_.t257[0],ne=_.t258[0],Y=_.isLE?o._binLE:o._binBE;if(D*x==W||D*x*1.5==W)if(D*x*1.5!=W){var K,G,B,te,T,P,ie,le,fe=new Uint16Array(16),m=new Uint8Array(D+1);for(Q=0;Q<x;Q++){for(var v=0;v<D;v++)m[v]=p[O++];for(le=0,L=0;L<D-30;le+=16){for(G=2047&(K=Y.readUint(m,le)),B=2047&K>>>11,te=15&K>>>22,T=15&K>>>26,P=0;P<4&&128<<P<=G-B;P++);for(ie=30,A=0;A<16;A++)A==te?fe[A]=G:A==T?fe[A]=B:(fe[A]=((Y.readUshort(m,le+(ie>>3))>>>(7&ie)&127)<<P)+B,fe[A]>2047&&(fe[A]=2047),ie+=7);for(A=0;A<16;A++,L+=2)ke=fe[A]<<1,o.decode._putsF(R,(Q*D+L)*ne,ke<<16-ne);L-=1&L?1:31}}}else for(var A=0;A<W;A+=3){var V=p[O+A+0],i=p[O+A+1],r=p[O+A+2];R[C+A]=i<<4|V>>>4,R[C+A+1]=V<<4|r>>>4,R[C+A+2]=r<<4|i>>>4}else{x+=8;var h,L,Q,g=[O,0,0,0],J=new Uint16Array(32770),oe=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],H=0,ge=o.decode._ljpeg_diff;for(J[0]=15,h=A=0;A<18;A++)for(var ve=32768>>>(oe[A]>>>8),Ie=0;Ie<ve;Ie++)J[++h]=oe[A];for(L=D;L--;)for(Q=0;Q<x+1;Q+=2)if(Q==x&&(Q=1),H+=ge(p,g,J),Q<x){var ke=4095&H;o.decode._putsF(R,(Q*D+L)*ne,ke<<16-ne)}}},o.decode._decodeNikon=function(_,p,O,W,R,C,D){var x=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],ne=_.t256[0],Y=_.t257[0],K=_.t258[0],G=0,B=0,te=o.decode._make_decoder,T=o.decode._getbithuff,P=p[0].exifIFD.makerNote,ie=P.t150?P.t150:P.t140,le=0,fe=ie[le++],m=ie[le++];fe!=73&&m!=88||(le+=2110),fe==70&&(G=2),K==14&&(G+=3);for(var v=[[0,0],[0,0]],A=_.isLE?o._binLE:o._binBE,V=0;V<2;V++)for(var i=0;i<2;i++)v[V][i]=A.readShort(ie,le),le+=2;var r,h,L,Q,g,J=1<<K&32767,oe=0,H=A.readShort(ie,le);le+=2,H>1&&(oe=Math.floor(J/(H-1))),fe==68&&m==32&&oe>0&&(B=A.readShort(ie,562));var ge=[0,0],ve=te(x[G]),Ie=[W,0,0,0];for(r=0;r<Y;r++)for(B&&r==B&&(ve=te(x[G+1])),h=0;h<ne;h++){V=T(O,Ie,ve[0],ve),!((g=1+(T(O,Ie,(L=15&V)-(Q=V>>>4),0)<<1)<<Q>>>1)&1<<L-1)&&(g-=(1<<L)-(Q==0?1:0)),h<2?ge[h]=v[1&r][h]+=g:ge[1&h]+=g;var ke=Math.min(Math.max(ge[1&h],0),(1<<K)-1),ae=(r*ne+h)*K;o.decode._putsF(C,ae,ke<<16-K)}},o.decode._putsF=function(_,p,O){O<<=8-(7&p);var W=p>>>3;_[W]|=O>>>16,_[W+1]|=O>>>8,_[W+2]|=O},o.decode._getbithuff=function(_,p,O,W){o.decode._get_byte;var R,C=p[0],D=p[1],x=p[2],ne=p[3];if(O==0||x<0)return 0;for(;!ne&&x<O&&(R=_[C++])!=-1&&!(ne=0);)D=(D<<8)+R,x+=8;if(R=D<<32-x>>>32-O,W?(x-=W[R+1]>>>8,R=255&W[R+1]):x-=O,x<0)throw"e";return p[0]=C,p[1]=D,p[2]=x,p[3]=ne,R},o.decode._make_decoder=function(_){var p,O,W,R,C,D=[];for(p=16;p!=0&&!_[p];p--);var x=17;for(D[0]=p,W=O=1;O<=p;O++)for(R=0;R<_[O];R++,++x)for(C=0;C<1<<p-O;C++)W<=1<<p&&(D[W++]=O<<8|_[x]);return D},o.decode._decodeNewJPEG=function(_,p,O,W,R,C){W=Math.min(W,p.length-O);var D=_.t347,x=D?D.length:0,ne=new Uint8Array(x+W);if(D){for(var Y=0,K=0;K<x-1&&(D[K]!=255||D[K+1]!=217);K++)ne[Y++]=D[K];var G=p[O],B=p[O+1];for(G==255&&B==216||(ne[Y++]=G,ne[Y++]=B),K=2;K<W;K++)ne[Y++]=p[O+K]}else for(K=0;K<W;K++)ne[K]=p[O+K];if(_.t262[0]==32803||_.t259[0]==7&&_.t262[0]==34892){var te=_.t258[0],T=o.LosslessJpegDecode(ne),P=T.length;if(te==16)if(_.isLE)for(K=0;K<P;K++)R[C+(K<<1)]=255&T[K],R[C+(K<<1)+1]=T[K]>>>8;else for(K=0;K<P;K++)R[C+(K<<1)]=T[K]>>>8,R[C+(K<<1)+1]=255&T[K];else if(te==14||te==12){var ie=16-te;for(K=0;K<P;K++)o.decode._putsF(R,K*te,T[K]<<ie)}else{if(te!=8)throw new Error("unsupported bit depth "+te);for(K=0;K<P;K++)R[C+K]=T[K]}}else{var le=new o.JpegDecoder;le.parse(ne);var fe=le.getData({width:le.width,height:le.height,forceRGB:!0,isSourcePDF:!1});for(K=0;K<fe.length;K++)R[C+K]=fe[K]}_.t262[0]==6&&(_.t262[0]=2)},o.decode._decodeOldJPEGInit=function(_,p,O,W){var R,C,D,x,ne,Y=216,K=0,G=0,B=!1,te=_.t513,T=te?te[0]:0,P=_.t514,ie=P?P[0]:0,le=_.t324||_.t273||te,fe=_.t530,m=0,v=0,A=_.t277?_.t277[0]:1,V=_.t515;if(le&&(G=le[0],B=le.length>1),!B){if(p[O]==255&&p[O+1]==Y)return{jpegOffset:O};if(te!=null&&(p[O+T]==255&&p[O+T+1]==Y?K=O+T:l("JPEGInterchangeFormat does not point to SOI"),P==null?l("JPEGInterchangeFormatLength field is missing"):(T>=G||T+ie<=G)&&l("JPEGInterchangeFormatLength field value is invalid"),K!=null))return{jpegOffset:K}}if(fe!=null&&(m=fe[0],v=fe[1]),te!=null&&P!=null)if(ie>=2&&T+ie<=G){for(R=p[O+T+ie-2]==255&&p[O+T+ie-1]==Y?new Uint8Array(ie-2):new Uint8Array(ie),D=0;D<R.length;D++)R[D]=p[O+T+D];l("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else l("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(R==null){var i=0,r=[];r[i++]=255,r[i++]=Y;var h=_.t519;if(h==null)throw new Error("JPEGQTables tag is missing");for(D=0;D<h.length;D++)for(r[i++]=255,r[i++]=219,r[i++]=0,r[i++]=67,r[i++]=D,x=0;x<64;x++)r[i++]=p[O+h[D]+x];for(ne=0;ne<2;ne++){var L=_[ne==0?"t520":"t521"];if(L==null)throw new Error((ne==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(D=0;D<L.length;D++){r[i++]=255,r[i++]=196;var Q=19;for(x=0;x<16;x++)Q+=p[O+L[D]+x];for(r[i++]=Q>>>8,r[i++]=255&Q,r[i++]=D|ne<<4,x=0;x<16;x++)r[i++]=p[O+L[D]+x];for(x=0;x<Q;x++)r[i++]=p[O+L[D]+16+x]}}if(r[i++]=255,r[i++]=192,r[i++]=0,r[i++]=8+3*A,r[i++]=8,r[i++]=_.height>>>8&255,r[i++]=255&_.height,r[i++]=_.width>>>8&255,r[i++]=255&_.width,r[i++]=A,A==1)r[i++]=1,r[i++]=17,r[i++]=0;else for(D=0;D<3;D++)r[i++]=D+1,r[i++]=D!=0?17:(15&m)<<4|15&v,r[i++]=D;V!=null&&V[0]!=0&&(r[i++]=255,r[i++]=221,r[i++]=0,r[i++]=4,r[i++]=V[0]>>>8&255,r[i++]=255&V[0]),R=new Uint8Array(r)}var g=-1;for(D=0;D<R.length-1;){if(R[D]==255&&R[D+1]==192){g=D;break}D++}if(g==-1){var J=new Uint8Array(R.length+10+3*A);J.set(R);var oe=R.length;if(g=R.length,(R=J)[oe++]=255,R[oe++]=192,R[oe++]=0,R[oe++]=8+3*A,R[oe++]=8,R[oe++]=_.height>>>8&255,R[oe++]=255&_.height,R[oe++]=_.width>>>8&255,R[oe++]=255&_.width,R[oe++]=A,A==1)R[oe++]=1,R[oe++]=17,R[oe++]=0;else for(D=0;D<3;D++)R[oe++]=D+1,R[oe++]=D!=0?17:(15&m)<<4|15&v,R[oe++]=D}if(p[G]==255&&p[G+1]==218){var H=p[G+2]<<8|p[G+3];for((C=new Uint8Array(H+2))[0]=p[G],C[1]=p[G+1],C[2]=p[G+2],C[3]=p[G+3],D=0;D<H-2;D++)C[D+4]=p[G+D+4]}else{var ge=0;if((C=new Uint8Array(8+2*A))[ge++]=255,C[ge++]=218,C[ge++]=0,C[ge++]=6+2*A,C[ge++]=A,A==1)C[ge++]=1,C[ge++]=0;else for(D=0;D<3;D++)C[ge++]=D+1,C[ge++]=D<<4|D;C[ge++]=0,C[ge++]=63,C[ge++]=0}return{jpegOffset:O,tables:R,sosMarker:C,sofPosition:g}},o.decode._decodeOldJPEG=function(_,p,O,W,R,C){var D,x,ne,Y,K=o.decode._decodeOldJPEGInit(_,p,O,W);if(K.jpegOffset!=null)for(D=O+W-K.jpegOffset,ne=new Uint8Array(D),te=0;te<D;te++)ne[te]=p[K.jpegOffset+te];else{for(x=K.tables.length,(ne=new Uint8Array(x+K.sosMarker.length+W+2)).set(K.tables),Y=x,ne[K.sofPosition+5]=_.height>>>8&255,ne[K.sofPosition+6]=255&_.height,ne[K.sofPosition+7]=_.width>>>8&255,ne[K.sofPosition+8]=255&_.width,p[O]==255&&p[O+1]==SOS||(ne.set(K.sosMarker,Y),Y+=sosMarker.length),te=0;te<W;te++)ne[Y++]=p[O+te];ne[Y++]=255,ne[Y++]=EOI}var G=new o.JpegDecoder;G.parse(ne);for(var B=G.getData({width:G.width,height:G.height,forceRGB:!0,isSourcePDF:!1}),te=0;te<B.length;te++)R[C+te]=B[te];_.t262&&_.t262[0]==6&&(_.t262[0]=2)},o.decode._decodePackBits=function(_,p,O,W,R){for(var C=new Int8Array(_.buffer),D=new Int8Array(W.buffer),x=p+O;p<x;){var ne=C[p];if(p++,ne>=0&&ne<128)for(var Y=0;Y<ne+1;Y++)D[R]=C[p],R++,p++;if(ne>=-127&&ne<0){for(Y=0;Y<1-ne;Y++)D[R]=C[p],R++;p++}}return R},o.decode._decodeThunder=function(_,p,O,W,R){for(var C=[0,1,0,-1],D=[0,1,2,3,0,-3,-2,-1],x=p+O,ne=2*R,Y=0;p<x;){var K=_[p],G=K>>>6,B=63&K;if(p++,G==3&&(Y=15&B,W[ne>>>1]|=Y<<4*(1-ne&1),ne++),G==0)for(var te=0;te<B;te++)W[ne>>>1]|=Y<<4*(1-ne&1),ne++;if(G==2)for(te=0;te<2;te++)(T=B>>>3*(1-te)&7)!=4&&(Y+=D[T],W[ne>>>1]|=Y<<4*(1-ne&1),ne++);if(G==1)for(te=0;te<3;te++){var T;(T=B>>>2*(2-te)&3)!=2&&(Y+=C[T],W[ne>>>1]|=Y<<4*(1-ne&1),ne++)}}},o.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},o.decode._lens=function(){var _=function(ne,Y,K,G){for(var B=0;B<Y.length;B++)ne[Y[B]]=K+B*G},p="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",O="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",W="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",R="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",C="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";p=p.split(","),O=O.split(","),W=W.split(","),R=R.split(","),C=C.split(",");var D={},x={};return _(D,p,0,1),_(D,W,64,64),_(D,C,1792,64),_(x,O,0,1),_(x,R,64,64),_(x,C,1792,64),[D,x]}(),o.decode._decodeG4=function(_,p,O,W,R,C,D){for(var x=o.decode,ne=p<<3,Y=0,K="",G=[],B=[],te=0;te<C;te++)B.push(0);B=x._makeDiff(B);for(var T=0,P=0,ie=0,le=0,fe=0,m=0,v="",A=0,V=8*Math.ceil(C/8);ne>>>3<p+O;){ie=x._findDiff(B,T+(T==0?0:1),1-fe),le=x._findDiff(B,ie,fe);var i=0;if(D==1&&(i=_[ne>>>3]>>>7-(7&ne)&1),D==2&&(i=_[ne>>>3]>>>(7&ne)&1),ne++,K+=i,v=="H"){if(x._lens[fe][K]!=null){var r=x._lens[fe][K];K="",Y+=r,r<64&&(x._addNtimes(G,Y,fe),T+=Y,fe=1-fe,Y=0,--A==0&&(v=""))}}else K=="0001"&&(K="",x._addNtimes(G,le-T,fe),T=le),K=="001"&&(K="",v="H",A=2),x._dmap[K]!=null&&(P=ie+x._dmap[K],x._addNtimes(G,P-T,fe),T=P,K="",fe=1-fe);G.length==C&&v==""&&(x._writeBits(G,W,8*R+m*V),fe=0,m++,T=0,B=x._makeDiff(G),G=[])}},o.decode._findDiff=function(_,p,O){for(var W=0;W<_.length;W+=2)if(_[W]>=p&&_[W+1]==O)return _[W]},o.decode._makeDiff=function(_){var p=[];_[0]==1&&p.push(0,1);for(var O=1;O<_.length;O++)_[O-1]!=_[O]&&p.push(O,_[O]);return p.push(_.length,0,_.length,1),p},o.decode._decodeG2=function(_,p,O,W,R,C,D){for(var x=o.decode,ne=p<<3,Y=0,K="",G=[],B=0,te=0,T=8*Math.ceil(C/8);ne>>>3<p+O;){var P=0;D==1&&(P=_[ne>>>3]>>>7-(7&ne)&1),D==2&&(P=_[ne>>>3]>>>(7&ne)&1),ne++,K+=P,(Y=x._lens[B][K])!=null&&(x._addNtimes(G,Y,B),K="",Y<64&&(B=1-B),G.length==C&&(x._writeBits(G,W,8*R+te*T),G=[],te++,B=0,7&ne&&(ne+=8-(7&ne)),Y>=64&&(ne+=8)))}},o.decode._decodeG3=function(_,p,O,W,R,C,D,x){for(var ne=o.decode,Y=p<<3,K=0,G="",B=[],te=[],T=0;T<C;T++)B.push(0);for(var P=0,ie=0,le=0,fe=0,m=0,v=-1,A="",V=0,i=!0,r=8*Math.ceil(C/8);Y>>>3<p+O;){le=ne._findDiff(te,P+(P==0?0:1),1-m),fe=ne._findDiff(te,le,m);var h=0;if(D==1&&(h=_[Y>>>3]>>>7-(7&Y)&1),D==2&&(h=_[Y>>>3]>>>(7&Y)&1),Y++,G+=h,i){if(ne._lens[m][G]!=null){var L=ne._lens[m][G];G="",K+=L,L<64&&(ne._addNtimes(B,K,m),m=1-m,K=0)}}else A=="H"?ne._lens[m][G]!=null&&(L=ne._lens[m][G],G="",K+=L,L<64&&(ne._addNtimes(B,K,m),P+=K,m=1-m,K=0,--V==0&&(A=""))):(G=="0001"&&(G="",ne._addNtimes(B,fe-P,m),P=fe),G=="001"&&(G="",A="H",V=2),ne._dmap[G]!=null&&(ie=le+ne._dmap[G],ne._addNtimes(B,ie-P,m),P=ie,G="",m=1-m));G.endsWith("000000000001")&&(v>=0&&ne._writeBits(B,W,8*R+v*r),x&&(D==1&&(i=(_[Y>>>3]>>>7-(7&Y)&1)==1),D==2&&(i=(_[Y>>>3]>>>(7&Y)&1)==1),Y++),G="",m=0,v++,P=0,te=ne._makeDiff(B),B=[])}B.length==C&&ne._writeBits(B,W,8*R+v*r)},o.decode._addNtimes=function(_,p,O){for(var W=0;W<p;W++)_.push(O)},o.decode._writeBits=function(_,p,O){for(var W=0;W<_.length;W++)p[O+W>>>3]|=_[W]<<7-(O+W&7)},o.decode._decodeLZW=o.decode._decodeLZW=(d=0,y=0,E=0,M=0,b=function(){var _=a>>>3,p=(n[_]<<16|n[_+1]<<8|n[_+2])>>>24-(7&a)-y&(1<<y)-1;return a+=y,p},k=new Uint32Array(16384),I=0,F=function(_){y=_+1,d=M+1},N=function(_){for(var p=_<<2,O=k[p+2],W=s+O-1;p!=65535;)t[W--]=k[p],p=k[p+1];s+=O},$=function(_,p){var O=d<<2,W=_<<2;k[O]=k[3+(p<<2)],k[O+1]=W,k[O+2]=k[W+2]+1,k[O+3]=k[W+3],1+ ++d==1<<y&&y!=12&&y++},function(_,p,O,W,R,C){a=p<<3,n=_,t=W,s=R;var D=p+O<<3,x=0,ne=0;for(function(Y){if(Y!=I){I=Y,M=1+(E=1<<Y);for(var K=0;K<M+1;K++)k[4*K]=k[4*K+3]=K,k[4*K+1]=65535,k[4*K+2]=1}}(C),F(C);a<D&&(x=b())!=M;){if(x==E){if(F(C),(x=b())==M)break;N(x)}else x<d?(N(x),$(ne,x)):($(ne,ne),N(d-1));ne=x}return s}),o.tags={},o._types=((X=new Array(250)).fill(0),{basic:{main:X=X.concat([0,0,0,0,4,3,3,3,3,3,0,0,3,0,0,0,3,0,0,2,2,2,2,4,3,0,0,3,4,4,3,3,5,5,3,2,5,5,0,0,0,0,4,4,0,0,3,3,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,3,5,5,3,0,3,3,4,4,4,3,4,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),rest:{33432:2,33434:5,33437:5,34665:4,34850:3,34853:4,34855:3,34864:3,34866:4,36864:7,36867:2,36868:2,37121:7,37377:10,37378:5,37380:10,37381:5,37383:3,37384:3,37385:3,37386:5,37510:7,37520:2,37521:2,37522:2,40960:7,40961:3,40962:4,40963:4,40965:4,41486:5,41487:5,41488:3,41985:3,41986:3,41987:3,41988:5,41989:3,41990:3,41993:3,41994:3,41995:7,41996:3,42032:2,42033:2,42034:5,42036:2,42037:2,59932:7}},gps:{main:[1,2,5,2,5,1,5,5,0,9],rest:{18:2,29:2}}}),o._readIFD=function(_,p,O,W,R,C){var D=_.readUshort(p,O);O+=2;var x={};C.debug&&l("   ".repeat(R),W.length-1,">>>----------------");for(var ne=0;ne<D;ne++){var Y=_.readUshort(p,O);O+=2;var K=_.readUshort(p,O);O+=2;var G=_.readUint(p,O);O+=4;var B=_.readUint(p,O);O+=4;var te=[];if(K!=1&&K!=7||(te=new Uint8Array(p.buffer,G<5?O-4:B,G)),K==2){var T=G<5?O-4:B,P=p[T],ie=Math.max(0,Math.min(G-1,p.length-T));P<128||ie==0?te.push(_.readASCII(p,T,ie)):te=new Uint8Array(p.buffer,T,ie)}if(K==3)for(var le=0;le<G;le++)te.push(_.readUshort(p,(G<3?O-4:B)+2*le));if(K==4||K==13)for(le=0;le<G;le++)te.push(_.readUint(p,(G<2?O-4:B)+4*le));if(K==5||K==10){var fe=K==5?_.readUint:_.readInt;for(le=0;le<G;le++)te.push([fe(p,B+8*le),fe(p,B+8*le+4)])}if(K==8)for(le=0;le<G;le++)te.push(_.readShort(p,(G<3?O-4:B)+2*le));if(K==9)for(le=0;le<G;le++)te.push(_.readInt(p,(G<2?O-4:B)+4*le));if(K==11)for(le=0;le<G;le++)te.push(_.readFloat(p,B+4*le));if(K==12)for(le=0;le<G;le++)te.push(_.readDouble(p,B+8*le));if(G==0||te.length!=0){if(C.debug&&l("   ".repeat(R),Y,K,o.tags[Y],te),x["t"+Y]=te,!(Y==330&&x.t272&&x.t272[0]=="DSLR-A100")){if(Y==330||Y==34665||Y==34853||Y==50740&&_.readUshort(p,_.readUint(te,0))<300||Y==61440){var m=Y==50740?[_.readUint(te,0)]:te,v=[];for(le=0;le<m.length;le++)o._readIFD(_,p,m[le],v,R+1,C);Y==330&&(x.subIFD=v),Y==34665&&(x.exifIFD=v[0]),Y==34853&&(x.gpsiIFD=v[0]),Y==50740&&(x.dngPrvt=v[0]),Y==61440&&(x.fujiIFD=v[0])}}if(Y==37500&&C.parseMN){var A=te;if(_.readASCII(A,0,5)=="Nikon")x.makerNote=o.decode(A.slice(10).buffer)[0];else if(_.readUshort(p,B)<300&&_.readUshort(p,B+4)<=12){var V=[];o._readIFD(_,p,B,V,R+1,C),x.makerNote=V[0]}}}else if(l(Y,"unknown TIFF tag type: ",K,"num:",G),ne==0)return}return W.push(x),C.debug&&l("   ".repeat(R),"<<<---------------"),O},o._writeIFD=function(_,p,O,W,R){var C=Object.keys(R),D=C.length;R.exifIFD&&D--,R.gpsiIFD&&D--,_.writeUshort(O,W,D);for(var x=(W+=2)+12*D+4,ne=0;ne<C.length;ne++){var Y=C[ne];if(Y!="t34665"&&Y!="t34853"){Y=="exifIFD"&&(Y="t34665"),Y=="gpsiIFD"&&(Y="t34853");var K=parseInt(Y.slice(1)),G=p.main[K];if(G==null&&(G=p.rest[K]),G==null||G==0)throw new Error("unknown type of tag: "+K);var B=R[Y];K==34665&&(B=[x],x=o._writeIFD(_,p,O,x,R.exifIFD)[1]),K==34853&&(B=[x],x=o._writeIFD(_,o._types.gps,O,x,R.gpsiIFD)[1]),G==2&&(B=B[0]+"\0");var te=B.length;_.writeUshort(O,W,K),W+=2,_.writeUshort(O,W,G),W+=2,_.writeUint(O,W,te);var T=[-1,1,1,2,4,8,0,1,0,4,8,0,8][G]*te,P=W+=4;if(T>4&&(_.writeUint(O,W,x),P=x),G==1||G==7)for(var ie=0;ie<te;ie++)O[P+ie]=B[ie];else if(G==2)_.writeASCII(O,P,B);else if(G==3)for(ie=0;ie<te;ie++)_.writeUshort(O,P+2*ie,B[ie]);else if(G==4)for(ie=0;ie<te;ie++)_.writeUint(O,P+4*ie,B[ie]);else if(G==5||G==10){var le=G==5?_.writeUint:_.writeInt;for(ie=0;ie<te;ie++){var fe=B[ie],m=fe[0],v=fe[1];if(m==null)throw"e";le(O,P+8*ie,m),le(O,P+8*ie+4,v)}}else if(G==9)for(ie=0;ie<te;ie++)_.writeInt(O,P+4*ie,B[ie]);else{if(G!=12)throw G;for(ie=0;ie<te;ie++)_.writeDouble(O,P+8*ie,B[ie])}T>4&&(x+=T+=1&T),W+=4}}return[W,x]},o.toRGBA8=function(_,p){var O=_.width,W=_.height,R=O*W,C=4*R,D=_.data,x=new Uint8Array(4*R),ne=_.t262?_.t262[0]:2,Y=_.t258?Math.min(32,_.t258[0]):1;if(_.t262==null&&Y==1&&(ne=0),ne==0)for(var K=Math.ceil(Y*O/8),G=0;G<W;G++){var B=G*K,te=G*O;if(Y==1)for(var T=0;T<O;T++){var P=te+T<<2,ie=D[B+(T>>3)]>>7-(7&T)&1;x[P]=x[P+1]=x[P+2]=255*(1-ie),x[P+3]=255}if(Y==4)for(T=0;T<O;T++)P=te+T<<2,ie=D[B+(T>>1)]>>4-4*(1&T)&15,x[P]=x[P+1]=x[P+2]=17*(15-ie),x[P+3]=255;if(Y==8)for(T=0;T<O;T++)P=te+T<<2,ie=D[B+T],x[P]=x[P+1]=x[P+2]=255-ie,x[P+3]=255}else if(ne==1){var le=_.t258?_.t258.length:1;for(K=Math.ceil(le*Y*O/8),p==null&&(p=.00390625),G=0;G<W;G++){if(B=G*K,te=G*O,Y==1)for(T=0;T<O;T++)P=te+T<<2,ie=D[B+(T>>3)]>>7-(7&T)&1,x[P]=x[P+1]=x[P+2]=255*ie,x[P+3]=255;if(Y==2)for(T=0;T<O;T++)P=te+T<<2,ie=D[B+(T>>2)]>>6-2*(3&T)&3,x[P]=x[P+1]=x[P+2]=85*ie,x[P+3]=255;if(Y==8)for(T=0;T<O;T++)P=te+T<<2,ie=D[B+T*le],x[P]=x[P+1]=x[P+2]=ie,x[P+3]=255;if(Y==16)for(T=0;T<O;T++){P=te+T<<2;var fe=B+2*T;ie=D[fe+1]<<8|D[fe],x[P]=x[P+1]=x[P+2]=Math.min(255,~~(ie*p)),x[P+3]=255}}}else if(ne==2)if(le=_.t258?_.t258.length:3,Y==8){if(le==4)for(T=0;T<C;T++)x[T]=D[T];if(le==3)for(T=0;T<R;T++){var m=3*T;x[P=T<<2]=D[m],x[P+1]=D[m+1],x[P+2]=D[m+2],x[P+3]=255}}else if(Y==16){if(le==4)for(T=0;T<R;T++)m=8*T+1,x[P=T<<2]=D[m],x[P+1]=D[m+2],x[P+2]=D[m+4],x[P+3]=D[m+6];if(le==3)for(T=0;T<R;T++)m=6*T+1,x[P=T<<2]=D[m],x[P+1]=D[m+2],x[P+2]=D[m+4],x[P+3]=255}else{if(Y!=32)throw Y;if(!x.isLE)for(T=0;T<D.length;T+=4){var v=D[T];D[T]=D[T+3],D[T+3]=v,v=D[T+1],D[T+1]=D[T+2],D[T+2]=v}var A=new Float32Array(D.buffer);if(le!=3)throw le;for(T=0;T<R;T++)m=3*T,x[P=T<<2]=~~(.5+255*A[m]),x[P+1]=~~(.5+255*A[m+1]),x[P+2]=~~(.5+255*A[m+2]),x[P+3]=255}else if(ne==3){var V=_.t320,i=(le=_.t258?_.t258.length:1,K=Math.ceil(le*Y*O/8),1<<Y);for(G=0;G<W;G++)for(var r=0;r<O;r++){P=(T=G*O+r)<<2;var h=0,L=G*K;if(Y==1)h=D[L+(r>>>3)]>>>7-(7&r)&1;else if(Y==2)h=D[L+(r>>>2)]>>>6-2*(3&r)&3;else if(Y==4)h=D[L+(r>>>1)]>>>4-4*(1&r)&15;else{if(Y!=8)throw Y;h=D[L+r*le]}x[P]=V[h]>>8,x[P+1]=V[i+h]>>8,x[P+2]=V[i+i+h]>>8,x[P+3]=255}}else if(ne==5){var Q=(le=_.t258?_.t258.length:4)>4?1:0;for(T=0;T<R;T++){P=T<<2;var g=T*le;if(UDOC){var J=D[g],oe=D[g+1],H=D[g+2],ge=D[g+3],ve=UDOC.C.cmykToRgb([J*(1/255),oe*(1/255),H*(1/255),ge*(1/255)]);x[P]=~~(.5+255*ve[0]),x[P+1]=~~(.5+255*ve[1]),x[P+2]=~~(.5+255*ve[2])}else J=255-D[g],oe=255-D[g+1],H=255-D[g+2],ge=(255-D[g+3])*.00392156862745098,x[P]=~~(J*ge+.5),x[P+1]=~~(oe*ge+.5),x[P+2]=~~(H*ge+.5);x[P+3]=255*(1-Q)+D[g+4]*Q}}else if(ne==6&&_.t278){var Ie=_.t278[0];for(G=0;G<W;G+=Ie){T=G*O;for(var ke=Ie*O,ae=0;ae<ke;ae++){P=4*(T+ae),H=D[(g=3*T+4*(ae>>>1))+(1&ae)];var ue=D[g+2]-128,we=D[g+3]-128,Be=H+((we>>2)+(we>>3)+(we>>5)),be=H-((ue>>2)+(ue>>4)+(ue>>5))-((we>>1)+(we>>3)+(we>>4)+(we>>5)),Pe=H+(ue+(ue>>1)+(ue>>2)+(ue>>6));x[P]=Math.max(0,Math.min(255,Be)),x[P+1]=Math.max(0,Math.min(255,be)),x[P+2]=Math.max(0,Math.min(255,Pe)),x[P+3]=255}}}else if(ne==32845){let ce=function(Ve){return Ve<.0031308?12.92*Ve:1.055*Math.pow(Ve,.4166666666666667)-.055};var Z=ce;for(G=0;G<W;G++)for(r=0;r<O;r++){P=4*(G*O+r);var Te=D[1+(g=6*(G*O+r))]<<8|D[g],Ne=(Te=Math.pow(2,(Te+.5)/256-64),(D[g+3]+.5)/410),He=(D[g+5]+.5)/410,Qe=9*Ne/(6*Ne-16*He+12),at=4*He/(6*Ne-16*He+12),U=Qe*Te/at,Ee=(1-Qe-at)*Te/at;Be=2.69*U-1.276*(H=Te)-.414*Ee,be=-1.022*U+1.978*H+.044*Ee,Pe=.061*U-.224*H+1.163*Ee,x[P]=255*ce(Math.min(Be,1)),x[P+1]=255*ce(Math.min(be,1)),x[P+2]=255*ce(Math.min(Pe,1)),x[P+3]=255}}else l("Unknown Photometric interpretation: "+ne);return x},o.replaceIMG=function(_){_==null&&(_=document.getElementsByTagName("img"));for(var p=["tif","tiff","dng","cr2","nef"],O=0;O<_.length;O++){var W=_[O],R=W.getAttribute("src");if(R!=null){var C=R.split(".").pop().toLowerCase();if(p.indexOf(C)!=-1){var D=new XMLHttpRequest;o._xhrs.push(D),o._imgs.push(W),D.open("GET",R),D.responseType="arraybuffer",D.onload=o._imgLoaded,D.send()}}}},o._xhrs=[],o._imgs=[],o._imgLoaded=function(_){var p=o._xhrs.indexOf(_.target),O=o._imgs[p];o._xhrs.splice(p,1),o._imgs.splice(p,1),O.setAttribute("src",o.bufferToURI(_.target.response))},o.bufferToURI=function(_){var p=o.decode(_),O=p,W=0,R=O[0];p[0].subIFD&&(O=O.concat(p[0].subIFD));for(var C=0;C<O.length;C++){var D=O[C];if(!(D.t258==null||D.t258.length<3)){var x=D.t256*D.t257;x>W&&(W=x,R=D)}}o.decodeImage(_,R,p);var ne=o.toRGBA8(R),Y=R.width,K=R.height,G=document.createElement("canvas");G.width=Y,G.height=K;var B=G.getContext("2d"),te=new ImageData(new Uint8ClampedArray(ne.buffer),Y,K);return B.putImageData(te,0,0),G.toDataURL()},o._binBE={nextZero:function(_,p){for(;_[p]!=0;)p++;return p},readUshort:function(_,p){return _[p]<<8|_[p+1]},readShort:function(_,p){var O=o._binBE.ui8;return O[0]=_[p+1],O[1]=_[p+0],o._binBE.i16[0]},readInt:function(_,p){var O=o._binBE.ui8;return O[0]=_[p+3],O[1]=_[p+2],O[2]=_[p+1],O[3]=_[p+0],o._binBE.i32[0]},readUint:function(_,p){var O=o._binBE.ui8;return O[0]=_[p+3],O[1]=_[p+2],O[2]=_[p+1],O[3]=_[p+0],o._binBE.ui32[0]},readASCII:function(_,p,O){for(var W="",R=0;R<O;R++)W+=String.fromCharCode(_[p+R]);return W},readFloat:function(_,p){for(var O=o._binBE.ui8,W=0;W<4;W++)O[W]=_[p+3-W];return o._binBE.fl32[0]},readDouble:function(_,p){for(var O=o._binBE.ui8,W=0;W<8;W++)O[W]=_[p+7-W];return o._binBE.fl64[0]},writeUshort:function(_,p,O){_[p]=O>>8&255,_[p+1]=255&O},writeInt:function(_,p,O){var W=o._binBE.ui8;o._binBE.i32[0]=O,_[p+3]=W[0],_[p+2]=W[1],_[p+1]=W[2],_[p+0]=W[3]},writeUint:function(_,p,O){_[p]=O>>24&255,_[p+1]=O>>16&255,_[p+2]=O>>8&255,_[p+3]=O>>0&255},writeASCII:function(_,p,O){for(var W=0;W<O.length;W++)_[p+W]=O.charCodeAt(W)},writeDouble:function(_,p,O){o._binBE.fl64[0]=O;for(var W=0;W<8;W++)_[p+W]=o._binBE.ui8[7-W]}},o._binBE.ui8=new Uint8Array(8),o._binBE.i16=new Int16Array(o._binBE.ui8.buffer),o._binBE.i32=new Int32Array(o._binBE.ui8.buffer),o._binBE.ui32=new Uint32Array(o._binBE.ui8.buffer),o._binBE.fl32=new Float32Array(o._binBE.ui8.buffer),o._binBE.fl64=new Float64Array(o._binBE.ui8.buffer),o._binLE={nextZero:o._binBE.nextZero,readUshort:function(_,p){return _[p+1]<<8|_[p]},readShort:function(_,p){var O=o._binBE.ui8;return O[0]=_[p+0],O[1]=_[p+1],o._binBE.i16[0]},readInt:function(_,p){var O=o._binBE.ui8;return O[0]=_[p+0],O[1]=_[p+1],O[2]=_[p+2],O[3]=_[p+3],o._binBE.i32[0]},readUint:function(_,p){var O=o._binBE.ui8;return O[0]=_[p+0],O[1]=_[p+1],O[2]=_[p+2],O[3]=_[p+3],o._binBE.ui32[0]},readASCII:o._binBE.readASCII,readFloat:function(_,p){for(var O=o._binBE.ui8,W=0;W<4;W++)O[W]=_[p+W];return o._binBE.fl32[0]},readDouble:function(_,p){for(var O=o._binBE.ui8,W=0;W<8;W++)O[W]=_[p+W];return o._binBE.fl64[0]},writeUshort:function(_,p,O){_[p]=255&O,_[p+1]=O>>8&255},writeInt:function(_,p,O){var W=o._binBE.ui8;o._binBE.i32[0]=O,_[p+0]=W[0],_[p+1]=W[1],_[p+2]=W[2],_[p+3]=W[3]},writeUint:function(_,p,O){_[p]=O>>>0&255,_[p+1]=O>>>8&255,_[p+2]=O>>>16&255,_[p+3]=O>>>24&255},writeASCII:o._binBE.writeASCII},o._copyTile=function(_,p,O,W,R,C,D,x){for(var ne=Math.min(p,R-D),Y=Math.min(O,C-x),K=0;K<Y;K++)for(var G=(x+K)*R+D,B=K*p,te=0;te<ne;te++)W[G+te]=_[B+te]},o.LosslessJpegDecode=function(){var _,p;function O(){return _[p++]}function W(){return _[p++]<<8|_[p++]}function R(T){for(var P=O(),ie=[0,0,0,255],le=[],fe=0;fe<16;fe++)le[fe]=O();for(fe=0;fe<16;fe++)for(var m=0;m<le[fe];m++)ie[C(ie,0,fe+1,1)+3]=O();var v=new Uint8Array(256);for(T[P]=[new Uint8Array(ie),v],fe=0;fe<256;fe++){for(var A=8,V=fe,i=0;ie[i+3]==255&&A!=0;)i=ie[i+(V>>--A&1)];v[fe]=i}}function C(T,P,ie,le){if(T[P+3]!=255)return 0;if(ie==0)return P;for(var fe=0;fe<2;fe++){T[P+fe]==0&&(T[P+fe]=T.length,T.push(0,0,le,255));var m=C(T,T[P+fe],ie-1,le+1);if(m!=0)return m}return 0}function D(T){for(var P=T.b,ie=T.a;P<25&&T.e<T.d;){var le=T.data[T.e++];T.c||(T.e+=le+1>>>8),ie=ie<<8|le,P+=8}if(P<0)throw"e";T.b=P,T.a=ie}function x(T,P){return P.b<T&&D(P),P.a>>(P.b-=T)&65535>>16-T}function ne(T,P){var ie=T[0],le=0,fe=255;P.b<16&&D(P);var m=P.a>>P.b-8&255;for(fe=ie[(le=T[1][m])+3],P.b-=ie[le+2];fe==255;)fe=ie[(le=ie[le+(P.a>>--P.b&1)])+3];return fe}function Y(T,P){return T<32768>>16-P&&(T+=1-(1<<P)),T}function K(T,P){var ie=ne(T,P);return ie==0?0:ie==16?-32768:Y(x(ie,P),ie)}function G(T,P,ie,le,fe,m){for(var v=0;v<m;v++)for(var A=v*P,V=0;V<P;V+=fe)for(var i=0;i<fe;i++)T[A+V+i]=K(le[i],ie)}function B(T,P){return Y(x(T,P),T)}function te(T,P,ie,le,fe,m,v,A){for(var V=ie*v,i=fe;i<m;i++)T[i]+=1<<A-1;for(var r=v;r<V;r+=v)for(i=fe;i<m;i++)T[r+i]+=T[r+i-v];for(var h=1;h<le;h++){var L=h*V;for(i=fe;i<m;i++)T[L+i]+=T[L+i-V];for(r=v;r<V;r+=v)for(i=fe;i<m;i++){var Q=L+r+i,g=Q-V,J=T[Q-v],oe=0;if(P==0)oe=0;else if(P==1)oe=J;else if(P==2)oe=T[g];else if(P==3)oe=T[g-v];else if(P==4)oe=J+(T[g]-T[g-v]);else if(P==5)oe=J+(T[g]-T[g-v]>>>1);else if(P==6)oe=T[g]+(J-T[g-v]>>>1);else{if(P!=7)throw P;oe=J+T[g]>>>1}T[Q]+=oe}}}return function(T){if(_=T,p=0,W()!=65496)throw"e";for(var P=[],ie=0,le=0,fe=[],m=[],v=[],A=0,V=0,i=0;;){var r=W();if(r!=65535){var h=W();if(r==65475){le=O(),V=W(),i=W(),A=O();for(var L=0;L<A;L++){var Q=O(),g=O();if(O()!=0)throw"e";P[Q]=[L,g>>4,15&g]}}else if(r==65476)for(var J=p+h-2;p<J;)R(m);else{if(r==65498){for(p++,L=0;L<A;L++){var oe=P[O()];v[oe[0]]=m[O()>>>4],fe[oe[0]]=oe.slice(1)}ie=O(),p+=2;break}p+=h-2}}else p--}var H=new(le>8?Uint16Array:Uint8Array)(V*i*A),ge={b:0,a:0,c:ie==8,e:p,data:_,d:_.length};if(ge.c)(function(ce,Ve,Le,$e,De){for(var Xe=_.length-p,Ue=0;Ue<Xe;Ue+=4){var Se=_[p+Ue];_[p+Ue]=_[p+Ue+3],_[p+Ue+3]=Se,Se=_[p+Ue+1],_[p+Ue+1]=_[p+Ue+2],_[p+Ue+2]=Se}for(var it=0;it<De;it++)for(var rt=32768,Ke=32768,ut=0;ut<Ve;ut+=2){var Mt=ne($e,Le),mt=ne($e,Le);Mt!=0&&(rt+=B(Mt,Le)),mt!=0&&(Ke+=B(mt,Le)),ce[it*Ve+ut]=65535&rt,ce[it*Ve+ut+1]=65535&Ke}})(H,i*A,ge,v[0],V);else{var ve=[],Ie=0,ke=0;for(L=0;L<A;L++){var ae=fe[L];(He=ae[0])>Ie&&(Ie=He),(Ne=ae[1])>ke&&(ke=Ne),ve.push(He*Ne)}if(Ie!=1||ke!=1){var ue=[],we=0;for(L=0;L<A;L++){for(var Be=0;Be<ve[L];Be++)ue.push(v[L]);we+=ve[L]}var be=i/Ie,Pe=V/ke;G(H,be*we,ge,ue,we,Pe),te(H,ie,be,Pe,we-2,we,we,le);for(var Te=H.slice(0),Ne=0;Ne<V;Ne++)for(var He=0;He<i;He++){var Qe=(Ne*i+He)*A,at=~~(Ne/ke)*be+~~(He/Ie),U=0;for(L=0;L<A;L++){var Ee=1&He,Z=at*we+U+(L==0?ke==1?Ee:2*Ee+(1&Ne):0);H[Qe+L]=Te[Z],U+=ve[L]}}te(H,ie,i,V,0,1,A,le)}else G(H,i*A,ge,v,A,V),te(H,ie,i,V,0,A,A,le)}return H}}(),function(){var _=2,p=3,O=4,W=5,R=6,C=7,D=8,x=9,ne=10,Y=11,K=12,G=13,B=14,te=15,T=16,P=17;function ie(r){for(var h=[[],[],[]],L=Math.max(2,r.w+32>>>6),Q=0;Q<3;Q++)for(var g=0;g<41;g++)h[Q][g]=[L,1];return h}function le(r,h){var L=0,Q=8-r.a;if(r.j,r.a,h){if(h>=Q)do L<<=Q,h-=Q,L|=r[r.j]&(1<<Q)-1,r.j++,Q=8;while(h>=8);h&&(L<<=h,Q-=h,L|=r[r.j]>>>Q&(1<<h)-1),r.a=8-Q}return L}function fe(r,h,L,Q,g,J,oe,H){H==null&&(H=0);var ge,ve,Ie,ke,ae,ue,we=J+1,Be=we%2,be=0,Pe=Q[g],Te=Q[g-1],Ne=Q[g-2][we],He=Te[we-1],Qe=Te[we],at=Te[we+1],U=Pe[we-1],Ee=Pe[we+1],Z=Math.abs;if(Be&&(Ie=Z(at-Qe),ke=Z(Ne-Qe),ae=Z(He-Qe)),Be){if(ue=(ue=Ie>ae&&ke<Ie?Ne+He:Ie<ae&&ke<ae?Ne+at:at+He)+2*Qe>>>2,H)return void(Pe[we]=ue);ge=h.t*h.c[r.g+Qe-Ne]+h.c[r.g+He-Qe]}else ue=Qe>He&&Qe>at||Qe<He&&Qe<at?Ee+U+2*Qe>>>2:U+Ee>>>1,ge=h.t*h.c[r.g+Qe-He]+h.c[r.g+He-U];ve=Z(ge);var ce=function(Le){for(var $e=-1,De=0;!De;$e++)De=Le[Le.j]>>>7-Le.a&1,Le.a++,Le.a&=7,Le.a||Le.j++;return $e}(L);if(ce<r.n-h.v-1){var Ve=function(Le,$e){var De=0;if($e<Le)for(;De<=14&&$e<<++De<Le;);return De}(oe[ve][0],oe[ve][1]);be=le(L,Ve)+(ce<<Ve)}else be=le(L,h.v)+1;be=1&be?-1-(be>>>1):be>>>1,oe[ve][0]+=Z(be),oe[ve][1]==r.f&&(oe[ve][0]>>>=1,oe[ve][1]>>>=1),oe[ve][1]++,ue=ge<0?ue-be:ue+be,r.i&&(ue<0?ue+=h.w:ue>r.g&&(ue-=h.w)),Pe[we]=ue>=0?Math.min(ue,r.g):0}function m(r,h,L){for(var Q=r[0].length,g=h;g<=L;g++)r[g][0]=r[g-1][1],r[g][Q-1]=r[g-1][Q-2]}function v(r){m(r,C,K),m(r,_,O),m(r,te,P)}function A(r,h,L,Q,g,J,oe,H,ge,ve,Ie,ke,ae){for(var ue=0,we=1,Be=g<G&&g>O;we<r.m;)ue<r.m&&(fe(r,h,L,Q,g,ue,oe[ge],r.h&&(Be&&ve||!Be&&(Ie||(ue&ke)==ae))),fe(r,h,L,Q,J,ue,oe[ge],r.h&&(!Be&&ve||Be&&(Ie||(ue&ke)==ae))),ue+=2),ue>8&&(fe(r,h,L,Q,g,we,H[ge]),fe(r,h,L,Q,J,we,H[ge]),we+=2);v(Q)}function V(r,h,L,Q,g,J){A(r,h,L,Q,_,C,g,J,0,0,1,0,8),A(r,h,L,Q,D,te,g,J,1,0,1,0,8),A(r,h,L,Q,p,x,g,J,2,1,0,3,0),A(r,h,L,Q,ne,T,g,J,0,0,0,3,2),A(r,h,L,Q,O,Y,g,J,1,0,0,3,2),A(r,h,L,Q,K,P,g,J,2,1,0,3,0)}function i(r,h,L,Q,g,J){var oe=J.length,H=r.l;g+1==r.s&&(H=r.e-g*r.l);for(var ge=6*r.e*Q+g*r.l,ve=0;ve<6;ve++){for(var Ie=0;Ie<H;Ie++){var ke,ae=J[ve%oe][Ie%oe];ke=ae==0?_+(ve>>>1):ae==2?te+(ve>>>1):C+ve;var ue=r.h?(2*Ie/3&2147483646|Ie%3&1)+(Ie%3>>>1):Ie>>>1;h[ge+Ie]=L[ke][ue+1]}ge+=r.e}}o._decompressRAF=function(r,h){var L=function(we){var Be=o._binBE.readUshort,be={b:Be(we,0),i:we[2],C:we[3],u:we[4],q:Be(we,5),k:Be(we,7),e:Be(we,9),l:Be(we,11),s:we[13],d:Be(we,14)};if(be.b!=18771||be.i>1||be.q<6||be.q%6||be.e<768||be.e%24||be.l!=768||be.k<be.l||be.k%be.l||be.k-be.e>=be.l||be.s>16||be.s!=be.k/be.l||be.s!=Math.ceil(be.e/be.l)||be.d!=be.q/6||be.u!=12&&be.u!=14&&be.u!=16||be.C!=16&&be.C!=0)throw"Invalid data";if(be.i==0)throw"Not implemented. We need this file!";return be.h=be.C==16,be.m=0|(be.h?2*be.l/3:be.l>>>1),be.A=be.m+2,be.f=64,be.g=(1<<be.u)-1,be.n=4*be.u,be}(r),Q=function(we,Be){var be=new Array(Be.s),Pe=4*Be.s,Te=16+Pe;12&Pe&&(Te+=16-(12&Pe));for(var Ne=0,He=16;Ne<Be.s;He+=4){var Qe=o._binBE.readUint(we,He);be[Ne]=we.slice(Te,Te+Qe),be[Ne].j=0,be[Ne].a=0,Te+=Qe,Ne++}if(Te!=we.length)throw"Invalid data";return be}(r,L),g=function(we){var Be={c:new Int8Array(2<<we.u)};return function(be,Pe,Te){var Ne=[0,18,67,276,Te];be.o=0,be.w=(Ne[4]+0)/1+1|0,be.v=Math.ceil(Math.log2(be.w)),be.t=9,function(He,Qe){for(var at=-Qe[4],U=0;at<=Qe[4];U++,at++)He[U]=at<=-Qe[3]?-4:at<=-Qe[2]?-3:at<=-Qe[1]?-2:at<-Qe[0]?-1:at<=Qe[0]?0:at<Qe[1]?1:at<Qe[2]?2:at<Qe[3]?3:4}(be.c,Ne)}(Be,0,we.g),Be}(L),J=new Int16Array(L.e*L.q);h==null&&(h=L.h?[[1,1,0,1,1,2],[1,1,2,1,1,0],[2,0,1,0,2,1],[1,1,2,1,1,0],[1,1,0,1,1,2],[0,2,1,2,0,1]]:[[0,1],[3,2]]);for(var oe=[[0,p],[1,O],[W,Y],[R,K],[G,T],[B,P]],H=[],ge=0;ge<18;ge++)H[ge]=new Uint16Array(L.A);for(var ve=0;ve<L.s;ve++){var Ie=ie(g),ke=ie(g);for(ge=0;ge<18;ge++)for(var ae=0;ae<L.A;ae++)H[ge][ae]=0;for(var ue=0;ue<L.d;ue++){for(V(L,g,Q[ve],H,Ie,ke),ge=0;ge<6;ge++)for(ae=0;ae<L.A;ae++)H[oe[ge][0]][ae]=H[oe[ge][1]][ae];for(i(L,J,H,ue,ve,h),ge=_;ge<18;ge++)if([W,R,G,B].indexOf(ge)==-1)for(ae=0;ae<L.A;ae++)H[ge][ae]=0;v(H)}}return J}}()}(S,q(2845))})()},6168:(xe,re,q)=>{q.r(re),q.d(re,{DOMException:()=>$,Headers:()=>t,Request:()=>k,Response:()=>F,fetch:()=>X});var f=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||f!==void 0&&f,S={searchParams:"URLSearchParams"in f,iterable:"Symbol"in f&&"iterator"in Symbol,blob:"FileReader"in f&&"Blob"in f&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in f,arrayBuffer:"ArrayBuffer"in f};if(S.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(_){return _&&l.indexOf(Object.prototype.toString.call(_))>-1};function e(_){if(typeof _!="string"&&(_=String(_)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(_)||_==="")throw new TypeError('Invalid character in header field name: "'+_+'"');return _.toLowerCase()}function a(_){return typeof _!="string"&&(_=String(_)),_}function n(_){var p={next:function(){var O=_.shift();return{done:O===void 0,value:O}}};return S.iterable&&(p[Symbol.iterator]=function(){return p}),p}function t(_){this.map={},_ instanceof t?_.forEach(function(p,O){this.append(O,p)},this):Array.isArray(_)?_.forEach(function(p){this.append(p[0],p[1])},this):_&&Object.getOwnPropertyNames(_).forEach(function(p){this.append(p,_[p])},this)}function s(_){if(_.bodyUsed)return Promise.reject(new TypeError("Already read"));_.bodyUsed=!0}function d(_){return new Promise(function(p,O){_.onload=function(){p(_.result)},_.onerror=function(){O(_.error)}})}function y(_){var p=new FileReader,O=d(p);return p.readAsArrayBuffer(_),O}function E(_){if(_.slice)return _.slice(0);var p=new Uint8Array(_.byteLength);return p.set(new Uint8Array(_)),p.buffer}function M(){return this.bodyUsed=!1,this._initBody=function(_){var p;this.bodyUsed=this.bodyUsed,this._bodyInit=_,_?typeof _=="string"?this._bodyText=_:S.blob&&Blob.prototype.isPrototypeOf(_)?this._bodyBlob=_:S.formData&&FormData.prototype.isPrototypeOf(_)?this._bodyFormData=_:S.searchParams&&URLSearchParams.prototype.isPrototypeOf(_)?this._bodyText=_.toString():S.arrayBuffer&&S.blob&&(p=_)&&DataView.prototype.isPrototypeOf(p)?(this._bodyArrayBuffer=E(_.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):S.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(_)||o(_))?this._bodyArrayBuffer=E(_):this._bodyText=_=Object.prototype.toString.call(_):this._bodyText="",this.headers.get("content-type")||(typeof _=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):S.searchParams&&URLSearchParams.prototype.isPrototypeOf(_)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},S.blob&&(this.blob=function(){var _=s(this);if(_)return _;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?s(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(y)}),this.text=function(){var _,p,O,W=s(this);if(W)return W;if(this._bodyBlob)return _=this._bodyBlob,O=d(p=new FileReader),p.readAsText(_),O;if(this._bodyArrayBuffer)return Promise.resolve(function(R){for(var C=new Uint8Array(R),D=new Array(C.length),x=0;x<C.length;x++)D[x]=String.fromCharCode(C[x]);return D.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},S.formData&&(this.formData=function(){return this.text().then(I)}),this.json=function(){return this.text().then(JSON.parse)},this}t.prototype.append=function(_,p){_=e(_),p=a(p);var O=this.map[_];this.map[_]=O?O+", "+p:p},t.prototype.delete=function(_){delete this.map[e(_)]},t.prototype.get=function(_){return _=e(_),this.has(_)?this.map[_]:null},t.prototype.has=function(_){return this.map.hasOwnProperty(e(_))},t.prototype.set=function(_,p){this.map[e(_)]=a(p)},t.prototype.forEach=function(_,p){for(var O in this.map)this.map.hasOwnProperty(O)&&_.call(p,this.map[O],O,this)},t.prototype.keys=function(){var _=[];return this.forEach(function(p,O){_.push(O)}),n(_)},t.prototype.values=function(){var _=[];return this.forEach(function(p){_.push(p)}),n(_)},t.prototype.entries=function(){var _=[];return this.forEach(function(p,O){_.push([O,p])}),n(_)},S.iterable&&(t.prototype[Symbol.iterator]=t.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function k(_,p){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var O,W,R=(p=p||{}).body;if(_ instanceof k){if(_.bodyUsed)throw new TypeError("Already read");this.url=_.url,this.credentials=_.credentials,p.headers||(this.headers=new t(_.headers)),this.method=_.method,this.mode=_.mode,this.signal=_.signal,R||_._bodyInit==null||(R=_._bodyInit,_.bodyUsed=!0)}else this.url=String(_);if(this.credentials=p.credentials||this.credentials||"same-origin",!p.headers&&this.headers||(this.headers=new t(p.headers)),this.method=(W=(O=p.method||this.method||"GET").toUpperCase(),b.indexOf(W)>-1?W:O),this.mode=p.mode||this.mode||null,this.signal=p.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&R)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(R),!(this.method!=="GET"&&this.method!=="HEAD"||p.cache!=="no-store"&&p.cache!=="no-cache")){var C=/([?&])_=[^&]*/;C.test(this.url)?this.url=this.url.replace(C,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function I(_){var p=new FormData;return _.trim().split("&").forEach(function(O){if(O){var W=O.split("="),R=W.shift().replace(/\+/g," "),C=W.join("=").replace(/\+/g," ");p.append(decodeURIComponent(R),decodeURIComponent(C))}}),p}function F(_,p){if(!(this instanceof F))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');p||(p={}),this.type="default",this.status=p.status===void 0?200:p.status,this.ok=this.status>=200&&this.status<300,this.statusText=p.statusText===void 0?"":""+p.statusText,this.headers=new t(p.headers),this.url=p.url||"",this._initBody(_)}k.prototype.clone=function(){return new k(this,{body:this._bodyInit})},M.call(k.prototype),M.call(F.prototype),F.prototype.clone=function(){return new F(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new t(this.headers),url:this.url})},F.error=function(){var _=new F(null,{status:0,statusText:""});return _.type="error",_};var N=[301,302,303,307,308];F.redirect=function(_,p){if(N.indexOf(p)===-1)throw new RangeError("Invalid status code");return new F(null,{status:p,headers:{location:_}})};var $=f.DOMException;try{new $}catch{($=function(p,O){this.message=p,this.name=O;var W=Error(p);this.stack=W.stack}).prototype=Object.create(Error.prototype),$.prototype.constructor=$}function X(_,p){return new Promise(function(O,W){var R=new k(_,p);if(R.signal&&R.signal.aborted)return W(new $("Aborted","AbortError"));var C=new XMLHttpRequest;function D(){C.abort()}C.onload=function(){var x,ne,Y={status:C.status,statusText:C.statusText,headers:(x=C.getAllResponseHeaders()||"",ne=new t,x.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(G){return G.indexOf(`
`)===0?G.substr(1,G.length):G}).forEach(function(G){var B=G.split(":"),te=B.shift().trim();if(te){var T=B.join(":").trim();ne.append(te,T)}}),ne)};Y.url="responseURL"in C?C.responseURL:Y.headers.get("X-Request-URL");var K="response"in C?C.response:C.responseText;setTimeout(function(){O(new F(K,Y))},0)},C.onerror=function(){setTimeout(function(){W(new TypeError("Network request failed"))},0)},C.ontimeout=function(){setTimeout(function(){W(new TypeError("Network request failed"))},0)},C.onabort=function(){setTimeout(function(){W(new $("Aborted","AbortError"))},0)},C.open(R.method,function(x){try{return x===""&&f.location.href?f.location.href:x}catch{return x}}(R.url),!0),R.credentials==="include"?C.withCredentials=!0:R.credentials==="omit"&&(C.withCredentials=!1),"responseType"in C&&(S.blob?C.responseType="blob":S.arrayBuffer&&R.headers.get("Content-Type")&&R.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(C.responseType="arraybuffer")),!p||typeof p.headers!="object"||p.headers instanceof t?R.headers.forEach(function(x,ne){C.setRequestHeader(ne,x)}):Object.getOwnPropertyNames(p.headers).forEach(function(x){C.setRequestHeader(x,a(p.headers[x]))}),R.signal&&(R.signal.addEventListener("abort",D),C.onreadystatechange=function(){C.readyState===4&&R.signal.removeEventListener("abort",D)}),C.send(R._bodyInit===void 0?null:R._bodyInit)})}X.polyfill=!0,f.fetch||(f.fetch=X,f.Headers=t,f.Request=k,f.Response=F)},6290:(xe,re,q)=>{var f=q(5048),S=q(9748),l=q(4655),o=q(1960);function e(t,s,d){var y=t;return S(s)?(d=s,typeof t=="string"&&(y={uri:t})):y=o(s,{uri:t}),y.callback=d,y}function a(t,s,d){return n(s=e(t,s,d))}function n(t){if(t.callback===void 0)throw new Error("callback argument missing");var s=!1,d=function(R,C,D){s||(s=!0,t.callback(R,C,D))};function y(){var R=void 0;if(R=I.response?I.response:I.responseText||function(C){try{if(C.responseType==="document")return C.responseXML;var D=C.responseXML&&C.responseXML.documentElement.nodeName==="parsererror";if(C.responseType===""&&!D)return C.responseXML}catch{}return null}(I),O)try{R=JSON.parse(R)}catch{}return R}function E(R){return clearTimeout(F),R instanceof Error||(R=new Error(""+(R||"Unknown XMLHttpRequest Error"))),R.statusCode=0,d(R,W)}function M(){if(!k){var R;clearTimeout(F),R=t.useXDR&&I.status===void 0?200:I.status===1223?204:I.status;var C=W,D=null;return R!==0?(C={body:y(),statusCode:R,method:$,headers:{},url:N,rawRequest:I},I.getAllResponseHeaders&&(C.headers=l(I.getAllResponseHeaders()))):D=new Error("Internal XMLHttpRequest Error"),d(D,C,C.body)}}var b,k,I=t.xhr||null;I||(I=t.cors||t.useXDR?new a.XDomainRequest:new a.XMLHttpRequest);var F,N=I.url=t.uri||t.url,$=I.method=t.method||"GET",X=t.body||t.data,_=I.headers=t.headers||{},p=!!t.sync,O=!1,W={body:void 0,headers:{},statusCode:0,method:$,url:N,rawRequest:I};if("json"in t&&t.json!==!1&&(O=!0,_.accept||_.Accept||(_.Accept="application/json"),$!=="GET"&&$!=="HEAD"&&(_["content-type"]||_["Content-Type"]||(_["Content-Type"]="application/json"),X=JSON.stringify(t.json===!0?X:t.json))),I.onreadystatechange=function(){I.readyState===4&&setTimeout(M,0)},I.onload=M,I.onerror=E,I.onprogress=function(){},I.onabort=function(){k=!0},I.ontimeout=E,I.open($,N,!p,t.username,t.password),p||(I.withCredentials=!!t.withCredentials),!p&&t.timeout>0&&(F=setTimeout(function(){if(!k){k=!0,I.abort("timeout");var R=new Error("XMLHttpRequest timeout");R.code="ETIMEDOUT",E(R)}},t.timeout)),I.setRequestHeader)for(b in _)_.hasOwnProperty(b)&&I.setRequestHeader(b,_[b]);else if(t.headers&&!function(R){for(var C in R)if(R.hasOwnProperty(C))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(I.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(I),I.send(X||null),I}xe.exports=a,xe.exports.default=a,a.XMLHttpRequest=f.XMLHttpRequest||function(){},a.XDomainRequest="withCredentials"in new a.XMLHttpRequest?a.XMLHttpRequest:f.XDomainRequest,function(t,s){for(var d=0;d<t.length;d++)s(t[d])}(["get","put","post","patch","head","delete"],function(t){a[t==="delete"?"del":t]=function(s,d,y){return(d=e(s,d,y)).method=t.toUpperCase(),n(d)}})},1596:xe=>{xe.exports=self.DOMParser!==void 0?function(re){return new self.DOMParser().parseFromString(re,"application/xml")}:self.ActiveXObject!==void 0&&new self.ActiveXObject("Microsoft.XMLDOM")?function(re){var q=new self.ActiveXObject("Microsoft.XMLDOM");return q.async="false",q.loadXML(re),q}:function(re){var q=document.createElement("div");return q.innerHTML=re,q}},1960:xe=>{xe.exports=function(){for(var q={},f=0;f<arguments.length;f++){var S=arguments[f];for(var l in S)re.call(S,l)&&(q[l]=S[l])}return q};var re=Object.prototype.hasOwnProperty},8522:()=>{},6777:()=>{},5546:()=>{},2460:(xe,re,q)=>{var f=q(4406),S=Object.defineProperty,l=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,e=Object.prototype.hasOwnProperty,a=(u,se)=>{for(var de in se)S(u,de,{get:se[de],enumerable:!0})},n=(u=>(se,de)=>u&&u.get(se)||(de=((ye,Me,Fe,Oe)=>{if(Me&&typeof Me=="object"||typeof Me=="function")for(let We of o(Me))e.call(ye,We)||S(ye,We,{get:()=>Me[We],enumerable:!(Oe=l(Me,We))||Oe.enumerable});return ye})(S({},"__esModule",{value:!0}),se),u&&u.set(se,de),de))(typeof WeakMap<"u"?new WeakMap:0),t=(u,se,de)=>(((ye,Me,Fe)=>{Me in ye?S(ye,Me,{enumerable:!0,configurable:!0,writable:!0,value:Fe}):ye[Me]=Fe})(u,typeof se!="symbol"?se+"":se,de),de),s={};a(s,{applyPalette:()=>oi,applyPaletteSync:()=>ai,buildPalette:()=>ni,buildPaletteSync:()=>ri,constants:()=>d,conversion:()=>k,distance:()=>v,image:()=>Rt,palette:()=>ue,quality:()=>Zt,utils:()=>Ne});var d={};a(d,{bt709:()=>y});var y={};a(y,{Y:()=>E,x:()=>M,y:()=>b});var E=(u=>(u[u.RED=.2126]="RED",u[u.GREEN=.7152]="GREEN",u[u.BLUE=.0722]="BLUE",u[u.WHITE=1]="WHITE",u))(E||{}),M=(u=>(u[u.RED=.64]="RED",u[u.GREEN=.3]="GREEN",u[u.BLUE=.15]="BLUE",u[u.WHITE=.3127]="WHITE",u))(M||{}),b=(u=>(u[u.RED=.33]="RED",u[u.GREEN=.6]="GREEN",u[u.BLUE=.06]="BLUE",u[u.WHITE=.329]="WHITE",u))(b||{}),k={};function I(u){return u>.04045?((u+.055)/1.055)**2.4:u/12.92}function F(u,se,de){return{x:.4124*(u=I(u/255))+.3576*(se=I(se/255))+.1805*(de=I(de/255)),y:.2126*u+.7152*se+.0722*de,z:.0193*u+.1192*se+.9505*de}}a(k,{lab2rgb:()=>m,lab2xyz:()=>ie,rgb2hsl:()=>C,rgb2lab:()=>G,rgb2xyz:()=>F,xyz2lab:()=>K,xyz2rgb:()=>fe});var N={};function $(u){return u*(Math.PI/180)}function X(u,se,de){let ye=u;return ye<se&&(ye=se),ye<de&&(ye=de),ye}function _(u,se,de){let ye=u;return ye>se&&(ye=se),ye>de&&(ye=de),ye}function p(u,se,de){return u>de&&(u=de),u<se&&(u=se),0|u}function O(u){return(u=Math.round(u))>255?u=255:u<0&&(u=0),u}function W(u){return u>255?u=255:u<0&&(u=0),u}function R(u,se){const de=typeof u[0];let ye;if(de==="number"||de==="string"){const Me=Object.create(null);for(let Fe=0,Oe=u.length;Fe<Oe;Fe++){const We=u[Fe];Me[We]||Me[We]===0||(Me[We]=Fe)}ye=u.sort((Fe,Oe)=>se(Fe,Oe)||Me[Fe]-Me[Oe])}else{const Me=u.slice(0);ye=u.sort((Fe,Oe)=>se(Fe,Oe)||Me.indexOf(Fe)-Me.indexOf(Oe))}return ye}function C(u,se,de){const ye=_(u,se,de),Me=X(u,se,de),Fe=Me-ye,Oe=(ye+Me)/510;let We=0;Oe>0&&Oe<1&&(We=Fe/(Oe<.5?Me+ye:510-Me-ye));let ze=0;return Fe>0&&(ze=Me===u?(se-de)/Fe:Me===se?2+(de-u)/Fe:4+(u-se)/Fe,ze*=60,ze<0&&(ze+=360)),{h:ze,s:We,l:Oe}}a(N,{degrees2radians:()=>$,inRange0to255:()=>W,inRange0to255Rounded:()=>O,intInRange:()=>p,max3:()=>X,min3:()=>_,stableSort:()=>R});var D=.95047,x=1,ne=1.08883;function Y(u){return u>.008856?u**.3333333333333333:7.787*u+.13793103448275862}function K(u,se,de){if(u=Y(u/D),se=Y(se/x),de=Y(de/ne),116*se-16<0)throw new Error("xxx");return{L:Math.max(0,116*se-16),a:500*(u-se),b:200*(se-de)}}function G(u,se,de){const ye=F(u,se,de);return K(ye.x,ye.y,ye.z)}var B=.95047,te=1,T=1.08883;function P(u){return u>.206893034?u**3:(u-.13793103448275862)/7.787}function ie(u,se,de){const ye=(u+16)/116,Me=ye-de/200;return{x:B*P(se/500+ye),y:te*P(ye),z:T*P(Me)}}function le(u){return u>.0031308?1.055*u**.4166666666666667-.055:12.92*u}function fe(u,se,de){const ye=le(3.2406*u+-1.5372*se+-.4986*de),Me=le(-.9689*u+1.8758*se+.0415*de),Fe=le(.0557*u+-.204*se+1.057*de);return{r:O(255*ye),g:O(255*Me),b:O(255*Fe)}}function m(u,se,de){const ye=ie(u,se,de);return fe(ye.x,ye.y,ye.z)}var v={};a(v,{AbstractDistanceCalculator:()=>A,AbstractEuclidean:()=>g,AbstractManhattan:()=>ge,CIE94GraphicArts:()=>r,CIE94Textiles:()=>i,CIEDE2000:()=>L,CMetric:()=>Q,Euclidean:()=>J,EuclideanBT709:()=>oe,EuclideanBT709NoAlpha:()=>H,Manhattan:()=>ve,ManhattanBT709:()=>ke,ManhattanNommyde:()=>Ie,PNGQuant:()=>ae});var A=class{constructor(){t(this,"_maxDistance"),t(this,"_whitePoint"),this._setDefaults(),this.setWhitePoint(255,255,255,255)}setWhitePoint(u,se,de,ye){this._whitePoint={r:u>0?255/u:0,g:se>0?255/se:0,b:de>0?255/de:0,a:ye>0?255/ye:0},this._maxDistance=this.calculateRaw(u,se,de,ye,0,0,0,0)}calculateNormalized(u,se){return this.calculateRaw(u.r,u.g,u.b,u.a,se.r,se.g,se.b,se.a)/this._maxDistance}},V=class extends A{calculateRaw(u,se,de,ye,Me,Fe,Oe,We){const ze=G(W(u*this._whitePoint.r),W(se*this._whitePoint.g),W(de*this._whitePoint.b)),Je=G(W(Me*this._whitePoint.r),W(Fe*this._whitePoint.g),W(Oe*this._whitePoint.b)),qe=ze.L-Je.L,Ye=ze.a-Je.a,ot=ze.b-Je.b,gt=Math.sqrt(ze.a*ze.a+ze.b*ze.b),dt=gt-Math.sqrt(Je.a*Je.a+Je.b*Je.b);let ht=Ye*Ye+ot*ot-dt*dt;ht=ht<0?0:Math.sqrt(ht);const lt=(We-ye)*this._whitePoint.a*this._kA;return Math.sqrt((qe/this._Kl)**2+(dt/(1+this._K1*gt))**2+(ht/(1+this._K2*gt))**2+lt**2)}},i=class extends V{_setDefaults(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255}},r=class extends V{_setDefaults(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255}},h=class extends A{_setDefaults(){}static _calculatehp(u,se){const de=Math.atan2(u,se);return de>=0?de:de+h._deg360InRad}static _calculateRT(u,se){const de=se**7,ye=2*Math.sqrt(de/(de+h._pow25to7)),Me=h._deg30InRad*Math.exp(-(((u-h._deg275InRad)/h._deg25InRad)**2));return-Math.sin(2*Me)*ye}static _calculateT(u){return 1-.17*Math.cos(u-h._deg30InRad)+.24*Math.cos(2*u)+.32*Math.cos(3*u+h._deg6InRad)-.2*Math.cos(4*u-h._deg63InRad)}static _calculate_ahp(u,se,de,ye){const Me=de+ye;return u===0?Me:se<=h._deg180InRad?Me/2:Me<h._deg360InRad?(Me+h._deg360InRad)/2:(Me-h._deg360InRad)/2}static _calculate_dHp(u,se,de,ye){let Me;return Me=u===0?0:se<=h._deg180InRad?de-ye:de<=ye?de-ye+h._deg360InRad:de-ye-h._deg360InRad,2*Math.sqrt(u)*Math.sin(Me/2)}calculateRaw(u,se,de,ye,Me,Fe,Oe,We){const ze=G(W(u*this._whitePoint.r),W(se*this._whitePoint.g),W(de*this._whitePoint.b)),Je=G(W(Me*this._whitePoint.r),W(Fe*this._whitePoint.g),W(Oe*this._whitePoint.b)),qe=(We-ye)*this._whitePoint.a*h._kA,Ye=this.calculateRawInLab(ze,Je);return Math.sqrt(Ye+qe*qe)}calculateRawInLab(u,se){const de=u.L,ye=u.a,Me=u.b,Fe=se.L,Oe=se.a,We=se.b,ze=((Math.sqrt(ye*ye+Me*Me)+Math.sqrt(Oe*Oe+We*We))/2)**7,Je=.5*(1-Math.sqrt(ze/(ze+h._pow25to7))),qe=(1+Je)*ye,Ye=(1+Je)*Oe,ot=Math.sqrt(qe*qe+Me*Me),gt=Math.sqrt(Ye*Ye+We*We),dt=ot*gt,ht=h._calculatehp(Me,qe),lt=h._calculatehp(We,Ye),Ot=Math.abs(ht-lt),At=Fe-de,Ut=gt-ot,Ct=h._calculate_dHp(dt,Ot,lt,ht),Ht=h._calculate_ahp(dt,Ot,ht,lt),jt=(ot+gt)/2,ct=((de+Fe)/2-50)**2,Xt=Ut/(1+.045*jt),li=Ct/(1+.015*h._calculateT(Ht)*jt);return(At/(1+.015*ct/Math.sqrt(20+ct)))**2+Xt**2+li**2+h._calculateRT(Ht,jt)*Xt*li}},L=h;t(L,"_kA",.09803921568627451),t(L,"_pow25to7",6103515625),t(L,"_deg360InRad",$(360)),t(L,"_deg180InRad",$(180)),t(L,"_deg30InRad",$(30)),t(L,"_deg6InRad",$(6)),t(L,"_deg63InRad",$(63)),t(L,"_deg275InRad",$(275)),t(L,"_deg25InRad",$(25));var Q=class extends A{calculateRaw(u,se,de,ye,Me,Fe,Oe,We){const ze=(u+Me)/2*this._whitePoint.r,Je=(u-Me)*this._whitePoint.r,qe=(se-Fe)*this._whitePoint.g,Ye=(de-Oe)*this._whitePoint.b,ot=((512+ze)*Je*Je>>8)+4*qe*qe+((767-ze)*Ye*Ye>>8),gt=(We-ye)*this._whitePoint.a;return Math.sqrt(ot+gt*gt)}_setDefaults(){}},g=class extends A{calculateRaw(u,se,de,ye,Me,Fe,Oe,We){const ze=Me-u,Je=Fe-se,qe=Oe-de,Ye=We-ye;return Math.sqrt(this._kR*ze*ze+this._kG*Je*Je+this._kB*qe*qe+this._kA*Ye*Ye)}},J=class extends g{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},oe=class extends g{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},H=class extends g{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=0}},ge=class extends A{calculateRaw(u,se,de,ye,Me,Fe,Oe,We){let ze=Me-u,Je=Fe-se,qe=Oe-de,Ye=We-ye;return ze<0&&(ze=0-ze),Je<0&&(Je=0-Je),qe<0&&(qe=0-qe),Ye<0&&(Ye=0-Ye),this._kR*ze+this._kG*Je+this._kB*qe+this._kA*Ye}},ve=class extends ge{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},Ie=class extends ge{_setDefaults(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1}},ke=class extends ge{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},ae=class extends A{calculateRaw(u,se,de,ye,Me,Fe,Oe,We){const ze=(We-ye)*this._whitePoint.a;return this._colordifferenceCh(u*this._whitePoint.r,Me*this._whitePoint.r,ze)+this._colordifferenceCh(se*this._whitePoint.g,Fe*this._whitePoint.g,ze)+this._colordifferenceCh(de*this._whitePoint.b,Oe*this._whitePoint.b,ze)}_colordifferenceCh(u,se,de){const ye=u-se,Me=ye+de;return ye*ye+Me*Me}_setDefaults(){}},ue={};a(ue,{AbstractPaletteQuantizer:()=>we,ColorHistogram:()=>Xe,NeuQuant:()=>ce,NeuQuantFloat:()=>$e,RGBQuant:()=>Se,WuColorCube:()=>mt,WuQuant:()=>vt});var we=class{quantizeSync(){for(const u of this.quantize())if(u.palette)return u.palette;throw new Error("unreachable")}},Be=class{constructor(){t(this,"r"),t(this,"g"),t(this,"b"),t(this,"a"),t(this,"uint32"),t(this,"rgba"),this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}static createByQuadruplet(u){const se=new Be;return se.r=0|u[0],se.g=0|u[1],se.b=0|u[2],se.a=0|u[3],se._loadUINT32(),se._loadQuadruplet(),se}static createByRGBA(u,se,de,ye){const Me=new Be;return Me.r=0|u,Me.g=0|se,Me.b=0|de,Me.a=0|ye,Me._loadUINT32(),Me._loadQuadruplet(),Me}static createByUint32(u){const se=new Be;return se.uint32=u>>>0,se._loadRGBA(),se._loadQuadruplet(),se}from(u){this.r=u.r,this.g=u.g,this.b=u.b,this.a=u.a,this.uint32=u.uint32,this.rgba[0]=u.r,this.rgba[1]=u.g,this.rgba[2]=u.b,this.rgba[3]=u.a}getLuminosity(u){let se=this.r,de=this.g,ye=this.b;return u&&(se=Math.min(255,255-this.a+this.a*se/255),de=Math.min(255,255-this.a+this.a*de/255),ye=Math.min(255,255-this.a+this.a*ye/255)),.2126*se+.7152*de+.0722*ye}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a}},be=class{constructor(){t(this,"_pointArray"),t(this,"_width"),t(this,"_height"),this._width=0,this._height=0,this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth(u){this._width=u}setHeight(u){this._height=u}getPointArray(){return this._pointArray}clone(){const u=new be;u._width=this._width,u._height=this._height;for(let se=0,de=this._pointArray.length;se<de;se++)u._pointArray[se]=Be.createByUint32(0|this._pointArray[se].uint32);return u}toUint32Array(){const u=this._pointArray.length,se=new Uint32Array(u);for(let de=0;de<u;de++)se[de]=this._pointArray[de].uint32;return se}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement(u){const se=u.naturalWidth,de=u.naturalHeight,ye=document.createElement("canvas");return ye.width=se,ye.height=de,ye.getContext("2d").drawImage(u,0,0,se,de,0,0,se,de),be.fromHTMLCanvasElement(ye)}static fromHTMLCanvasElement(u){const se=u.width,de=u.height,ye=u.getContext("2d").getImageData(0,0,se,de);return be.fromImageData(ye)}static fromImageData(u){const se=u.width,de=u.height;return be.fromUint8Array(u.data,se,de)}static fromUint8Array(u,se,de){switch(Object.prototype.toString.call(u)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:u=new Uint8Array(u)}const ye=new Uint32Array(u.buffer);return be.fromUint32Array(ye,se,de)}static fromUint32Array(u,se,de){const ye=new be;ye._width=se,ye._height=de;for(let Me=0,Fe=u.length;Me<Fe;Me++)ye._pointArray[Me]=Be.createByUint32(0|u[Me]);return ye}static fromBuffer(u,se,de){const ye=new Uint32Array(u.buffer,u.byteOffset,u.byteLength/Uint32Array.BYTES_PER_ELEMENT);return be.fromUint32Array(ye,se,de)}};function Pe(u,se){const de=360/se;for(let ye=1,Me=de-de/2;ye<se;ye++,Me+=de)if(u>=Me&&u<Me+de)return ye;return 0}var Te=class{constructor(){t(this,"_pointContainer"),t(this,"_pointArray",[]),t(this,"_i32idx",{}),this._pointContainer=new be,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}add(u){this._pointArray.push(u),this._pointContainer.setWidth(this._pointArray.length)}has(u){for(let se=this._pointArray.length-1;se>=0;se--)if(u.uint32===this._pointArray[se].uint32)return!0;return!1}getNearestColor(u,se){return this._pointArray[0|this._getNearestIndex(u,se)]}getPointContainer(){return this._pointContainer}_nearestPointFromCache(u){return typeof this._i32idx[u]=="number"?this._i32idx[u]:-1}_getNearestIndex(u,se){let de=this._nearestPointFromCache(""+se.uint32);if(de>=0)return de;let ye=Number.MAX_VALUE;de=0;for(let Me=0,Fe=this._pointArray.length;Me<Fe;Me++){const Oe=this._pointArray[Me],We=u.calculateRaw(se.r,se.g,se.b,se.a,Oe.r,Oe.g,Oe.b,Oe.a);We<ye&&(ye=We,de=Me)}return this._i32idx[se.uint32]=de,de}sort(){this._i32idx={},this._pointArray.sort((u,se)=>{const de=C(u.r,u.g,u.b),ye=C(se.r,se.g,se.b),Me=u.r===u.g&&u.g===u.b?0:1+Pe(de.h,10),Fe=(se.r===se.g&&se.g===se.b?0:1+Pe(ye.h,10))-Me;if(Fe)return-Fe;const Oe=u.getLuminosity(!0),We=se.getLuminosity(!0);if(We-Oe!=0)return We-Oe;const ze=(100*ye.s|0)-(100*de.s|0);return ze?-ze:0})}},Ne={};a(Ne,{HueStatistics:()=>Qe,Palette:()=>Te,Point:()=>Be,PointContainer:()=>be,ProgressTracker:()=>U,arithmetic:()=>N});var He=class{constructor(){t(this,"num",0),t(this,"cols",[])}},Qe=class{constructor(u,se){t(this,"_numGroups"),t(this,"_minCols"),t(this,"_stats"),t(this,"_groupsFull"),this._numGroups=u,this._minCols=se,this._stats=[];for(let de=0;de<=u;de++)this._stats[de]=new He;this._groupsFull=0}check(u){this._groupsFull===this._numGroups+1&&(this.check=()=>{});const se=255&u,de=u>>>8&255,ye=u>>>16&255,Me=se===de&&de===ye?0:1+Pe(C(se,de,ye).h,this._numGroups),Fe=this._stats[Me],Oe=this._minCols;Fe.num++,Fe.num>Oe||(Fe.num===Oe&&this._groupsFull++,Fe.num<=Oe&&this._stats[Me].cols.push(u))}injectIntoDictionary(u){for(let se=0;se<=this._numGroups;se++)this._stats[se].num<=this._minCols&&this._stats[se].cols.forEach(de=>{u[de]?u[de]++:u[de]=1})}injectIntoArray(u){for(let se=0;se<=this._numGroups;se++)this._stats[se].num<=this._minCols&&this._stats[se].cols.forEach(de=>{u.indexOf(de)===-1&&u.push(de)})}},at=class{constructor(u,se){t(this,"progress"),t(this,"_step"),t(this,"_range"),t(this,"_last"),t(this,"_progressRange"),this._range=u,this._progressRange=se,this._step=Math.max(1,this._range/(at.steps+1)|0),this._last=-this._step,this.progress=0}shouldNotify(u){return u-this._last>=this._step&&(this._last=u,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0)}},U=at;t(U,"steps",100);var Ee=class{constructor(u){t(this,"r"),t(this,"g"),t(this,"b"),t(this,"a"),this.r=this.g=this.b=this.a=u}toPoint(){return Be.createByRGBA(this.r>>3,this.g>>3,this.b>>3,this.a>>3)}subtract(u,se,de,ye){this.r-=0|u,this.g-=0|se,this.b-=0|de,this.a-=0|ye}},Z=class extends we{constructor(u,se=256){super(),t(this,"_pointArray"),t(this,"_networkSize"),t(this,"_network"),t(this,"_sampleFactor"),t(this,"_radPower"),t(this,"_freq"),t(this,"_bias"),t(this,"_distance"),this._distance=u,this._pointArray=[],this._sampleFactor=1,this._networkSize=se,this._distance.setWhitePoint(2040,2040,2040,2040)}sample(u){this._pointArray=this._pointArray.concat(u.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let u=0;u<this._networkSize;u++)this._network[u]=new Ee((u<<11)/this._networkSize|0),this._freq[u]=Z._initialBias/this._networkSize|0,this._bias[u]=0}*_learn(){let u=this._sampleFactor;const se=this._pointArray.length;se<Z._minpicturebytes&&(u=1);const de=30+(u-1)/3|0,ye=se/u|0;let Me,Fe=ye/Z._nCycles|0,Oe=Z._initAlpha,We=(this._networkSize>>3)*Z._radiusBias,ze=We>>Z._radiusBiasShift;ze<=1&&(ze=0);for(let qe=0;qe<ze;qe++)this._radPower[qe]=Oe*((ze*ze-qe*qe)*Z._radBias/(ze*ze))>>>0;Me=se<Z._minpicturebytes?1:se%Z._prime1!=0?Z._prime1:se%Z._prime2!=0?Z._prime2:se%Z._prime3!=0?Z._prime3:Z._prime4;const Je=new U(ye,99);for(let qe=0,Ye=0;qe<ye;){Je.shouldNotify(qe)&&(yield{progress:Je.progress});const ot=this._pointArray[Ye],gt=ot.b<<3,dt=ot.g<<3,ht=ot.r<<3,lt=ot.a<<3,Ot=this._contest(gt,dt,ht,lt);if(this._alterSingle(Oe,Ot,gt,dt,ht,lt),ze!==0&&this._alterNeighbour(ze,Ot,gt,dt,ht,lt),Ye+=Me,Ye>=se&&(Ye-=se),qe++,Fe===0&&(Fe=1),qe%Fe==0){Oe-=Oe/de|0,We-=We/Z._radiusDecrease|0,ze=We>>Z._radiusBiasShift,ze<=1&&(ze=0);for(let At=0;At<ze;At++)this._radPower[At]=Oe*((ze*ze-At*At)*Z._radBias/(ze*ze))>>>0}}}_buildPalette(){const u=new Te;return this._network.forEach(se=>{u.add(se.toPoint())}),u.sort(),u}_alterNeighbour(u,se,de,ye,Me,Fe){let Oe=se-u;Oe<-1&&(Oe=-1);let We=se+u;We>this._networkSize&&(We=this._networkSize);let ze=se+1,Je=se-1,qe=1;for(;ze<We||Je>Oe;){const Ye=this._radPower[qe++]/Z._alphaRadBias;if(ze<We){const ot=this._network[ze++];ot.subtract(Ye*(ot.r-Me),Ye*(ot.g-ye),Ye*(ot.b-de),Ye*(ot.a-Fe))}if(Je>Oe){const ot=this._network[Je--];ot.subtract(Ye*(ot.r-Me),Ye*(ot.g-ye),Ye*(ot.b-de),Ye*(ot.a-Fe))}}}_alterSingle(u,se,de,ye,Me,Fe){u/=Z._initAlpha;const Oe=this._network[se];Oe.subtract(u*(Oe.r-Me),u*(Oe.g-ye),u*(Oe.b-de),u*(Oe.a-Fe))}_contest(u,se,de,ye){let Me=2147483647,Fe=Me,Oe=-1,We=Oe;for(let ze=0;ze<this._networkSize;ze++){const Je=this._network[ze],qe=8160*this._distance.calculateNormalized(Je,{r:de,g:se,b:u,a:ye})|0;qe<Me&&(Me=qe,Oe=ze);const Ye=qe-(this._bias[ze]>>Z._initialBiasShift-3);Ye<Fe&&(Fe=Ye,We=ze);const ot=this._freq[ze]>>Z._betaShift;this._freq[ze]-=ot,this._bias[ze]+=ot<<Z._gammaShift}return this._freq[Oe]+=Z._beta,this._bias[Oe]-=Z._betaGamma,We}},ce=Z;t(ce,"_prime1",499),t(ce,"_prime2",491),t(ce,"_prime3",487),t(ce,"_prime4",503),t(ce,"_minpicturebytes",Z._prime4),t(ce,"_nCycles",100),t(ce,"_initialBiasShift",16),t(ce,"_initialBias",1<<Z._initialBiasShift),t(ce,"_gammaShift",10),t(ce,"_betaShift",10),t(ce,"_beta",Z._initialBias>>Z._betaShift),t(ce,"_betaGamma",Z._initialBias<<Z._gammaShift-Z._betaShift),t(ce,"_radiusBiasShift",6),t(ce,"_radiusBias",1<<Z._radiusBiasShift),t(ce,"_radiusDecrease",30),t(ce,"_alphaBiasShift",10),t(ce,"_initAlpha",1<<Z._alphaBiasShift),t(ce,"_radBiasShift",8),t(ce,"_radBias",1<<Z._radBiasShift),t(ce,"_alphaRadBiasShift",Z._alphaBiasShift+Z._radBiasShift),t(ce,"_alphaRadBias",1<<Z._alphaRadBiasShift);var Ve=class{constructor(u){t(this,"r"),t(this,"g"),t(this,"b"),t(this,"a"),this.r=this.g=this.b=this.a=u}toPoint(){return Be.createByRGBA(this.r>>3,this.g>>3,this.b>>3,this.a>>3)}subtract(u,se,de,ye){this.r-=u,this.g-=se,this.b-=de,this.a-=ye}},Le=class extends we{constructor(u,se=256){super(),t(this,"_pointArray"),t(this,"_networkSize"),t(this,"_network"),t(this,"_sampleFactor"),t(this,"_radPower"),t(this,"_freq"),t(this,"_bias"),t(this,"_distance"),this._distance=u,this._pointArray=[],this._sampleFactor=1,this._networkSize=se,this._distance.setWhitePoint(2040,2040,2040,2040)}sample(u){this._pointArray=this._pointArray.concat(u.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let u=0;u<this._networkSize;u++)this._network[u]=new Ve((u<<11)/this._networkSize),this._freq[u]=Le._initialBias/this._networkSize,this._bias[u]=0}*_learn(){let u=this._sampleFactor;const se=this._pointArray.length;se<Le._minpicturebytes&&(u=1);const de=30+(u-1)/3,ye=se/u;let Me,Fe=ye/Le._nCycles|0,Oe=Le._initAlpha,We=(this._networkSize>>3)*Le._radiusBias,ze=We>>Le._radiusBiasShift;ze<=1&&(ze=0);for(let qe=0;qe<ze;qe++)this._radPower[qe]=Oe*((ze*ze-qe*qe)*Le._radBias/(ze*ze));Me=se<Le._minpicturebytes?1:se%Le._prime1!=0?Le._prime1:se%Le._prime2!=0?Le._prime2:se%Le._prime3!=0?Le._prime3:Le._prime4;const Je=new U(ye,99);for(let qe=0,Ye=0;qe<ye;){Je.shouldNotify(qe)&&(yield{progress:Je.progress});const ot=this._pointArray[Ye],gt=ot.b<<3,dt=ot.g<<3,ht=ot.r<<3,lt=ot.a<<3,Ot=this._contest(gt,dt,ht,lt);if(this._alterSingle(Oe,Ot,gt,dt,ht,lt),ze!==0&&this._alterNeighbour(ze,Ot,gt,dt,ht,lt),Ye+=Me,Ye>=se&&(Ye-=se),qe++,Fe===0&&(Fe=1),qe%Fe==0){Oe-=Oe/de,We-=We/Le._radiusDecrease,ze=We>>Le._radiusBiasShift,ze<=1&&(ze=0);for(let At=0;At<ze;At++)this._radPower[At]=Oe*((ze*ze-At*At)*Le._radBias/(ze*ze))}}}_buildPalette(){const u=new Te;return this._network.forEach(se=>{u.add(se.toPoint())}),u.sort(),u}_alterNeighbour(u,se,de,ye,Me,Fe){let Oe=se-u;Oe<-1&&(Oe=-1);let We=se+u;We>this._networkSize&&(We=this._networkSize);let ze=se+1,Je=se-1,qe=1;for(;ze<We||Je>Oe;){const Ye=this._radPower[qe++]/Le._alphaRadBias;if(ze<We){const ot=this._network[ze++];ot.subtract(Ye*(ot.r-Me),Ye*(ot.g-ye),Ye*(ot.b-de),Ye*(ot.a-Fe))}if(Je>Oe){const ot=this._network[Je--];ot.subtract(Ye*(ot.r-Me),Ye*(ot.g-ye),Ye*(ot.b-de),Ye*(ot.a-Fe))}}}_alterSingle(u,se,de,ye,Me,Fe){u/=Le._initAlpha;const Oe=this._network[se];Oe.subtract(u*(Oe.r-Me),u*(Oe.g-ye),u*(Oe.b-de),u*(Oe.a-Fe))}_contest(u,se,de,ye){let Me=2147483647,Fe=Me,Oe=-1,We=Oe;for(let ze=0;ze<this._networkSize;ze++){const Je=this._network[ze],qe=8160*this._distance.calculateNormalized(Je,{r:de,g:se,b:u,a:ye});qe<Me&&(Me=qe,Oe=ze);const Ye=qe-(this._bias[ze]>>Le._initialBiasShift-3);Ye<Fe&&(Fe=Ye,We=ze);const ot=this._freq[ze]>>Le._betaShift;this._freq[ze]-=ot,this._bias[ze]+=ot<<Le._gammaShift}return this._freq[Oe]+=Le._beta,this._bias[Oe]-=Le._betaGamma,We}},$e=Le;t($e,"_prime1",499),t($e,"_prime2",491),t($e,"_prime3",487),t($e,"_prime4",503),t($e,"_minpicturebytes",Le._prime4),t($e,"_nCycles",100),t($e,"_initialBiasShift",16),t($e,"_initialBias",1<<Le._initialBiasShift),t($e,"_gammaShift",10),t($e,"_betaShift",10),t($e,"_beta",Le._initialBias>>Le._betaShift),t($e,"_betaGamma",Le._initialBias<<Le._gammaShift-Le._betaShift),t($e,"_radiusBiasShift",6),t($e,"_radiusBias",1<<Le._radiusBiasShift),t($e,"_radiusDecrease",30),t($e,"_alphaBiasShift",10),t($e,"_initAlpha",1<<Le._alphaBiasShift),t($e,"_radBiasShift",8),t($e,"_radBias",1<<Le._radBiasShift),t($e,"_alphaRadBiasShift",Le._alphaBiasShift+Le._radBiasShift),t($e,"_alphaRadBias",1<<Le._alphaRadBiasShift);var De=class{constructor(u,se){t(this,"_method"),t(this,"_hueStats"),t(this,"_histogram"),t(this,"_initColors"),t(this,"_minHueCols"),this._method=u,this._minHueCols=se<<2,this._initColors=se<<2,this._hueStats=new Qe(De._hueGroups,this._minHueCols),this._histogram=Object.create(null)}sample(u){switch(this._method){case 1:this._colorStats1D(u);break;case 2:this._colorStats2D(u)}}getImportanceSortedColorsIDXI32(){const u=R(Object.keys(this._histogram),(de,ye)=>this._histogram[ye]-this._histogram[de]);if(u.length===0)return[];let se;switch(this._method){case 1:const de=Math.min(u.length,this._initColors),ye=u[de-1],Me=this._histogram[ye];se=u.slice(0,de);let Fe=de;const Oe=u.length;for(;Fe<Oe&&this._histogram[u[Fe]]===Me;)se.push(u[Fe++]);this._hueStats.injectIntoArray(se);break;case 2:se=u;break;default:throw new Error("Incorrect method")}return se.map(de=>+de)}_colorStats1D(u){const se=this._histogram,de=u.getPointArray(),ye=de.length;for(let Me=0;Me<ye;Me++){const Fe=de[Me].uint32;this._hueStats.check(Fe),Fe in se?se[Fe]++:se[Fe]=1}}_colorStats2D(u){const se=u.getWidth(),de=u.getHeight(),ye=u.getPointArray(),Me=De._boxSize[0],Fe=De._boxSize[1],Oe=Me*Fe,We=this._makeBoxes(se,de,Me,Fe),ze=this._histogram;We.forEach(Je=>{let qe=Math.round(Je.w*Je.h/Oe)*De._boxPixels;qe<2&&(qe=2);const Ye={};this._iterateBox(Je,se,ot=>{const gt=ye[ot].uint32;this._hueStats.check(gt),gt in ze?ze[gt]++:gt in Ye?++Ye[gt]>=qe&&(ze[gt]=Ye[gt]):Ye[gt]=1})}),this._hueStats.injectIntoDictionary(ze)}_iterateBox(u,se,de){const ye=u,Me=ye.y*se+ye.x,Fe=(ye.y+ye.h-1)*se+(ye.x+ye.w-1),Oe=se-ye.w+1;let We=0,ze=Me;do de.call(this,ze),ze+=++We%ye.w==0?Oe:1;while(ze<=Fe)}_makeBoxes(u,se,de,ye){const Me=u%de,Fe=se%ye,Oe=u-Me,We=se-Fe,ze=[];for(let Je=0;Je<se;Je+=ye)for(let qe=0;qe<u;qe+=de)ze.push({x:qe,y:Je,w:qe===Oe?Me:de,h:Je===We?Fe:ye});return ze}},Xe=De;t(Xe,"_boxSize",[64,64]),t(Xe,"_boxPixels",2),t(Xe,"_hueGroups",10);var Ue=class{constructor(u,se,de){t(this,"index"),t(this,"color"),t(this,"distance"),this.index=u,this.color=se,this.distance=de}},Se=class extends we{constructor(u,se=256,de=2){super(),t(this,"_colors"),t(this,"_initialDistance"),t(this,"_distanceIncrement"),t(this,"_histogram"),t(this,"_distance"),this._distance=u,this._colors=se,this._histogram=new Xe(de,se),this._initialDistance=.01,this._distanceIncrement=.005}sample(u){this._histogram.sample(u)}*quantize(){const u=this._histogram.getImportanceSortedColorsIDXI32();if(u.length===0)throw new Error("No colors in image");yield*this._buildPalette(u)}*_buildPalette(u){const se=new Te,de=se.getPointContainer().getPointArray(),ye=new Array(u.length);for(let qe=0;qe<u.length;qe++)de.push(Be.createByUint32(u[qe])),ye[qe]=1;const Me=de.length,Fe=[];let Oe=Me,We=this._initialDistance;const ze=new U(Oe-this._colors,99);for(;Oe>this._colors;){Fe.length=0;for(let qe=0;qe<Me;qe++){if(ze.shouldNotify(Me-Oe)&&(yield{progress:ze.progress}),ye[qe]===0)continue;const Ye=de[qe];for(let ot=qe+1;ot<Me;ot++){if(ye[ot]===0)continue;const gt=de[ot],dt=this._distance.calculateNormalized(Ye,gt);dt<We&&(Fe.push(new Ue(ot,gt,dt)),ye[ot]=0,Oe--)}}We+=Oe>3*this._colors?this._initialDistance:this._distanceIncrement}if(Oe<this._colors){R(Fe,(Ye,ot)=>ot.distance-Ye.distance);let qe=0;for(;Oe<this._colors&&qe<Fe.length;)ye[Fe[qe].index]=1,Oe++,qe++}let Je=de.length;for(let qe=Je-1;qe>=0;qe--)ye[qe]===0&&(qe!==Je-1&&(de[qe]=de[Je-1]),--Je);de.length=Je,se.sort(),yield{palette:se,progress:100}}};function it(u){const se=[];for(let de=0;de<u;de++)se[de]=0;return se}function rt(u,se,de,ye){const Me=new Array(u);for(let Fe=0;Fe<u;Fe++){Me[Fe]=new Array(se);for(let Oe=0;Oe<se;Oe++){Me[Fe][Oe]=new Array(de);for(let We=0;We<de;We++){Me[Fe][Oe][We]=new Array(ye);for(let ze=0;ze<ye;ze++)Me[Fe][Oe][We][ze]=0}}}return Me}function Ke(u,se,de){const ye=new Array(u);for(let Me=0;Me<u;Me++){ye[Me]=new Array(se);for(let Fe=0;Fe<se;Fe++){ye[Me][Fe]=new Array(de);for(let Oe=0;Oe<de;Oe++)ye[Me][Fe][Oe]=0}}return ye}function ut(u,se,de,ye,Me){for(let Fe=0;Fe<se;Fe++){u[Fe]=[];for(let Oe=0;Oe<de;Oe++){u[Fe][Oe]=[];for(let We=0;We<ye;We++)u[Fe][Oe][We]=Me}}}function Mt(u,se,de){for(let ye=0;ye<se;ye++)u[ye]=de}var mt=class{constructor(){t(this,"redMinimum"),t(this,"redMaximum"),t(this,"greenMinimum"),t(this,"greenMaximum"),t(this,"blueMinimum"),t(this,"blueMaximum"),t(this,"volume"),t(this,"alphaMinimum"),t(this,"alphaMaximum")}},nt=class extends we{constructor(u,se=256,de=5){super(),t(this,"_reds"),t(this,"_greens"),t(this,"_blues"),t(this,"_alphas"),t(this,"_sums"),t(this,"_weights"),t(this,"_momentsRed"),t(this,"_momentsGreen"),t(this,"_momentsBlue"),t(this,"_momentsAlpha"),t(this,"_moments"),t(this,"_table"),t(this,"_pixels"),t(this,"_cubes"),t(this,"_colors"),t(this,"_significantBitsPerChannel"),t(this,"_maxSideIndex"),t(this,"_alphaMaxSideIndex"),t(this,"_sideSize"),t(this,"_alphaSideSize"),t(this,"_distance"),this._distance=u,this._setQuality(de),this._initialize(se)}sample(u){const se=u.getPointArray();for(let de=0,ye=se.length;de<ye;de++)this._addColor(se[de]);this._pixels=this._pixels.concat(se)}*quantize(){yield*this._preparePalette();const u=new Te;for(let se=0;se<this._colors;se++)if(this._sums[se]>0){const de=this._sums[se],ye=this._reds[se]/de,Me=this._greens[se]/de,Fe=this._blues[se]/de,Oe=this._alphas[se]/de,We=Be.createByRGBA(0|ye,0|Me,0|Fe,0|Oe);u.add(We)}u.sort(),yield{palette:u,progress:100}}*_preparePalette(){yield*this._calculateMoments();let u=0;const se=it(this._colors);for(let Oe=1;Oe<this._colors;++Oe){this._cut(this._cubes[u],this._cubes[Oe])?(se[u]=this._cubes[u].volume>1?this._calculateVariance(this._cubes[u]):0,se[Oe]=this._cubes[Oe].volume>1?this._calculateVariance(this._cubes[Oe]):0):(se[u]=0,Oe--),u=0;let We=se[0];for(let ze=1;ze<=Oe;++ze)se[ze]>We&&(We=se[ze],u=ze);if(We<=0){this._colors=Oe+1;break}}const de=[],ye=[],Me=[],Fe=[];for(let Oe=0;Oe<this._colors;++Oe){const We=nt._volume(this._cubes[Oe],this._weights);We>0?(de[Oe]=nt._volume(this._cubes[Oe],this._momentsRed)/We|0,ye[Oe]=nt._volume(this._cubes[Oe],this._momentsGreen)/We|0,Me[Oe]=nt._volume(this._cubes[Oe],this._momentsBlue)/We|0,Fe[Oe]=nt._volume(this._cubes[Oe],this._momentsAlpha)/We|0):(de[Oe]=0,ye[Oe]=0,Me[Oe]=0,Fe[Oe]=0)}this._reds=it(this._colors+1),this._greens=it(this._colors+1),this._blues=it(this._colors+1),this._alphas=it(this._colors+1),this._sums=it(this._colors+1);for(let Oe=0,We=this._pixels.length;Oe<We;Oe++){const ze=this._pixels[Oe];let Je=-1,qe=Number.MAX_VALUE;for(let Ye=0;Ye<this._colors;Ye++){const ot=de[Ye],gt=ye[Ye],dt=Me[Ye],ht=Fe[Ye],lt=this._distance.calculateRaw(ot,gt,dt,ht,ze.r,ze.g,ze.b,ze.a);lt<qe&&(qe=lt,Je=Ye)}this._reds[Je]+=ze.r,this._greens[Je]+=ze.g,this._blues[Je]+=ze.b,this._alphas[Je]+=ze.a,this._sums[Je]++}}_addColor(u){const se=8-this._significantBitsPerChannel,de=1+(u.r>>se),ye=1+(u.g>>se),Me=1+(u.b>>se),Fe=1+(u.a>>se);this._weights[Fe][de][ye][Me]++,this._momentsRed[Fe][de][ye][Me]+=u.r,this._momentsGreen[Fe][de][ye][Me]+=u.g,this._momentsBlue[Fe][de][ye][Me]+=u.b,this._momentsAlpha[Fe][de][ye][Me]+=u.a,this._moments[Fe][de][ye][Me]+=this._table[u.r]+this._table[u.g]+this._table[u.b]+this._table[u.a]}*_calculateMoments(){const u=[],se=[],de=[],ye=[],Me=[],Fe=[],Oe=Ke(this._sideSize,this._sideSize,this._sideSize),We=Ke(this._sideSize,this._sideSize,this._sideSize),ze=Ke(this._sideSize,this._sideSize,this._sideSize),Je=Ke(this._sideSize,this._sideSize,this._sideSize),qe=Ke(this._sideSize,this._sideSize,this._sideSize),Ye=Ke(this._sideSize,this._sideSize,this._sideSize);let ot=0;const gt=new U(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let dt=1;dt<=this._alphaMaxSideIndex;++dt){ut(Oe,this._sideSize,this._sideSize,this._sideSize,0),ut(We,this._sideSize,this._sideSize,this._sideSize,0),ut(ze,this._sideSize,this._sideSize,this._sideSize,0),ut(Je,this._sideSize,this._sideSize,this._sideSize,0),ut(qe,this._sideSize,this._sideSize,this._sideSize,0),ut(Ye,this._sideSize,this._sideSize,this._sideSize,0);for(let ht=1;ht<=this._maxSideIndex;++ht,++ot){gt.shouldNotify(ot)&&(yield{progress:gt.progress}),Mt(u,this._sideSize,0),Mt(se,this._sideSize,0),Mt(de,this._sideSize,0),Mt(ye,this._sideSize,0),Mt(Me,this._sideSize,0),Mt(Fe,this._sideSize,0);for(let lt=1;lt<=this._maxSideIndex;++lt){let Ot=0,At=0,Ut=0,Ct=0,Ht=0,jt=0;for(let ct=1;ct<=this._maxSideIndex;++ct)Ot+=this._weights[dt][ht][lt][ct],At+=this._momentsRed[dt][ht][lt][ct],Ut+=this._momentsGreen[dt][ht][lt][ct],Ct+=this._momentsBlue[dt][ht][lt][ct],Ht+=this._momentsAlpha[dt][ht][lt][ct],jt+=this._moments[dt][ht][lt][ct],u[ct]+=Ot,se[ct]+=At,de[ct]+=Ut,ye[ct]+=Ct,Me[ct]+=Ht,Fe[ct]+=jt,Oe[ht][lt][ct]=Oe[ht-1][lt][ct]+u[ct],We[ht][lt][ct]=We[ht-1][lt][ct]+se[ct],ze[ht][lt][ct]=ze[ht-1][lt][ct]+de[ct],Je[ht][lt][ct]=Je[ht-1][lt][ct]+ye[ct],qe[ht][lt][ct]=qe[ht-1][lt][ct]+Me[ct],Ye[ht][lt][ct]=Ye[ht-1][lt][ct]+Fe[ct],this._weights[dt][ht][lt][ct]=this._weights[dt-1][ht][lt][ct]+Oe[ht][lt][ct],this._momentsRed[dt][ht][lt][ct]=this._momentsRed[dt-1][ht][lt][ct]+We[ht][lt][ct],this._momentsGreen[dt][ht][lt][ct]=this._momentsGreen[dt-1][ht][lt][ct]+ze[ht][lt][ct],this._momentsBlue[dt][ht][lt][ct]=this._momentsBlue[dt-1][ht][lt][ct]+Je[ht][lt][ct],this._momentsAlpha[dt][ht][lt][ct]=this._momentsAlpha[dt-1][ht][lt][ct]+qe[ht][lt][ct],this._moments[dt][ht][lt][ct]=this._moments[dt-1][ht][lt][ct]+Ye[ht][lt][ct]}}}}static _volumeFloat(u,se){return se[u.alphaMaximum][u.redMaximum][u.greenMaximum][u.blueMaximum]-se[u.alphaMaximum][u.redMaximum][u.greenMinimum][u.blueMaximum]-se[u.alphaMaximum][u.redMinimum][u.greenMaximum][u.blueMaximum]+se[u.alphaMaximum][u.redMinimum][u.greenMinimum][u.blueMaximum]-se[u.alphaMinimum][u.redMaximum][u.greenMaximum][u.blueMaximum]+se[u.alphaMinimum][u.redMaximum][u.greenMinimum][u.blueMaximum]+se[u.alphaMinimum][u.redMinimum][u.greenMaximum][u.blueMaximum]-se[u.alphaMinimum][u.redMinimum][u.greenMinimum][u.blueMaximum]-(se[u.alphaMaximum][u.redMaximum][u.greenMaximum][u.blueMinimum]-se[u.alphaMinimum][u.redMaximum][u.greenMaximum][u.blueMinimum]-se[u.alphaMaximum][u.redMaximum][u.greenMinimum][u.blueMinimum]+se[u.alphaMinimum][u.redMaximum][u.greenMinimum][u.blueMinimum]-se[u.alphaMaximum][u.redMinimum][u.greenMaximum][u.blueMinimum]+se[u.alphaMinimum][u.redMinimum][u.greenMaximum][u.blueMinimum]+se[u.alphaMaximum][u.redMinimum][u.greenMinimum][u.blueMinimum]-se[u.alphaMinimum][u.redMinimum][u.greenMinimum][u.blueMinimum])}static _volume(u,se){return 0|nt._volumeFloat(u,se)}static _top(u,se,de,ye){let Me;switch(se){case nt._alpha:Me=ye[de][u.redMaximum][u.greenMaximum][u.blueMaximum]-ye[de][u.redMaximum][u.greenMinimum][u.blueMaximum]-ye[de][u.redMinimum][u.greenMaximum][u.blueMaximum]+ye[de][u.redMinimum][u.greenMinimum][u.blueMaximum]-(ye[de][u.redMaximum][u.greenMaximum][u.blueMinimum]-ye[de][u.redMaximum][u.greenMinimum][u.blueMinimum]-ye[de][u.redMinimum][u.greenMaximum][u.blueMinimum]+ye[de][u.redMinimum][u.greenMinimum][u.blueMinimum]);break;case nt._red:Me=ye[u.alphaMaximum][de][u.greenMaximum][u.blueMaximum]-ye[u.alphaMaximum][de][u.greenMinimum][u.blueMaximum]-ye[u.alphaMinimum][de][u.greenMaximum][u.blueMaximum]+ye[u.alphaMinimum][de][u.greenMinimum][u.blueMaximum]-(ye[u.alphaMaximum][de][u.greenMaximum][u.blueMinimum]-ye[u.alphaMaximum][de][u.greenMinimum][u.blueMinimum]-ye[u.alphaMinimum][de][u.greenMaximum][u.blueMinimum]+ye[u.alphaMinimum][de][u.greenMinimum][u.blueMinimum]);break;case nt._green:Me=ye[u.alphaMaximum][u.redMaximum][de][u.blueMaximum]-ye[u.alphaMaximum][u.redMinimum][de][u.blueMaximum]-ye[u.alphaMinimum][u.redMaximum][de][u.blueMaximum]+ye[u.alphaMinimum][u.redMinimum][de][u.blueMaximum]-(ye[u.alphaMaximum][u.redMaximum][de][u.blueMinimum]-ye[u.alphaMaximum][u.redMinimum][de][u.blueMinimum]-ye[u.alphaMinimum][u.redMaximum][de][u.blueMinimum]+ye[u.alphaMinimum][u.redMinimum][de][u.blueMinimum]);break;case nt._blue:Me=ye[u.alphaMaximum][u.redMaximum][u.greenMaximum][de]-ye[u.alphaMaximum][u.redMaximum][u.greenMinimum][de]-ye[u.alphaMaximum][u.redMinimum][u.greenMaximum][de]+ye[u.alphaMaximum][u.redMinimum][u.greenMinimum][de]-(ye[u.alphaMinimum][u.redMaximum][u.greenMaximum][de]-ye[u.alphaMinimum][u.redMaximum][u.greenMinimum][de]-ye[u.alphaMinimum][u.redMinimum][u.greenMaximum][de]+ye[u.alphaMinimum][u.redMinimum][u.greenMinimum][de]);break;default:throw new Error("impossible")}return 0|Me}static _bottom(u,se,de){switch(se){case nt._alpha:return-de[u.alphaMinimum][u.redMaximum][u.greenMaximum][u.blueMaximum]+de[u.alphaMinimum][u.redMaximum][u.greenMinimum][u.blueMaximum]+de[u.alphaMinimum][u.redMinimum][u.greenMaximum][u.blueMaximum]-de[u.alphaMinimum][u.redMinimum][u.greenMinimum][u.blueMaximum]-(-de[u.alphaMinimum][u.redMaximum][u.greenMaximum][u.blueMinimum]+de[u.alphaMinimum][u.redMaximum][u.greenMinimum][u.blueMinimum]+de[u.alphaMinimum][u.redMinimum][u.greenMaximum][u.blueMinimum]-de[u.alphaMinimum][u.redMinimum][u.greenMinimum][u.blueMinimum]);case nt._red:return-de[u.alphaMaximum][u.redMinimum][u.greenMaximum][u.blueMaximum]+de[u.alphaMaximum][u.redMinimum][u.greenMinimum][u.blueMaximum]+de[u.alphaMinimum][u.redMinimum][u.greenMaximum][u.blueMaximum]-de[u.alphaMinimum][u.redMinimum][u.greenMinimum][u.blueMaximum]-(-de[u.alphaMaximum][u.redMinimum][u.greenMaximum][u.blueMinimum]+de[u.alphaMaximum][u.redMinimum][u.greenMinimum][u.blueMinimum]+de[u.alphaMinimum][u.redMinimum][u.greenMaximum][u.blueMinimum]-de[u.alphaMinimum][u.redMinimum][u.greenMinimum][u.blueMinimum]);case nt._green:return-de[u.alphaMaximum][u.redMaximum][u.greenMinimum][u.blueMaximum]+de[u.alphaMaximum][u.redMinimum][u.greenMinimum][u.blueMaximum]+de[u.alphaMinimum][u.redMaximum][u.greenMinimum][u.blueMaximum]-de[u.alphaMinimum][u.redMinimum][u.greenMinimum][u.blueMaximum]-(-de[u.alphaMaximum][u.redMaximum][u.greenMinimum][u.blueMinimum]+de[u.alphaMaximum][u.redMinimum][u.greenMinimum][u.blueMinimum]+de[u.alphaMinimum][u.redMaximum][u.greenMinimum][u.blueMinimum]-de[u.alphaMinimum][u.redMinimum][u.greenMinimum][u.blueMinimum]);case nt._blue:return-de[u.alphaMaximum][u.redMaximum][u.greenMaximum][u.blueMinimum]+de[u.alphaMaximum][u.redMaximum][u.greenMinimum][u.blueMinimum]+de[u.alphaMaximum][u.redMinimum][u.greenMaximum][u.blueMinimum]-de[u.alphaMaximum][u.redMinimum][u.greenMinimum][u.blueMinimum]-(-de[u.alphaMinimum][u.redMaximum][u.greenMaximum][u.blueMinimum]+de[u.alphaMinimum][u.redMaximum][u.greenMinimum][u.blueMinimum]+de[u.alphaMinimum][u.redMinimum][u.greenMaximum][u.blueMinimum]-de[u.alphaMinimum][u.redMinimum][u.greenMinimum][u.blueMinimum]);default:return 0}}_calculateVariance(u){const se=nt._volume(u,this._momentsRed),de=nt._volume(u,this._momentsGreen),ye=nt._volume(u,this._momentsBlue),Me=nt._volume(u,this._momentsAlpha);return nt._volumeFloat(u,this._moments)-(se*se+de*de+ye*ye+Me*Me)/nt._volume(u,this._weights)}_maximize(u,se,de,ye,Me,Fe,Oe,We,ze){const Je=0|nt._bottom(u,se,this._momentsRed),qe=0|nt._bottom(u,se,this._momentsGreen),Ye=0|nt._bottom(u,se,this._momentsBlue),ot=0|nt._bottom(u,se,this._momentsAlpha),gt=0|nt._bottom(u,se,this._weights);let dt=0,ht=-1;for(let lt=de;lt<ye;++lt){let Ot=Je+nt._top(u,se,lt,this._momentsRed),At=qe+nt._top(u,se,lt,this._momentsGreen),Ut=Ye+nt._top(u,se,lt,this._momentsBlue),Ct=ot+nt._top(u,se,lt,this._momentsAlpha),Ht=gt+nt._top(u,se,lt,this._weights);if(Ht!==0){let jt=Ot*Ot+At*At+Ut*Ut+Ct*Ct,ct=jt/Ht;Ot=Me-Ot,At=Fe-At,Ut=Oe-Ut,Ct=We-Ct,Ht=ze-Ht,Ht!==0&&(jt=Ot*Ot+At*At+Ut*Ut+Ct*Ct,ct+=jt/Ht,ct>dt&&(dt=ct,ht=lt))}}return{max:dt,position:ht}}_cut(u,se){let de;const ye=nt._volume(u,this._momentsRed),Me=nt._volume(u,this._momentsGreen),Fe=nt._volume(u,this._momentsBlue),Oe=nt._volume(u,this._momentsAlpha),We=nt._volume(u,this._weights),ze=this._maximize(u,nt._red,u.redMinimum+1,u.redMaximum,ye,Me,Fe,Oe,We),Je=this._maximize(u,nt._green,u.greenMinimum+1,u.greenMaximum,ye,Me,Fe,Oe,We),qe=this._maximize(u,nt._blue,u.blueMinimum+1,u.blueMaximum,ye,Me,Fe,Oe,We),Ye=this._maximize(u,nt._alpha,u.alphaMinimum+1,u.alphaMaximum,ye,Me,Fe,Oe,We);if(Ye.max>=ze.max&&Ye.max>=Je.max&&Ye.max>=qe.max){if(de=nt._alpha,Ye.position<0)return!1}else de=ze.max>=Ye.max&&ze.max>=Je.max&&ze.max>=qe.max?nt._red:Je.max>=Ye.max&&Je.max>=ze.max&&Je.max>=qe.max?nt._green:nt._blue;switch(se.redMaximum=u.redMaximum,se.greenMaximum=u.greenMaximum,se.blueMaximum=u.blueMaximum,se.alphaMaximum=u.alphaMaximum,de){case nt._red:se.redMinimum=u.redMaximum=ze.position,se.greenMinimum=u.greenMinimum,se.blueMinimum=u.blueMinimum,se.alphaMinimum=u.alphaMinimum;break;case nt._green:se.greenMinimum=u.greenMaximum=Je.position,se.redMinimum=u.redMinimum,se.blueMinimum=u.blueMinimum,se.alphaMinimum=u.alphaMinimum;break;case nt._blue:se.blueMinimum=u.blueMaximum=qe.position,se.redMinimum=u.redMinimum,se.greenMinimum=u.greenMinimum,se.alphaMinimum=u.alphaMinimum;break;case nt._alpha:se.alphaMinimum=u.alphaMaximum=Ye.position,se.blueMinimum=u.blueMinimum,se.redMinimum=u.redMinimum,se.greenMinimum=u.greenMinimum}return u.volume=(u.redMaximum-u.redMinimum)*(u.greenMaximum-u.greenMinimum)*(u.blueMaximum-u.blueMinimum)*(u.alphaMaximum-u.alphaMinimum),se.volume=(se.redMaximum-se.redMinimum)*(se.greenMaximum-se.greenMinimum)*(se.blueMaximum-se.blueMinimum)*(se.alphaMaximum-se.alphaMinimum),!0}_initialize(u){this._colors=u,this._cubes=[];for(let se=0;se<u;se++)this._cubes[se]=new mt;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=rt(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=rt(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=rt(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=rt(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=rt(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=rt(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(let se=0;se<256;++se)this._table[se]=se*se;this._pixels=[]}_setQuality(u=5){this._significantBitsPerChannel=u,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1}},vt=nt;t(vt,"_alpha",3),t(vt,"_red",2),t(vt,"_green",1),t(vt,"_blue",0);var Rt={};a(Rt,{AbstractImageQuantizer:()=>It,ErrorDiffusionArray:()=>St,ErrorDiffusionArrayKernel:()=>Bt,ErrorDiffusionRiemersma:()=>Pt,NearestColor:()=>Dt});var It=class{quantizeSync(u,se){for(const de of this.quantize(u,se))if(de.pointContainer)return de.pointContainer;throw new Error("unreachable")}},Dt=class extends It{constructor(u){super(),t(this,"_distance"),this._distance=u}*quantize(u,se){const de=u.getPointArray(),ye=u.getWidth(),Me=u.getHeight(),Fe=new U(Me,99);for(let Oe=0;Oe<Me;Oe++){Fe.shouldNotify(Oe)&&(yield{progress:Fe.progress});for(let We=0,ze=Oe*ye;We<ye;We++,ze++){const Je=de[ze];Je.from(se.getNearestColor(this._distance,Je))}}yield{pointContainer:u,progress:100}}},Bt=(u=>(u[u.FloydSteinberg=0]="FloydSteinberg",u[u.FalseFloydSteinberg=1]="FalseFloydSteinberg",u[u.Stucki=2]="Stucki",u[u.Atkinson=3]="Atkinson",u[u.Jarvis=4]="Jarvis",u[u.Burkes=5]="Burkes",u[u.Sierra=6]="Sierra",u[u.TwoSierra=7]="TwoSierra",u[u.SierraLite=8]="SierraLite",u))(Bt||{}),St=class extends It{constructor(u,se,de=!0,ye=0,Me=!1){super(),t(this,"_minColorDistance"),t(this,"_serpentine"),t(this,"_kernel"),t(this,"_calculateErrorLikeGIMP"),t(this,"_distance"),this._setKernel(se),this._distance=u,this._minColorDistance=ye,this._serpentine=de,this._calculateErrorLikeGIMP=Me}*quantize(u,se){const de=u.getPointArray(),ye=new Be,Me=u.getWidth(),Fe=u.getHeight(),Oe=[];let We=1,ze=1;for(const qe of this._kernel){const Ye=qe[2]+1;ze<Ye&&(ze=Ye)}for(let qe=0;qe<ze;qe++)this._fillErrorLine(Oe[qe]=[],Me);const Je=new U(Fe,99);for(let qe=0;qe<Fe;qe++){Je.shouldNotify(qe)&&(yield{progress:Je.progress}),this._serpentine&&(We*=-1);const Ye=qe*Me,ot=We===1?0:Me-1,gt=We===1?Me:-1;this._fillErrorLine(Oe[0],Me),Oe.push(Oe.shift());const dt=Oe[0];for(let ht=ot,lt=Ye+ot;ht!==gt;ht+=We,lt+=We){const Ot=de[lt],At=dt[ht];ye.from(Ot);const Ut=Be.createByRGBA(O(Ot.r+At[0]),O(Ot.g+At[1]),O(Ot.b+At[2]),O(Ot.a+At[3])),Ct=se.getNearestColor(this._distance,Ut);if(Ot.from(Ct),this._minColorDistance&&this._distance.calculateNormalized(ye,Ct)<this._minColorDistance)continue;let Ht,jt,ct,Xt;this._calculateErrorLikeGIMP?(Ht=Ut.r-Ct.r,jt=Ut.g-Ct.g,ct=Ut.b-Ct.b,Xt=Ut.a-Ct.a):(Ht=ye.r-Ct.r,jt=ye.g-Ct.g,ct=ye.b-Ct.b,Xt=ye.a-Ct.a);const li=We===1?0:this._kernel.length-1,pi=We===1?this._kernel.length:-1;for(let si=li;si!==pi;si+=We){const fi=this._kernel[si][1]*We,Wt=this._kernel[si][2];if(fi+ht>=0&&fi+ht<Me&&Wt+qe>=0&&Wt+qe<Fe){const hi=this._kernel[si][0],ei=Oe[Wt][fi+ht];ei[0]+=Ht*hi,ei[1]+=jt*hi,ei[2]+=ct*hi,ei[3]+=Xt*hi}}}}yield{pointContainer:u,progress:100}}_fillErrorLine(u,se){u.length>se&&(u.length=se);const de=u.length;for(let ye=0;ye<de;ye++){const Me=u[ye];Me[0]=Me[1]=Me[2]=Me[3]=0}for(let ye=de;ye<se;ye++)u[ye]=[0,0,0,0]}_setKernel(u){switch(u){case 0:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case 1:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case 2:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case 3:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case 4:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case 5:this._kernel=[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]];break;case 6:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case 7:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case 8:this._kernel=[[.5,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error(`ErrorDiffusionArray: unknown kernel = ${u}`)}}};function*zt(u,se,de){const ye=Math.max(u,se),Me={width:u,height:se,level:Math.floor(Math.log(ye)/Math.log(2)+1),callback:de,tracker:new U(u*se,99),index:0,x:0,y:0};yield*Et(Me,1),kt(Me,0)}function*Et(u,se){if(!(u.level<1)){switch(u.tracker.shouldNotify(u.index)&&(yield{progress:u.tracker.progress}),u.level--,se){case 2:yield*Et(u,1),kt(u,3),yield*Et(u,2),kt(u,4),yield*Et(u,2),kt(u,2),yield*Et(u,4);break;case 3:yield*Et(u,4),kt(u,2),yield*Et(u,3),kt(u,1),yield*Et(u,3),kt(u,3),yield*Et(u,1);break;case 1:yield*Et(u,2),kt(u,4),yield*Et(u,1),kt(u,3),yield*Et(u,1),kt(u,1),yield*Et(u,3);break;case 4:yield*Et(u,3),kt(u,1),yield*Et(u,4),kt(u,2),yield*Et(u,4),kt(u,4),yield*Et(u,2)}u.level++}}function kt(u,se){switch(u.x>=0&&u.x<u.width&&u.y>=0&&u.y<u.height&&(u.callback(u.x,u.y),u.index++),se){case 2:u.x--;break;case 3:u.x++;break;case 1:u.y--;break;case 4:u.y++}}var Pt=class extends It{constructor(u,se=16,de=1){super(),t(this,"_distance"),t(this,"_weights"),t(this,"_errorQueueSize"),this._distance=u,this._errorQueueSize=se,this._weights=Pt._createWeights(de,se)}*quantize(u,se){const de=u.getPointArray(),ye=u.getWidth(),Me=u.getHeight(),Fe=[];let Oe=0;for(let We=0;We<this._errorQueueSize;We++)Fe[We]={r:0,g:0,b:0,a:0};yield*zt(ye,Me,(We,ze)=>{const Je=de[We+ze*ye];let{r:qe,g:Ye,b:ot,a:gt}=Je;for(let Ot=0;Ot<this._errorQueueSize;Ot++){const At=this._weights[Ot],Ut=Fe[(Ot+Oe)%this._errorQueueSize];qe+=Ut.r*At,Ye+=Ut.g*At,ot+=Ut.b*At,gt+=Ut.a*At}const dt=Be.createByRGBA(O(qe),O(Ye),O(ot),O(gt)),ht=se.getNearestColor(this._distance,dt);Oe=(Oe+1)%this._errorQueueSize;const lt=(Oe+this._errorQueueSize-1)%this._errorQueueSize;Fe[lt].r=Je.r-ht.r,Fe[lt].g=Je.g-ht.g,Fe[lt].b=Je.b-ht.b,Fe[lt].a=Je.a-ht.a,Je.from(ht)}),yield{pointContainer:u,progress:100}}static _createWeights(u,se){const de=[],ye=Math.exp(Math.log(se)/(se-1));for(let Me=0,Fe=1;Me<se;Me++)de[Me]=(Fe+.5|0)/se*u,Fe*=ye;return de}},Zt={};a(Zt,{ssim:()=>Ft});var ii=.01,Gt=.03;function Ft(u,se){if(u.getHeight()!==se.getHeight()||u.getWidth()!==se.getWidth())throw new Error("Images have different sizes!");const de=(255*ii)**2,ye=(255*Gt)**2;let Me=0,Fe=0;return function(Oe,We,ze){const Je=Oe.getWidth(),qe=Oe.getHeight();for(let Ye=0;Ye<qe;Ye+=8)for(let ot=0;ot<Je;ot+=8){const gt=Math.min(8,Je-ot),dt=Math.min(8,qe-Ye),ht=Vt(Oe,ot,Ye,gt,dt),lt=Vt(We,ot,Ye,gt,dt);ze(ht,lt,Qt(ht),Qt(lt))}}(u,se,(Oe,We,ze,Je)=>{let qe=0,Ye=0,ot=0;for(let dt=0;dt<Oe.length;dt++)Ye+=(Oe[dt]-ze)**2,ot+=(We[dt]-Je)**2,qe+=(Oe[dt]-ze)*(We[dt]-Je);const gt=Oe.length-1;Ye/=gt,ot/=gt,qe/=gt,Fe+=(2*ze*Je+de)*(2*qe+ye)/((ze**2+Je**2+de)*(Ye+ot+ye)),Me++}),Fe/Me}function Vt(u,se,de,ye,Me){const Fe=u.getPointArray(),Oe=[];let We=0;for(let ze=de;ze<de+Me;ze++){const Je=ze*u.getWidth();for(let qe=se;qe<se+ye;qe++){const Ye=Fe[Je+qe];Oe[We]=.2126*Ye.r+.7152*Ye.g+.0722*Ye.b,We++}}return Oe}function Qt(u){let se=0;for(const de of u)se+=de;return se/u.length}var qt=typeof setImmediate=="function"?setImmediate:f!==void 0&&typeof(f==null?void 0:f.nextTick)=="function"?u=>f.nextTick(u):u=>setTimeout(u,0);function ri(u,{colorDistanceFormula:se,paletteQuantization:de,colors:ye}={}){const Me=ci(wt(se),de,ye);return u.forEach(Fe=>Me.sample(Fe)),Me.quantizeSync()}async function ni(u,{colorDistanceFormula:se,paletteQuantization:de,colors:ye,onProgress:Me}={}){return new Promise((Fe,Oe)=>{const We=ci(wt(se),de,ye);let ze;u.forEach(Ye=>We.sample(Ye));const Je=We.quantize(),qe=()=>{try{const Ye=Je.next();Ye.done?Fe(ze):(Ye.value.palette&&(ze=Ye.value.palette),Me&&Me(Ye.value.progress),qt(qe))}catch(Ye){Oe(Ye)}};qt(qe)})}function ai(u,se,{colorDistanceFormula:de,imageQuantization:ye}={}){return $t(wt(de),ye).quantizeSync(u,se)}async function oi(u,se,{colorDistanceFormula:de,imageQuantization:ye,onProgress:Me}={}){return new Promise((Fe,Oe)=>{let We;const ze=$t(wt(de),ye).quantize(u,se),Je=()=>{try{const qe=ze.next();qe.done?Fe(We):(qe.value.pointContainer&&(We=qe.value.pointContainer),Me&&Me(qe.value.progress),qt(Je))}catch(qe){Oe(qe)}};qt(Je)})}function wt(u="euclidean-bt709"){switch(u){case"cie94-graphic-arts":return new r;case"cie94-textiles":return new i;case"ciede2000":return new L;case"color-metric":return new Q;case"euclidean":return new J;case"euclidean-bt709":return new oe;case"euclidean-bt709-noalpha":return new H;case"manhattan":return new ve;case"manhattan-bt709":return new ke;case"manhattan-nommyde":return new Ie;case"pngquant":return new ae;default:throw new Error(`Unknown colorDistanceFormula ${u}`)}}function $t(u,se="floyd-steinberg"){switch(se){case"nearest":return new Dt(u);case"riemersma":return new Pt(u);case"floyd-steinberg":return new St(u,0);case"false-floyd-steinberg":return new St(u,1);case"stucki":return new St(u,2);case"atkinson":return new St(u,3);case"jarvis":return new St(u,4);case"burkes":return new St(u,5);case"sierra":return new St(u,6);case"two-sierra":return new St(u,7);case"sierra-lite":return new St(u,8);default:throw new Error(`Unknown imageQuantization ${se}`)}}function ci(u,se="wuquant",de=256){switch(se){case"neuquant":return new ce(u,de);case"rgbquant":return new Se(u,de);case"wuquant":return new vt(u,de);case"neuquant-float":return new $e(u,de);default:throw new Error(`Unknown paletteQuantization ${se}`)}}xe.exports=n(s)}},__webpack_module_cache__={};function __webpack_require__(xe){var re=__webpack_module_cache__[xe];if(re!==void 0)return re.exports;var q=__webpack_module_cache__[xe]={exports:{}};return __webpack_modules__[xe](q,q.exports,__webpack_require__),q.exports}__webpack_require__.n=xe=>{var re=xe&&xe.__esModule?()=>xe.default:()=>xe;return __webpack_require__.d(re,{a:re}),re},__webpack_require__.d=(xe,re)=>{for(var q in re)__webpack_require__.o(re,q)&&!__webpack_require__.o(xe,q)&&Object.defineProperty(xe,q,{enumerable:!0,get:re[q]})},__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),__webpack_require__.o=(xe,re)=>Object.prototype.hasOwnProperty.call(xe,re),__webpack_require__.r=xe=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(xe,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(xe,"__esModule",{value:!0})},(()=>{var xe={};__webpack_require__.r(xe),__webpack_require__.d(xe,{AUTO:()=>ge,BLEND_ADD:()=>Te,BLEND_DARKEN:()=>Qe,BLEND_DESTINATION_OVER:()=>be,BLEND_DIFFERENCE:()=>Ee,BLEND_EXCLUSION:()=>Z,BLEND_HARDLIGHT:()=>U,BLEND_LIGHTEN:()=>at,BLEND_MULTIPLY:()=>Pe,BLEND_OVERLAY:()=>He,BLEND_SCREEN:()=>Ne,BLEND_SOURCE_OVER:()=>Be,EDGE_CROP:()=>Le,EDGE_EXTEND:()=>ce,EDGE_WRAP:()=>Ve,HORIZONTAL_ALIGN_CENTER:()=>Ie,HORIZONTAL_ALIGN_LEFT:()=>ve,HORIZONTAL_ALIGN_RIGHT:()=>ke,VERTICAL_ALIGN_BOTTOM:()=>we,VERTICAL_ALIGN_MIDDLE:()=>ue,VERTICAL_ALIGN_TOP:()=>ae});var re={};__webpack_require__.r(re),__webpack_require__.d(re,{add:()=>Ue,darken:()=>rt,difference:()=>Mt,dstOver:()=>De,exclusion:()=>mt,hardLight:()=>ut,lighten:()=>Ke,multiply:()=>Xe,overlay:()=>it,screen:()=>Se,srcOver:()=>$e});var q=__webpack_require__(5546),f=__webpack_require__.n(q),S=__webpack_require__(1023),l=__webpack_require__.n(S),o=__webpack_require__(2699),e=__webpack_require__.n(o);function a(c){if(c===void 0)return!1;if(typeof c!="function")throw new TypeError("Callback must be a function");return!0}function n(c,w){if(typeof c=="string"&&(c=new Error(c)),typeof w=="function")return w.call(this,c);throw c}function t(c,w,z,j,ee,he){w=Math.round(w),z=Math.round(z),j=Math.round(j),ee=Math.round(ee);for(let me=z;me<z+ee;me++)for(let pe=w;pe<w+j;pe++){const _e=c.bitmap.width*me+pe<<2;he.call(c,pe,me,_e)}return c}var s=__webpack_require__(236),d=__webpack_require__.n(s),y=__webpack_require__(1294),E=__webpack_require__.n(y);function M(c){return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},M(c)}var b=/^\s+/,k=/\s+$/;function I(c,w){if(w=w||{},(c=c||"")instanceof I)return c;if(!(this instanceof I))return new I(c,w);var z=function(j){var ee,he,me,pe={r:0,g:0,b:0},_e=1,Ae=null,Re=null,Ce=null,et=!1,Ze=!1;return typeof j=="string"&&(j=function(je){je=je.replace(b,"").replace(k,"").toLowerCase();var Ge,tt=!1;if(B[je])je=B[je],tt=!0;else if(je=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(Ge=h.rgb.exec(je))?{r:Ge[1],g:Ge[2],b:Ge[3]}:(Ge=h.rgba.exec(je))?{r:Ge[1],g:Ge[2],b:Ge[3],a:Ge[4]}:(Ge=h.hsl.exec(je))?{h:Ge[1],s:Ge[2],l:Ge[3]}:(Ge=h.hsla.exec(je))?{h:Ge[1],s:Ge[2],l:Ge[3],a:Ge[4]}:(Ge=h.hsv.exec(je))?{h:Ge[1],s:Ge[2],v:Ge[3]}:(Ge=h.hsva.exec(je))?{h:Ge[1],s:Ge[2],v:Ge[3],a:Ge[4]}:(Ge=h.hex8.exec(je))?{r:le(Ge[1]),g:le(Ge[2]),b:le(Ge[3]),a:A(Ge[4]),format:tt?"name":"hex8"}:(Ge=h.hex6.exec(je))?{r:le(Ge[1]),g:le(Ge[2]),b:le(Ge[3]),format:tt?"name":"hex"}:(Ge=h.hex4.exec(je))?{r:le(Ge[1]+""+Ge[1]),g:le(Ge[2]+""+Ge[2]),b:le(Ge[3]+""+Ge[3]),a:A(Ge[4]+""+Ge[4]),format:tt?"name":"hex8"}:!!(Ge=h.hex3.exec(je))&&{r:le(Ge[1]+""+Ge[1]),g:le(Ge[2]+""+Ge[2]),b:le(Ge[3]+""+Ge[3]),format:tt?"name":"hex"}}(j)),M(j)=="object"&&(L(j.r)&&L(j.g)&&L(j.b)?(ee=j.r,he=j.g,me=j.b,pe={r:255*P(ee,255),g:255*P(he,255),b:255*P(me,255)},et=!0,Ze=String(j.r).substr(-1)==="%"?"prgb":"rgb"):L(j.h)&&L(j.s)&&L(j.v)?(Ae=m(j.s),Re=m(j.v),pe=function(je,Ge,tt){je=6*P(je,360),Ge=P(Ge,100),tt=P(tt,100);var st=Math.floor(je),ft=je-st,bt=tt*(1-Ge),xt=tt*(1-ft*Ge),pt=tt*(1-(1-ft)*Ge),yt=st%6;return{r:255*[tt,xt,bt,bt,pt,tt][yt],g:255*[pt,tt,tt,xt,bt,bt][yt],b:255*[bt,bt,pt,tt,tt,xt][yt]}}(j.h,Ae,Re),et=!0,Ze="hsv"):L(j.h)&&L(j.s)&&L(j.l)&&(Ae=m(j.s),Ce=m(j.l),pe=function(je,Ge,tt){var st,ft,bt;function xt(_t,Tt,Lt){return Lt<0&&(Lt+=1),Lt>1&&(Lt-=1),Lt<1/6?_t+6*(Tt-_t)*Lt:Lt<.5?Tt:Lt<2/3?_t+(Tt-_t)*(2/3-Lt)*6:_t}if(je=P(je,360),Ge=P(Ge,100),tt=P(tt,100),Ge===0)st=ft=bt=tt;else{var pt=tt<.5?tt*(1+Ge):tt+Ge-tt*Ge,yt=2*tt-pt;st=xt(yt,pt,je+1/3),ft=xt(yt,pt,je),bt=xt(yt,pt,je-1/3)}return{r:255*st,g:255*ft,b:255*bt}}(j.h,Ae,Ce),et=!0,Ze="hsl"),j.hasOwnProperty("a")&&(_e=j.a)),_e=T(_e),{ok:et,format:j.format||Ze,r:Math.min(255,Math.max(pe.r,0)),g:Math.min(255,Math.max(pe.g,0)),b:Math.min(255,Math.max(pe.b,0)),a:_e}}(c);this._originalInput=c,this._r=z.r,this._g=z.g,this._b=z.b,this._a=z.a,this._roundA=Math.round(100*this._a)/100,this._format=w.format||z.format,this._gradientType=w.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=z.ok}function F(c,w,z){c=P(c,255),w=P(w,255),z=P(z,255);var j,ee,he=Math.max(c,w,z),me=Math.min(c,w,z),pe=(he+me)/2;if(he==me)j=ee=0;else{var _e=he-me;switch(ee=pe>.5?_e/(2-he-me):_e/(he+me),he){case c:j=(w-z)/_e+(w<z?6:0);break;case w:j=(z-c)/_e+2;break;case z:j=(c-w)/_e+4}j/=6}return{h:j,s:ee,l:pe}}function N(c,w,z){c=P(c,255),w=P(w,255),z=P(z,255);var j,ee,he=Math.max(c,w,z),me=Math.min(c,w,z),pe=he,_e=he-me;if(ee=he===0?0:_e/he,he==me)j=0;else{switch(he){case c:j=(w-z)/_e+(w<z?6:0);break;case w:j=(z-c)/_e+2;break;case z:j=(c-w)/_e+4}j/=6}return{h:j,s:ee,v:pe}}function $(c,w,z,j){var ee=[fe(Math.round(c).toString(16)),fe(Math.round(w).toString(16)),fe(Math.round(z).toString(16))];return j&&ee[0].charAt(0)==ee[0].charAt(1)&&ee[1].charAt(0)==ee[1].charAt(1)&&ee[2].charAt(0)==ee[2].charAt(1)?ee[0].charAt(0)+ee[1].charAt(0)+ee[2].charAt(0):ee.join("")}function X(c,w,z,j){return[fe(v(j)),fe(Math.round(c).toString(16)),fe(Math.round(w).toString(16)),fe(Math.round(z).toString(16))].join("")}function _(c,w){w=w===0?0:w||10;var z=I(c).toHsl();return z.s-=w/100,z.s=ie(z.s),I(z)}function p(c,w){w=w===0?0:w||10;var z=I(c).toHsl();return z.s+=w/100,z.s=ie(z.s),I(z)}function O(c){return I(c).desaturate(100)}function W(c,w){w=w===0?0:w||10;var z=I(c).toHsl();return z.l+=w/100,z.l=ie(z.l),I(z)}function R(c,w){w=w===0?0:w||10;var z=I(c).toRgb();return z.r=Math.max(0,Math.min(255,z.r-Math.round(-w/100*255))),z.g=Math.max(0,Math.min(255,z.g-Math.round(-w/100*255))),z.b=Math.max(0,Math.min(255,z.b-Math.round(-w/100*255))),I(z)}function C(c,w){w=w===0?0:w||10;var z=I(c).toHsl();return z.l-=w/100,z.l=ie(z.l),I(z)}function D(c,w){var z=I(c).toHsl(),j=(z.h+w)%360;return z.h=j<0?360+j:j,I(z)}function x(c){var w=I(c).toHsl();return w.h=(w.h+180)%360,I(w)}function ne(c,w){if(isNaN(w)||w<=0)throw new Error("Argument to polyad must be a positive number");for(var z=I(c).toHsl(),j=[I(c)],ee=360/w,he=1;he<w;he++)j.push(I({h:(z.h+he*ee)%360,s:z.s,l:z.l}));return j}function Y(c){var w=I(c).toHsl(),z=w.h;return[I(c),I({h:(z+72)%360,s:w.s,l:w.l}),I({h:(z+216)%360,s:w.s,l:w.l})]}function K(c,w,z){w=w||6,z=z||30;var j=I(c).toHsl(),ee=360/z,he=[I(c)];for(j.h=(j.h-(ee*w>>1)+720)%360;--w;)j.h=(j.h+ee)%360,he.push(I(j));return he}function G(c,w){w=w||6;for(var z=I(c).toHsv(),j=z.h,ee=z.s,he=z.v,me=[],pe=1/w;w--;)me.push(I({h:j,s:ee,v:he})),he=(he+pe)%1;return me}I.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var c=this.toRgb();return(299*c.r+587*c.g+114*c.b)/1e3},getLuminance:function(){var c,w,z,j=this.toRgb();return c=j.r/255,w=j.g/255,z=j.b/255,.2126*(c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4))+.7152*(w<=.03928?w/12.92:Math.pow((w+.055)/1.055,2.4))+.0722*(z<=.03928?z/12.92:Math.pow((z+.055)/1.055,2.4))},setAlpha:function(c){return this._a=T(c),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var c=N(this._r,this._g,this._b);return{h:360*c.h,s:c.s,v:c.v,a:this._a}},toHsvString:function(){var c=N(this._r,this._g,this._b),w=Math.round(360*c.h),z=Math.round(100*c.s),j=Math.round(100*c.v);return this._a==1?"hsv("+w+", "+z+"%, "+j+"%)":"hsva("+w+", "+z+"%, "+j+"%, "+this._roundA+")"},toHsl:function(){var c=F(this._r,this._g,this._b);return{h:360*c.h,s:c.s,l:c.l,a:this._a}},toHslString:function(){var c=F(this._r,this._g,this._b),w=Math.round(360*c.h),z=Math.round(100*c.s),j=Math.round(100*c.l);return this._a==1?"hsl("+w+", "+z+"%, "+j+"%)":"hsla("+w+", "+z+"%, "+j+"%, "+this._roundA+")"},toHex:function(c){return $(this._r,this._g,this._b,c)},toHexString:function(c){return"#"+this.toHex(c)},toHex8:function(c){return function(w,z,j,ee,he){var me=[fe(Math.round(w).toString(16)),fe(Math.round(z).toString(16)),fe(Math.round(j).toString(16)),fe(v(ee))];return he&&me[0].charAt(0)==me[0].charAt(1)&&me[1].charAt(0)==me[1].charAt(1)&&me[2].charAt(0)==me[2].charAt(1)&&me[3].charAt(0)==me[3].charAt(1)?me[0].charAt(0)+me[1].charAt(0)+me[2].charAt(0)+me[3].charAt(0):me.join("")}(this._r,this._g,this._b,this._a,c)},toHex8String:function(c){return"#"+this.toHex8(c)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*P(this._r,255))+"%",g:Math.round(100*P(this._g,255))+"%",b:Math.round(100*P(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(100*P(this._r,255))+"%, "+Math.round(100*P(this._g,255))+"%, "+Math.round(100*P(this._b,255))+"%)":"rgba("+Math.round(100*P(this._r,255))+"%, "+Math.round(100*P(this._g,255))+"%, "+Math.round(100*P(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(te[$(this._r,this._g,this._b,!0)]||!1)},toFilter:function(c){var w="#"+X(this._r,this._g,this._b,this._a),z=w,j=this._gradientType?"GradientType = 1, ":"";if(c){var ee=I(c);z="#"+X(ee._r,ee._g,ee._b,ee._a)}return"progid:DXImageTransform.Microsoft.gradient("+j+"startColorstr="+w+",endColorstr="+z+")"},toString:function(c){var w=!!c;c=c||this._format;var z=!1,j=this._a<1&&this._a>=0;return w||!j||c!=="hex"&&c!=="hex6"&&c!=="hex3"&&c!=="hex4"&&c!=="hex8"&&c!=="name"?(c==="rgb"&&(z=this.toRgbString()),c==="prgb"&&(z=this.toPercentageRgbString()),c!=="hex"&&c!=="hex6"||(z=this.toHexString()),c==="hex3"&&(z=this.toHexString(!0)),c==="hex4"&&(z=this.toHex8String(!0)),c==="hex8"&&(z=this.toHex8String()),c==="name"&&(z=this.toName()),c==="hsl"&&(z=this.toHslString()),c==="hsv"&&(z=this.toHsvString()),z||this.toHexString()):c==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return I(this.toString())},_applyModification:function(c,w){var z=c.apply(null,[this].concat([].slice.call(w)));return this._r=z._r,this._g=z._g,this._b=z._b,this.setAlpha(z._a),this},lighten:function(){return this._applyModification(W,arguments)},brighten:function(){return this._applyModification(R,arguments)},darken:function(){return this._applyModification(C,arguments)},desaturate:function(){return this._applyModification(_,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(O,arguments)},spin:function(){return this._applyModification(D,arguments)},_applyCombination:function(c,w){return c.apply(null,[this].concat([].slice.call(w)))},analogous:function(){return this._applyCombination(K,arguments)},complement:function(){return this._applyCombination(x,arguments)},monochromatic:function(){return this._applyCombination(G,arguments)},splitcomplement:function(){return this._applyCombination(Y,arguments)},triad:function(){return this._applyCombination(ne,[3])},tetrad:function(){return this._applyCombination(ne,[4])}},I.fromRatio=function(c,w){if(M(c)=="object"){var z={};for(var j in c)c.hasOwnProperty(j)&&(z[j]=j==="a"?c[j]:m(c[j]));c=z}return I(c,w)},I.equals=function(c,w){return!(!c||!w)&&I(c).toRgbString()==I(w).toRgbString()},I.random=function(){return I.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},I.mix=function(c,w,z){z=z===0?0:z||50;var j=I(c).toRgb(),ee=I(w).toRgb(),he=z/100;return I({r:(ee.r-j.r)*he+j.r,g:(ee.g-j.g)*he+j.g,b:(ee.b-j.b)*he+j.b,a:(ee.a-j.a)*he+j.a})},I.readability=function(c,w){var z=I(c),j=I(w);return(Math.max(z.getLuminance(),j.getLuminance())+.05)/(Math.min(z.getLuminance(),j.getLuminance())+.05)},I.isReadable=function(c,w,z){var j,ee,he,me,pe,_e=I.readability(c,w);switch(ee=!1,(he=z,(me=((he=he||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&me!=="AAA"&&(me="AA"),(pe=(he.size||"small").toLowerCase())!=="small"&&pe!=="large"&&(pe="small"),j={level:me,size:pe}).level+j.size){case"AAsmall":case"AAAlarge":ee=_e>=4.5;break;case"AAlarge":ee=_e>=3;break;case"AAAsmall":ee=_e>=7}return ee},I.mostReadable=function(c,w,z){var j,ee,he,me,pe=null,_e=0;ee=(z=z||{}).includeFallbackColors,he=z.level,me=z.size;for(var Ae=0;Ae<w.length;Ae++)(j=I.readability(c,w[Ae]))>_e&&(_e=j,pe=I(w[Ae]));return I.isReadable(c,pe,{level:he,size:me})||!ee?pe:(z.includeFallbackColors=!1,I.mostReadable(c,["#fff","#000"],z))};var B=I.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},te=I.hexNames=function(c){var w={};for(var z in c)c.hasOwnProperty(z)&&(w[c[z]]=z);return w}(B);function T(c){return c=parseFloat(c),(isNaN(c)||c<0||c>1)&&(c=1),c}function P(c,w){(function(j){return typeof j=="string"&&j.indexOf(".")!=-1&&parseFloat(j)===1})(c)&&(c="100%");var z=function(j){return typeof j=="string"&&j.indexOf("%")!=-1}(c);return c=Math.min(w,Math.max(0,parseFloat(c))),z&&(c=parseInt(c*w,10)/100),Math.abs(c-w)<1e-6?1:c%w/parseFloat(w)}function ie(c){return Math.min(1,Math.max(0,c))}function le(c){return parseInt(c,16)}function fe(c){return c.length==1?"0"+c:""+c}function m(c){return c<=1&&(c=100*c+"%"),c}function v(c){return Math.round(255*parseFloat(c)).toString(16)}function A(c){return le(c)/255}var V,i,r,h=(i="[\\s|\\(]+("+(V="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?",r="[\\s|\\(]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?",{CSS_UNIT:new RegExp(V),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function L(c){return!!h.CSS_UNIT.exec(c)}function Q(c,w){this.size=this.size||c,this.smallerSize=this.smallerSize||w,function(z){for(let j=1;j<z;j++)J[j]=1;J[0]=1/Math.sqrt(2)}(this.size)}function g(c){const w=255&c,z=255&(c>>>=8),j=255&(c>>>=8);return{r:255&(c>>>=8),g:j,b:z,a:w}}Q.prototype.size=32,Q.prototype.smallerSize=8,Q.prototype.distance=function(c,w){let z=0;for(let j=0;j<c.length;j++)c[j]!==w[j]&&z++;return z/c.length},Q.prototype.getHash=function(c){(c=c.clone().resize(this.size,this.size)).grayscale();const w=[];for(let me=0;me<c.bitmap.width;me++){w[me]=[];for(let pe=0;pe<c.bitmap.height;pe++)w[me][pe]=g(c.getPixelColor(me,pe)).b}const z=function(me,pe){const _e=pe,Ae=[];for(let Re=0;Re<_e;Re++){Ae[Re]=[];for(let Ce=0;Ce<_e;Ce++){let et=0;for(let Ze=0;Ze<_e;Ze++)for(let je=0;je<_e;je++)et+=Math.cos((2*Ze+1)/(2*_e)*Re*Math.PI)*Math.cos((2*je+1)/(2*_e)*Ce*Math.PI)*me[Ze][je];et*=J[Re]*J[Ce]/4,Ae[Re][Ce]=et}}return Ae}(w,this.size);let j=0;for(let me=0;me<this.smallerSize;me++)for(let pe=0;pe<this.smallerSize;pe++)j+=z[me][pe];const ee=j/(this.smallerSize*this.smallerSize);let he="";for(let me=0;me<this.smallerSize;me++)for(let pe=0;pe<this.smallerSize;pe++)he+=z[me][pe]>ee?"1":"0";return he};const J=[],oe=Q;__webpack_require__(9307);const H=(c,w)=>{let{url:z,...j}=c;fetch(z,j).then(ee=>{if(ee.ok)return ee.arrayBuffer().catch(he=>{throw new Error(`Response is not a buffer for url ${z}. Error: ${he.message}`)});throw new Error(`HTTP Status ${ee.status} for url ${z}`)}).then(ee=>w(null,ee)).catch(ee=>w(ee))},ge=-1,ve=1,Ie=2,ke=4,ae=8,ue=16,we=32,Be="srcOver",be="dstOver",Pe="multiply",Te="add",Ne="screen",He="overlay",Qe="darken",at="lighten",U="hardLight",Ee="difference",Z="exclusion",ce=1,Ve=2,Le=3;function $e(c,w){let z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;c.a*=z;const j=w.a+c.a-w.a*c.a;return{r:(c.r*c.a+w.r*w.a*(1-c.a))/j,g:(c.g*c.a+w.g*w.a*(1-c.a))/j,b:(c.b*c.a+w.b*w.a*(1-c.a))/j,a:j}}function De(c,w){let z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;c.a*=z;const j=w.a+c.a-w.a*c.a;return{r:(w.r*w.a+c.r*c.a*(1-w.a))/j,g:(w.g*w.a+c.g*c.a*(1-w.a))/j,b:(w.b*w.a+c.b*c.a*(1-w.a))/j,a:j}}function Xe(c,w){let z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;c.a*=z;const j=w.a+c.a-w.a*c.a,ee=c.r*c.a,he=c.g*c.a,me=c.b*c.a,pe=w.r*w.a,_e=w.g*w.a,Ae=w.b*w.a;return{r:(ee*pe+ee*(1-w.a)+pe*(1-c.a))/j,g:(he*_e+he*(1-w.a)+_e*(1-c.a))/j,b:(me*Ae+me*(1-w.a)+Ae*(1-c.a))/j,a:j}}function Ue(c,w){let z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;c.a*=z;const j=w.a+c.a-w.a*c.a,ee=c.r*c.a,he=c.g*c.a,me=c.b*c.a;return{r:(ee+w.r*w.a)/j,g:(he+w.g*w.a)/j,b:(me+w.b*w.a)/j,a:j}}function Se(c,w){let z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;c.a*=z;const j=w.a+c.a-w.a*c.a,ee=c.r*c.a,he=c.g*c.a,me=c.b*c.a,pe=w.r*w.a,_e=w.g*w.a,Ae=w.b*w.a;return{r:(ee*w.a+pe*c.a-ee*pe+ee*(1-w.a)+pe*(1-c.a))/j,g:(he*w.a+_e*c.a-he*_e+he*(1-w.a)+_e*(1-c.a))/j,b:(me*w.a+Ae*c.a-me*Ae+me*(1-w.a)+Ae*(1-c.a))/j,a:j}}function it(c,w){let z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;c.a*=z;const j=w.a+c.a-w.a*c.a,ee=c.r*c.a,he=c.g*c.a,me=c.b*c.a,pe=w.r*w.a,_e=w.g*w.a,Ae=w.b*w.a;return{r:(2*pe<=w.a?2*ee*pe+ee*(1-w.a)+pe*(1-c.a):ee*(1+w.a)+pe*(1+c.a)-2*pe*ee-w.a*c.a)/j,g:(2*_e<=w.a?2*he*_e+he*(1-w.a)+_e*(1-c.a):he*(1+w.a)+_e*(1+c.a)-2*_e*he-w.a*c.a)/j,b:(2*Ae<=w.a?2*me*Ae+me*(1-w.a)+Ae*(1-c.a):me*(1+w.a)+Ae*(1+c.a)-2*Ae*me-w.a*c.a)/j,a:j}}function rt(c,w){let z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;c.a*=z;const j=w.a+c.a-w.a*c.a,ee=c.r*c.a,he=c.g*c.a,me=c.b*c.a,pe=w.r*w.a,_e=w.g*w.a,Ae=w.b*w.a;return{r:(Math.min(ee*w.a,pe*c.a)+ee*(1-w.a)+pe*(1-c.a))/j,g:(Math.min(he*w.a,_e*c.a)+he*(1-w.a)+_e*(1-c.a))/j,b:(Math.min(me*w.a,Ae*c.a)+me*(1-w.a)+Ae*(1-c.a))/j,a:j}}function Ke(c,w){let z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;c.a*=z;const j=w.a+c.a-w.a*c.a,ee=c.r*c.a,he=c.g*c.a,me=c.b*c.a,pe=w.r*w.a,_e=w.g*w.a,Ae=w.b*w.a;return{r:(Math.max(ee*w.a,pe*c.a)+ee*(1-w.a)+pe*(1-c.a))/j,g:(Math.max(he*w.a,_e*c.a)+he*(1-w.a)+_e*(1-c.a))/j,b:(Math.max(me*w.a,Ae*c.a)+me*(1-w.a)+Ae*(1-c.a))/j,a:j}}function ut(c,w){let z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;c.a*=z;const j=w.a+c.a-w.a*c.a,ee=c.r*c.a,he=c.g*c.a,me=c.b*c.a,pe=w.r*w.a,_e=w.g*w.a,Ae=w.b*w.a;return{r:(2*ee<=c.a?2*ee*pe+ee*(1-w.a)+pe*(1-c.a):ee*(1+w.a)+pe*(1+c.a)-2*pe*ee-w.a*c.a)/j,g:(2*he<=c.a?2*he*_e+he*(1-w.a)+_e*(1-c.a):he*(1+w.a)+_e*(1+c.a)-2*_e*he-w.a*c.a)/j,b:(2*me<=c.a?2*me*Ae+me*(1-w.a)+Ae*(1-c.a):me*(1+w.a)+Ae*(1+c.a)-2*Ae*me-w.a*c.a)/j,a:j}}function Mt(c,w){let z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;c.a*=z;const j=w.a+c.a-w.a*c.a,ee=c.r*c.a,he=c.g*c.a,me=c.b*c.a,pe=w.r*w.a,_e=w.g*w.a,Ae=w.b*w.a;return{r:(ee+pe-2*Math.min(ee*w.a,pe*c.a))/j,g:(he+_e-2*Math.min(he*w.a,_e*c.a))/j,b:(me+Ae-2*Math.min(me*w.a,Ae*c.a))/j,a:j}}function mt(c,w){let z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;c.a*=z;const j=w.a+c.a-w.a*c.a,ee=c.r*c.a,he=c.g*c.a,me=c.b*c.a,pe=w.r*w.a,_e=w.g*w.a,Ae=w.b*w.a;return{r:(ee*w.a+pe*c.a-2*ee*pe+ee*(1-w.a)+pe*(1-c.a))/j,g:(he*w.a+_e*c.a-2*he*_e+he*(1-w.a)+_e*(1-c.a))/j,b:(me*w.a+Ae*c.a-2*me*Ae+me*(1-w.a)+Ae*(1-c.a))/j,a:j}}const nt=function(c,w){for(var z=arguments.length,j=new Array(z>2?z-2:0),ee=2;ee<z;ee++)j[ee-2]=arguments[ee];return new Promise((he,me)=>{j.push((pe,_e)=>{pe&&me(pe),he(_e)}),c.bind(w)(...j)})},vt={},Rt=(c,w)=>{vt[c]=w},It=c=>{const w=c.split("/").slice(-1);var z;return(z=w[w.length-1].split(".").pop(),Object.entries(vt).find(j=>j[1].includes(z))||[])[0]};var Dt=__webpack_require__(5025),Bt=__webpack_require__.n(Dt),St=__webpack_require__(6551),zt=__webpack_require__.n(St),Et=__webpack_require__(8834).lW;function kt(c){return c._exif&&c._exif.tags&&c._exif.tags.Orientation||1}async function Pt(c,w,z){const j=await async function(ee,he){const me=await Bt().fromBuffer(ee);return me?me.mime:he?It(he):null}(c,w);if(typeof j!="string")return z(new Error("Could not find MIME for Buffer <"+w+">"));this._originalMime=j.toLowerCase();try{const ee=this.getMIME();if(!this.constructor.decoders[ee])return n.call(this,"Unsupported MIME type: "+ee,z);this.bitmap=this.constructor.decoders[ee](c)}catch(ee){return z.call(this,ee,this)}try{this._exif=zt().create(c).parse(),function(ee){if(kt(ee)<2)return;const he=function(pe){const _e=pe.getWidth(),Ae=pe.getHeight();switch(kt(pe)){case 1:default:return null;case 2:return function(Re,Ce){return[_e-Re-1,Ce]};case 3:return function(Re,Ce){return[_e-Re-1,Ae-Ce-1]};case 4:return function(Re,Ce){return[Re,Ae-Ce-1]};case 5:return function(Re,Ce){return[Ce,Re]};case 6:return function(Re,Ce){return[Ce,Ae-Re-1]};case 7:return function(Re,Ce){return[_e-Ce-1,Ae-Re-1]};case 8:return function(Re,Ce){return[_e-Ce-1,Re]}}}(ee),me=kt(ee)>4;(function(pe,_e,Ae,Re){const Ce=pe.bitmap.data,et=pe.bitmap.width,Ze=Et.alloc(Ce.length);for(let je=0;je<_e;je++)for(let Ge=0;Ge<Ae;Ge++){const[tt,st]=Re(je,Ge),ft=_e*Ge+je<<2,bt=et*st+tt<<2,xt=Ce.readUInt32BE(bt);Ze.writeUInt32BE(xt,ft)}pe.bitmap.data=Ze,pe.bitmap.width=_e,pe.bitmap.height=Ae})(ee,me?ee.bitmap.height:ee.bitmap.width,me?ee.bitmap.width:ee.bitmap.height,he)}(this)}catch{}return z.call(this,null,this),this}function Zt(c,w){if(c===ge&&(c=this.getMIME()),typeof c!="string")return n.call(this,"mime must be a string",w);if(typeof w!="function")return n.call(this,"cb must be a function",w);if(c=c.toLowerCase(),this._rgba&&this.constructor.hasAlpha[c]?this.bitmap.data=Et.from(this.bitmap.data):this.bitmap.data=function(z,j){return new z(j.bitmap.width,j.bitmap.height,j._background).composite(j,0,0).bitmap}(this.constructor,this).data,!this.constructor.encoders[c])return n.call(this,"Unsupported MIME type: "+c,w);{const z=this.constructor.encoders[c](this);z instanceof Promise?z.then(j=>{w.call(this,null,j)}):w.call(this,null,z)}return this}function ii(c){return nt(Zt,this,c)}var Gt=__webpack_require__(8834).lW;function Ft(c,w,z){return(w=function(j){var ee=function(he,me){if(typeof he!="object"||he===null)return he;var pe=he[Symbol.toPrimitive];if(pe!==void 0){var _e=pe.call(he,"string");if(typeof _e!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(he)}(j);return typeof ee=="symbol"?ee:String(ee)}(w))in c?Object.defineProperty(c,w,{value:z,enumerable:!0,configurable:!0,writable:!0}):c[w]=z,c}const Vt="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",Qt=[NaN,NaN];for(let c=2;c<65;c++){const w=d()(d().BIN,Vt.slice(0,c))(new Array(65).join("1"));Qt.push(w.length)}function qt(){}function ri(c){return Object.prototype.toString.call(c).toLowerCase().indexOf("arraybuffer")>-1}function ni(c){const w=Gt.alloc(c.byteLength),z=new Uint8Array(c);for(let j=0;j<w.length;++j)w[j]=z[j];return w}function ai(c,w){H(c,(z,j)=>z?w(z):typeof j=="object"&&Gt.isBuffer(j)?w(null,j):typeof j=="object"&&ri(j)?w(null,ni(j)):new Error(`Could not load Buffer from <${c.url}>`))}const oi={data:null,width:null,height:null};class wt extends e(){constructor(){for(var w=arguments.length,z=new Array(w),j=0;j<w;j++)z[j]=arguments[j];super(),Ft(this,"bitmap",oi),Ft(this,"_background",0),Ft(this,"_originalMime",wt.MIME_PNG),Ft(this,"_exif",null),Ft(this,"_rgba",!0),Ft(this,"writeAsync",_e=>nt(this.write,this,_e)),Ft(this,"getBase64Async",_e=>nt(this.getBase64,this,_e)),Ft(this,"getBuffer",Zt),Ft(this,"getBufferAsync",ii),Ft(this,"getPixelColour",this.getPixelColor),Ft(this,"setPixelColour",this.setPixelColor);const ee=this;let he=qt;function me(){for(var _e=arguments.length,Ae=new Array(_e),Re=0;Re<_e;Re++)Ae[Re]=arguments[Re];const[Ce]=Ae;(Ce||{}).methodName="constructor",setTimeout(()=>{Ce&&he===qt?ee.emitError("constructor",Ce):Ce||ee.emitMulti("constructor","initialized"),he.call(ee,...Ae)},1)}if(ri(z[0])&&(z[0]=ni(z[0])),typeof z[0]=="number"&&typeof z[1]=="number"||parseInt(z[0],10)&&parseInt(z[1],10)){const _e=parseInt(z[0],10),Ae=parseInt(z[1],10);if(he=z[2],typeof z[2]=="number"&&(this._background=z[2],he=z[3]),typeof z[2]=="string"&&(this._background=wt.cssColorToHex(z[2]),he=z[3]),he===void 0&&(he=qt),typeof he!="function")return n.call(this,"cb must be a function",me);this.bitmap={data:Gt.alloc(_e*Ae*4),width:_e,height:Ae};for(let Re=0;Re<this.bitmap.data.length;Re+=4)this.bitmap.data.writeUInt32BE(this._background,Re);me(null,this)}else if(typeof z[0]=="object"&&z[0].url){if(he=z[1]||qt,typeof he!="function")return n.call(this,"cb must be a function",me);ai(z[0],(_e,Ae)=>{if(_e)return n.call(this,_e,me);this.parseBitmap(Ae,z[0].url,me)})}else if(z[0]instanceof wt){const[_e]=z;if(he=z[1],he===void 0&&(he=qt),typeof he!="function")return n.call(this,"cb must be a function",me);this.bitmap={data:Gt.from(_e.bitmap.data),width:_e.bitmap.width,height:_e.bitmap.height},this._quality=_e._quality,this._deflateLevel=_e._deflateLevel,this._deflateStrategy=_e._deflateStrategy,this._filterType=_e._filterType,this._rgba=_e._rgba,this._background=_e._background,this._originalMime=_e._originalMime,me(null,this)}else if((pe=z[0])&&typeof pe=="object"&&typeof pe.width=="number"&&typeof pe.height=="number"&&(Gt.isBuffer(pe.data)||pe.data instanceof Uint8Array||typeof Uint8ClampedArray=="function"&&pe.data instanceof Uint8ClampedArray)&&(pe.data.length===pe.width*pe.height*4||pe.data.length===pe.width*pe.height*3)){const[_e]=z;he=z[1]||qt;const Ae=_e.width*_e.height*4===_e.data.length?Gt.from(_e.data):function(Re){if(Re.length%3!=0)throw new Error("Buffer length is incorrect");const Ce=Gt.allocUnsafe(Re.length/3*4);let et=0;for(let Ze=0;Ze<Re.length;Ze++)Ce[et]=Re[Ze],(Ze+1)%3==0&&(Ce[++et]=255),et++;return Ce}(_e.data);this.bitmap={data:Ae,width:_e.width,height:_e.height},me(null,this)}else if(typeof z[0]=="string"){const _e=z[0];if(he=z[1],he===void 0&&(he=qt),typeof he!="function")return n.call(this,"cb must be a function",me);(function(Ae,Re){f()&&typeof f().readFile=="function"&&!Ae.match(/^(http|ftp)s?:\/\/./)?f().readFile(Ae,Re):ai({url:Ae},Re)})(_e,(Ae,Re)=>{if(Ae)return n.call(this,Ae,me);this.parseBitmap(Re,_e,me)})}else if(typeof z[0]=="object"&&Gt.isBuffer(z[0])){const _e=z[0];if(he=z[1],typeof he!="function")return n.call(this,"cb must be a function",me);this.parseBitmap(_e,null,me)}else{he=z[z.length-1],typeof he!="function"&&(he=z[z.length-2],typeof he!="function"&&(he=qt));const _e=wt.__extraConstructors.find(Ae=>Ae.test(...z));if(!_e)return n.call(this,"No matching constructor overloading was found. Please see the docs for how to call the Jimp constructor.",me);new Promise((Ae,Re)=>{_e.run.call(this,Ae,Re,...z)}).then(()=>me(null,this)).catch(me)}var pe}parseBitmap(w,z,j){Pt.call(this,w,null,j)}rgba(w,z){return typeof w!="boolean"?n.call(this,"bool must be a boolean, true for RGBA or false for RGB",z):(this._rgba=w,a(z)&&z.call(this,null,this),this)}emitMulti(w,z){let j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};j=Object.assign(j,{methodName:w,eventName:z}),this.emit("any",j),w&&this.emit(w,j),this.emit(z,j)}emitError(w,z){this.emitMulti(w,"error",z)}getHeight(){return this.bitmap.height}getWidth(){return this.bitmap.width}inspect(){return"<Jimp "+(this.bitmap===oi?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}toString(){return"[object Jimp]"}getMIME(){return this._originalMime||wt.MIME_PNG}getExtension(){const w=this.getMIME();return(vt[w.toLowerCase()]||[])[0]}write(w,z){if(!f()||!f().createWriteStream)throw new Error("Cant access the filesystem. You can use the getBase64 method.");if(typeof w!="string")return n.call(this,"path must be a string",z);if(z===void 0&&(z=qt),typeof z!="function")return n.call(this,"cb must be a function",z);const j=It(w)||this.getMIME(),ee=l().parse(w);return ee.dir&&f().mkdirSync(ee.dir,{recursive:!0}),this.getBuffer(j,(he,me)=>{if(he)return n.call(this,he,z);const pe=f().createWriteStream(w);pe.on("open",()=>{pe.write(me),pe.end()}).on("error",_e=>n.call(this,_e,z)),pe.on("finish",()=>{z.call(this,null,this)})}),this}getBase64(w,z){return w===wt.AUTO&&(w=this.getMIME()),typeof w!="string"?n.call(this,"mime must be a string",z):typeof z!="function"?n.call(this,"cb must be a function",z):(this.getBuffer(w,function(j,ee){if(j)return n.call(this,j,z);const he="data:"+w+";base64,"+ee.toString("base64");z.call(this,null,he)}),this)}hash(w,z){if(typeof(w=w||64)=="function"&&(z=w,w=64),typeof w!="number")return n.call(this,"base must be a number",z);if(w<2||w>64)return n.call(this,"base must be a number between 2 and 64",z);let j=this.pHash();for(j=d()(d().BIN,Vt.slice(0,w))(j);j.length<Qt[w];)j="0"+j;return a(z)&&z.call(this,null,j),j}pHash(){return new oe().getHash(this)}distanceFromHash(w){const z=new oe,j=z.getHash(this);return z.distance(j,w)}getPixelIndex(w,z,j,ee){let he,me;if(typeof j=="function"&&ee===void 0&&(ee=j,j=null),j||(j=wt.EDGE_EXTEND),typeof w!="number"||typeof z!="number")return n.call(this,"x and y must be numbers",ee);he=w=Math.round(w),me=z=Math.round(z),j===wt.EDGE_EXTEND&&(w<0&&(he=0),w>=this.bitmap.width&&(he=this.bitmap.width-1),z<0&&(me=0),z>=this.bitmap.height&&(me=this.bitmap.height-1)),j===wt.EDGE_WRAP&&(w<0&&(he=this.bitmap.width+w),w>=this.bitmap.width&&(he=w%this.bitmap.width),z<0&&(me=this.bitmap.height+z),z>=this.bitmap.height&&(me=z%this.bitmap.height));let pe=this.bitmap.width*me+he<<2;return(he<0||he>=this.bitmap.width)&&(pe=-1),(me<0||me>=this.bitmap.height)&&(pe=-1),a(ee)&&ee.call(this,null,pe),pe}getPixelColor(w,z,j){if(typeof w!="number"||typeof z!="number")return n.call(this,"x and y must be numbers",j);const ee=this.getPixelIndex(w,z),he=this.bitmap.data.readUInt32BE(ee);return a(j)&&j.call(this,null,he),he}setPixelColor(w,z,j,ee){if(typeof w!="number"||typeof z!="number"||typeof j!="number")return n.call(this,"hex, x and y must be numbers",ee);const he=this.getPixelIndex(z,j);return this.bitmap.data.writeUInt32BE(w,he),a(ee)&&ee.call(this,null,this),this}hasAlpha(){const{width:w,height:z,data:j}=this.bitmap,ee=w*z<<2;for(let he=3;he<ee;he+=4)if(j[he]!==255)return!0;return!1}scanIterator(w,z,j,ee){return typeof w!="number"||typeof z!="number"?n.call(this,"x and y must be numbers"):typeof j!="number"||typeof ee!="number"?n.call(this,"w and h must be numbers"):function*(he,me,pe,_e,Ae){me=Math.round(me),pe=Math.round(pe),_e=Math.round(_e),Ae=Math.round(Ae);for(let Re=pe;Re<pe+Ae;Re++)for(let Ce=me;Ce<me+_e;Ce++){const et=he.bitmap.width*Re+Ce<<2;yield{x:Ce,y:Re,idx:et,image:he}}}(this,w,z,j,ee)}}function $t(c){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wt;Object.entries(c).forEach(z=>{let[j,ee]=z;w[j]=ee})}function ci(c){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wt;Object.entries(c).forEach(z=>{let[j,ee]=z;w.prototype[j]=ee})}function u(c,w,z){const j="before-"+w,ee=w.replace(/e$/,"")+"ed";wt.prototype[c]=function(){let he;for(var me=arguments.length,pe=new Array(me),_e=0;_e<me;_e++)pe[_e]=arguments[_e];const Ae=pe[z.length-1],Re=this;let Ce;typeof Ae=="function"?(he=function(){for(var et=arguments.length,Ze=new Array(et),je=0;je<et;je++)Ze[je]=arguments[je];const[Ge,tt]=Ze;Ge?Re.emitError(c,Ge):Re.emitMulti(c,ee,{[c]:tt}),Ae.apply(this,Ze)},pe[pe.length-1]=he):he=!1,this.emitMulti(c,j);try{Ce=z.apply(this,pe),he||this.emitMulti(c,ee,{[c]:Ce})}catch(et){et.methodName=c,this.emitError(c,et)}return Ce},wt.prototype[c+"Quiet"]=z}function se(c,w){u(c,"change",w)}$t(xe),ci({composite:function(c,w,z){let j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ee=arguments.length>4?arguments[4]:void 0;if(typeof j=="function"&&(ee=j,j={}),!(c instanceof this.constructor))return n.call(this,"The source must be a Jimp image",ee);if(typeof w!="number"||typeof z!="number")return n.call(this,"x and y must be numbers",ee);let{mode:he,opacitySource:me,opacityDest:pe}=j;he||(he=Be),(typeof me!="number"||me<0||me>1)&&(me=1),(typeof pe!="number"||pe<0||pe>1)&&(pe=1);const _e=re[he];w=Math.round(w),z=Math.round(z);const Ae=this;return pe!==1&&Ae.opacity(pe),c.scanQuiet(0,0,c.bitmap.width,c.bitmap.height,function(Re,Ce,et){const Ze=Ae.getPixelIndex(w+Re,z+Ce,Le);if(Ze===-1)return;const je=_e({r:this.bitmap.data[et+0]/255,g:this.bitmap.data[et+1]/255,b:this.bitmap.data[et+2]/255,a:this.bitmap.data[et+3]/255},{r:Ae.bitmap.data[Ze+0]/255,g:Ae.bitmap.data[Ze+1]/255,b:Ae.bitmap.data[Ze+2]/255,a:Ae.bitmap.data[Ze+3]/255},me);Ae.bitmap.data[Ze+0]=this.constructor.limit255(255*je.r),Ae.bitmap.data[Ze+1]=this.constructor.limit255(255*je.g),Ae.bitmap.data[Ze+2]=this.constructor.limit255(255*je.b),Ae.bitmap.data[Ze+3]=this.constructor.limit255(255*je.a)}),a(ee)&&ee.call(this,null,this),this}}),wt.__extraConstructors=[],wt.appendConstructorOption=function(c,w,z){wt.__extraConstructors.push({name:c,test:w,run:z})},wt.read=function(){for(var c=arguments.length,w=new Array(c),z=0;z<c;z++)w[z]=arguments[z];return new Promise((j,ee)=>{new wt(...w,(he,me)=>{he?ee(he):j(me)})})},wt.create=wt.read,wt.rgbaToInt=function(c,w,z,j,ee){if(typeof c!="number"||typeof w!="number"||typeof z!="number"||typeof j!="number")return n.call(this,"r, g, b and a must be numbers",ee);if(c<0||c>255)return n.call(this,"r must be between 0 and 255",ee);if((w<0||w>255)&&n.call(this,"g must be between 0 and 255",ee),z<0||z>255)return n.call(this,"b must be between 0 and 255",ee);if(j<0||j>255)return n.call(this,"a must be between 0 and 255",ee);let he=255&c;return he<<=8,he|=255&w,he<<=8,he|=255&z,he<<=8,he|=255&j,he>>>=0,a(ee)&&ee.call(this,null,he),he},wt.intToRGBA=function(c,w){if(typeof c!="number")return n.call(this,"i must be a number",w);const z={};return z.r=Math.floor(c/Math.pow(256,3)),z.g=Math.floor((c-z.r*Math.pow(256,3))/Math.pow(256,2)),z.b=Math.floor((c-z.r*Math.pow(256,3)-z.g*Math.pow(256,2))/Math.pow(256,1)),z.a=Math.floor((c-z.r*Math.pow(256,3)-z.g*Math.pow(256,2)-z.b*Math.pow(256,1))/Math.pow(256,0)),a(w)&&w.call(this,null,z),z},wt.cssColorToHex=function(c){return typeof(c=c||0)=="number"?Number(c):parseInt(I(c).toHex8(),16)},wt.limit255=function(c){return c=Math.max(c,0),Math.min(c,255)},wt.diff=function(c,w){let z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.1;if(!(c instanceof wt&&w instanceof wt))return n.call(this,"img1 and img2 must be an Jimp images");const j=c.bitmap,ee=w.bitmap;if(j.width===ee.width&&j.height===ee.height||(j.width*j.height>ee.width*ee.height?c=c.cloneQuiet().resize(ee.width,ee.height):w=w.cloneQuiet().resize(j.width,j.height)),typeof z!="number"||z<0||z>1)return n.call(this,"threshold must be a number between 0 and 1");const he=new wt(j.width,j.height,4294967295);return{percent:E()(j.data,ee.data,he.bitmap.data,he.bitmap.width,he.bitmap.height,{threshold:z})/(he.bitmap.width*he.bitmap.height),image:he}},wt.distance=function(c,w){const z=new oe,j=z.getHash(c),ee=z.getHash(w);return z.distance(j,ee)},wt.compareHashes=function(c,w){return new oe().distance(c,w)},wt.colorDiff=function(c,w){const z=ee=>Math.pow(ee,2),{max:j}=Math;return c.a===0||c.a||(c.a=255),w.a===0||w.a||(w.a=255),(j(z(c.r-w.r),z(c.r-w.r-c.a+w.a))+j(z(c.g-w.g),z(c.g-w.g-c.a+w.a))+j(z(c.b-w.b),z(c.b-w.b-c.a+w.a)))/195075},u("clone","clone",function(c){const w=new wt(this);return a(c)&&c.call(w,null,w),w}),se("background",function(c,w){return typeof c!="number"?n.call(this,"hex must be a hexadecimal rgba value",w):(this._background=c,a(w)&&w.call(this,null,this),this)}),se("scan",function(c,w,z,j,ee,he){if(typeof c!="number"||typeof w!="number")return n.call(this,"x and y must be numbers",he);if(typeof z!="number"||typeof j!="number")return n.call(this,"w and h must be numbers",he);if(typeof ee!="function")return n.call(this,"f must be a function",he);const me=t(this,c,w,z,j,ee);return a(he)&&he.call(this,null,me),me});{let c;typeof window<"u"&&typeof window=="object"&&(c=window),typeof self<"u"&&typeof self=="object"&&(c=self),c.Jimp=wt,c.Buffer=Gt}const de=wt;var ye=__webpack_require__(643),Me=__webpack_require__(2691),Fe=__webpack_require__.n(Me);const Oe="image/jpeg",We=()=>({mime:{[Oe]:["jpeg","jpg","jpe"]},constants:{MIME_JPEG:Oe},decoders:{[Oe]:Fe().decode},encoders:{[Oe]:c=>Fe().encode(c.bitmap,c._quality).data},class:{_quality:100,quality(c,w){return typeof c!="number"?n.call(this,"n must be a number",w):c<0||c>100?n.call(this,"n must be a number 0 - 100",w):(this._quality=Math.round(c),a(w)&&w.call(this,null,this),this)}}});var ze=__webpack_require__(9902);const Je="image/png",qe=()=>({mime:{[Je]:["png"]},constants:{MIME_PNG:Je,PNG_FILTER_AUTO:-1,PNG_FILTER_NONE:0,PNG_FILTER_SUB:1,PNG_FILTER_UP:2,PNG_FILTER_AVERAGE:3,PNG_FILTER_PATH:4},hasAlpha:{[Je]:!0},decoders:{[Je]:ze.PNG.sync.read},encoders:{[Je](c){const w=new ze.PNG({width:c.bitmap.width,height:c.bitmap.height});return w.data=c.bitmap.data,ze.PNG.sync.write(w,{deflateLevel:c._deflateLevel,deflateStrategy:c._deflateStrategy,filterType:c._filterType,colorType:typeof c._colorType=="number"?c._colorType:c._rgba?6:2,inputHasAlpha:c._rgba})}},class:{_deflateLevel:9,_deflateStrategy:3,_filterType:-1,_colorType:null,deflateLevel(c,w){return typeof c!="number"?n.call(this,"l must be a number",w):c<0||c>9?n.call(this,"l must be a number 0 - 9",w):(this._deflateLevel=Math.round(c),a(w)&&w.call(this,null,this),this)},deflateStrategy(c,w){return typeof c!="number"?n.call(this,"s must be a number",w):c<0||c>3?n.call(this,"s must be a number 0 - 3",w):(this._deflateStrategy=Math.round(c),a(w)&&w.call(this,null,this),this)},filterType(c,w){return typeof c!="number"?n.call(this,"n must be a number",w):c<-1||c>4?n.call(this,"n must be -1 (auto) or a number 0 - 4",w):(this._filterType=Math.round(c),a(w)&&w.call(this,null,this),this)},colorType(c,w){return typeof c!="number"?n.call(this,"s must be a number",w):c!==0&&c!==2&&c!==4&&c!==6?n.call(this,"s must be a number 0, 2, 4, 6.",w):(this._colorType=Math.round(c),a(w)&&w.call(this,null,this),this)}}});var Ye=__webpack_require__(486),ot=__webpack_require__.n(Ye);const gt="image/bmp",dt="image/x-ms-bmp",ht=c=>{return t({bitmap:w=ot().decode(c)},0,0,w.width,w.height,function(z,j,ee){const he=this.bitmap.data[ee+0],me=this.bitmap.data[ee+1],pe=this.bitmap.data[ee+2],_e=this.bitmap.data[ee+3];this.bitmap.data[ee+0]=_e,this.bitmap.data[ee+1]=pe,this.bitmap.data[ee+2]=me,this.bitmap.data[ee+3]=w.is_with_alpha?he:255}).bitmap;var w},lt=c=>ot().encode(function(w){return t(w,0,0,w.bitmap.width,w.bitmap.height,function(z,j,ee){const he=this.bitmap.data[ee+0],me=this.bitmap.data[ee+1],pe=this.bitmap.data[ee+2],_e=this.bitmap.data[ee+3];this.bitmap.data[ee+0]=_e,this.bitmap.data[ee+1]=pe,this.bitmap.data[ee+2]=me,this.bitmap.data[ee+3]=he}).bitmap}(c)).data;var Ot=__webpack_require__(9299),At=__webpack_require__.n(Ot),Ut=__webpack_require__(8834).lW;const Ct="image/tiff";var Ht=__webpack_require__(63),jt=__webpack_require__(9455),ct=__webpack_require__(8834).lW;const Xt="image/gif",li=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1],pi=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18];var si=__webpack_require__(8834).lW;function fi(c,w,z,j){const ee=[0,0,0],he=(w.length-1)/2;for(let me=0;me<w.length;me+=1)for(let pe=0;pe<w[me].length;pe+=1){const _e=c.getPixelIndex(z+me-he,j+pe-he);ee[0]+=c.bitmap.data[_e]*w[me][pe],ee[1]+=c.bitmap.data[_e+1]*w[me][pe],ee[2]+=c.bitmap.data[_e+2]*w[me][pe]}return ee}const Wt=c=>c!=null;function hi(c){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(w,z,j){const ee=parseInt(.2126*this.bitmap.data[j]+.7152*this.bitmap.data[j+1]+.0722*this.bitmap.data[j+2],10);this.bitmap.data[j]=ee,this.bitmap.data[j+1]=ee,this.bitmap.data[j+2]=ee}),a(c)&&c.call(this,null,this),this}function ei(c,w){let z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:50;return{r:(w.r-c.r)*(z/100)+c.r,g:(w.g-c.g)*(z/100)+c.g,b:(w.b-c.b)*(z/100)+c.b}}function _i(c,w){return c&&Array.isArray(c)?(c=c.map(z=>(z.apply!=="xor"&&z.apply!=="mix"||(z.params[0]=I(z.params[0]).toRgb()),z)),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(z,j,ee)=>{let he={r:this.bitmap.data[ee],g:this.bitmap.data[ee+1],b:this.bitmap.data[ee+2]};const me=(pe,_e)=>this.constructor.limit255(he[pe]+_e);c.forEach(pe=>{if(pe.apply==="mix")he=ei(he,pe.params[0],pe.params[1]);else if(pe.apply==="tint")he=ei(he,{r:255,g:255,b:255},pe.params[0]);else if(pe.apply==="shade")he=ei(he,{r:0,g:0,b:0},pe.params[0]);else if(pe.apply==="xor")he={r:he.r^pe.params[0].r,g:he.g^pe.params[0].g,b:he.b^pe.params[0].b};else if(pe.apply==="red")he.r=me("r",pe.params[0]);else if(pe.apply==="green")he.g=me("g",pe.params[0]);else if(pe.apply==="blue")he.b=me("b",pe.params[0]);else{if(pe.apply==="hue"&&(pe.apply="spin"),he=I(he),!he[pe.apply])return n.call(this,"action "+pe.apply+" not supported",w);he=he[pe.apply](...pe.params).toRgb()}}),this.bitmap.data[ee]=he.r,this.bitmap.data[ee+1]=he.g,this.bitmap.data[ee+2]=he.b}),a(w)&&w.call(this,null,this),this):n.call(this,"actions must be an array",w)}var Ai=__webpack_require__(8834).lW;function yi(c){const w=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(z,j,ee){const he=w[((3&j)<<2)+z%4];this.bitmap.data[ee]=Math.min(this.bitmap.data[ee]+he,255),this.bitmap.data[ee+1]=Math.min(this.bitmap.data[ee+1]+he,255),this.bitmap.data[ee+2]=Math.min(this.bitmap.data[ee+2]+he,255)}),a(c)&&c.call(this,null,this),this}var wi=__webpack_require__(8834).lW;function vi(c,w,z){if(typeof c!="boolean"||typeof w!="boolean")return n.call(this,"horizontal and vertical must be Booleans",z);const j=wi.alloc(this.bitmap.data.length);return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(ee,he,me){const pe=c?this.bitmap.width-1-ee:ee,_e=w?this.bitmap.height-1-he:he,Ae=this.bitmap.width*_e+pe<<2,Re=this.bitmap.data.readUInt32BE(me);j.writeUInt32BE(Re,Ae)}),this.bitmap.data=wi.from(j),a(z)&&z.call(this,null,this),this}function Ii(){const c={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(w,z,j){c.r[this.bitmap.data[j+0]]++,c.g[this.bitmap.data[j+1]]++,c.b[this.bitmap.data[j+2]]++}),c}const mi=function(c,w,z){return 255*(c-w)/(z-w)},gi=function(c){return[c.findIndex(w=>w>0),255-c.slice().reverse().findIndex(w=>w>0)]};var Bi=__webpack_require__(8058),Ti=__webpack_require__.n(Bi);function di(c,w){let z=0;for(let j=0;j<w.length;j++)if(c.chars[w[j]]){const ee=c.kernings[w[j]]&&c.kernings[w[j]][w[j+1]]?c.kernings[w[j]][w[j+1]]:0;z+=(c.chars[w[j]].xadvance||0)+ee}return z}function xi(c,w,z){const j=w.replace(/[\r\n]+/g,` 
`).split(" "),ee=[];let he=[],me=0;return j.forEach(pe=>{const _e=[...he,pe].join(" "),Ae=di(c,_e);Ae<=z&&!pe.includes(`
`)?(Ae>me&&(me=Ae),he.push(pe)):(ee.push(he),he=[pe.replace(`
`,"")])}),ee.push(he),{lines:ee,longestLine:me}}function bi(c,w,z){const{lines:j}=xi(c,w,z);return j.length*c.common.lineHeight}function Li(c,w,z,j,ee){if(ee.width>0&&ee.height>0){const he=w.pages[ee.page];c.blit(he,z+ee.xoffset,j+ee.yoffset,ee.x,ee.y,ee.width,ee.height)}return c}function Oi(c,w,z,j,ee){for(let he=0;he<j.length;he++){let me;me=c.chars[j[he]]?j[he]:/\s/.test(j[he])?"":"?";const pe=c.chars[me]||{},_e=c.kernings[me];Li(this,c,w,z,pe||{}),w+=(_e&&_e[j[he+1]]?_e[j[he+1]]:0)+(pe.xadvance||ee)}}const Yt="//../";function Nt(c,w,z,j,ee,he,me){this.widthOriginal=Math.abs(Math.floor(c)||0),this.heightOriginal=Math.abs(Math.floor(w)||0),this.targetWidth=Math.abs(Math.floor(z)||0),this.targetHeight=Math.abs(Math.floor(j)||0),this.colorChannels=ee?4:3,this.interpolationPass=!!he,this.resizeCallback=typeof me=="function"?me:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}Nt.prototype.initialize=function(){if(!(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0))throw new Error("Invalid settings specified for the resizer.");this.configurePasses()},Nt.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=this.colorChannels===4?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=this.colorChannels===4?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=this.colorChannels===4?this.resizeHeightRGBA:this.resizeHeightRGB))},Nt.prototype._resizeWidthInterpolatedRGBChannels=function(c,w){const z=w?4:3,j=this.ratioWeightWidthPass,ee=this.widthBuffer;let he,me,pe=0,_e=0,Ae=0,Re=0,Ce=0;for(he=0;pe<1/3;he+=z,pe+=j)for(_e=he,Ae=0;_e<this.widthPassResultSize;Ae+=this.originalWidthMultipliedByChannels,_e+=this.targetWidthMultipliedByChannels)ee[_e]=c[Ae],ee[_e+1]=c[Ae+1],ee[_e+2]=c[Ae+2],w&&(ee[_e+3]=c[Ae+3]);for(pe-=1/3,me=this.widthOriginal-1;pe<me;he+=z,pe+=j)for(Ce=pe%1,Re=1-Ce,_e=he,Ae=Math.floor(pe)*z;_e<this.widthPassResultSize;Ae+=this.originalWidthMultipliedByChannels,_e+=this.targetWidthMultipliedByChannels)ee[_e+0]=c[Ae+0]*Re+c[Ae+z+0]*Ce,ee[_e+1]=c[Ae+1]*Re+c[Ae+z+1]*Ce,ee[_e+2]=c[Ae+2]*Re+c[Ae+z+2]*Ce,w&&(ee[_e+3]=c[Ae+3]*Re+c[Ae+z+3]*Ce);for(me=this.originalWidthMultipliedByChannels-z;he<this.targetWidthMultipliedByChannels;he+=z)for(_e=he,Ae=me;_e<this.widthPassResultSize;Ae+=this.originalWidthMultipliedByChannels,_e+=this.targetWidthMultipliedByChannels)ee[_e]=c[Ae],ee[_e+1]=c[Ae+1],ee[_e+2]=c[Ae+2],w&&(ee[_e+3]=c[Ae+3]);return ee},Nt.prototype._resizeWidthRGBChannels=function(c,w){const z=w?4:3,j=this.ratioWeightWidthPass,ee=1/j,he=this.originalWidthMultipliedByChannels-z+1,me=this.targetWidthMultipliedByChannels-z+1,pe=this.outputWidthWorkBench,_e=this.widthBuffer,Ae=this.outputWidthWorkBenchOpaquePixelsCount;let Re=0,Ce=0,et=0,Ze=0,je=0,Ge=0,tt=0,st=1,ft=0,bt=0,xt=0,pt=0;do{for(je=0;je<this.originalHeightMultipliedByChannels;)pe[je++]=0,pe[je++]=0,pe[je++]=0,w&&(pe[je++]=0,Ae[je/z-1]=0);Re=j;do{for(Ce=1+et-Ze,st=Math.min(Re,Ce),je=0,Ge=et;je<this.originalHeightMultipliedByChannels;Ge+=he)ft=c[Ge],bt=c[++Ge],xt=c[++Ge],pt=w?c[++Ge]:255,pe[je++]+=(pt?ft:0)*st,pe[je++]+=(pt?bt:0)*st,pe[je++]+=(pt?xt:0)*st,w&&(pe[je++]+=pt*st,Ae[je/z-1]+=pt?st:0);if(!(Re>=Ce)){Ze+=Re;break}et+=z,Ze=et,Re-=Ce}while(Re>0&&et<this.originalWidthMultipliedByChannels);for(je=0,Ge=tt;je<this.originalHeightMultipliedByChannels;Ge+=me)Re=w?Ae[je/z]:1,st=w?Re?1/Re:0:ee,_e[Ge]=pe[je++]*st,_e[++Ge]=pe[je++]*st,_e[++Ge]=pe[je++]*st,w&&(_e[++Ge]=pe[je++]*ee);tt+=z}while(tt<this.targetWidthMultipliedByChannels);return _e},Nt.prototype._resizeHeightRGBChannels=function(c,w){const z=this.ratioWeightHeightPass,j=1/z,ee=this.outputHeightWorkBench,he=this.heightBuffer,me=this.outputHeightWorkBenchOpaquePixelsCount;let pe=0,_e=0,Ae=0,Re=0,Ce=0,et=0,Ze=0,je=1,Ge=0,tt=0,st=0,ft=0;do{for(Ce=0;Ce<this.targetWidthMultipliedByChannels;)ee[Ce++]=0,ee[Ce++]=0,ee[Ce++]=0,w&&(ee[Ce++]=0,me[Ce/4-1]=0);pe=z;do{for(_e=1+Ae-Re,je=Math.min(pe,_e),Ze=Ae,Ce=0;Ce<this.targetWidthMultipliedByChannels;)Ge=c[Ze++],tt=c[Ze++],st=c[Ze++],ft=w?c[Ze++]:255,ee[Ce++]+=(ft?Ge:0)*je,ee[Ce++]+=(ft?tt:0)*je,ee[Ce++]+=(ft?st:0)*je,w&&(ee[Ce++]+=ft*je,me[Ce/4-1]+=ft?je:0);if(!(pe>=_e)){Re+=pe;break}Ae=Ze,Re=Ae,pe-=_e}while(pe>0&&Ae<this.widthPassResultSize);for(Ce=0;Ce<this.targetWidthMultipliedByChannels;)pe=w?me[Ce/4]:1,je=w?pe?1/pe:0:j,he[et++]=Math.round(ee[Ce++]*je),he[et++]=Math.round(ee[Ce++]*je),he[et++]=Math.round(ee[Ce++]*je),w&&(he[et++]=Math.round(ee[Ce++]*j))}while(et<this.finalResultSize);return he},Nt.prototype.resizeWidthInterpolatedRGB=function(c){return this._resizeWidthInterpolatedRGBChannels(c,!1)},Nt.prototype.resizeWidthInterpolatedRGBA=function(c){return this._resizeWidthInterpolatedRGBChannels(c,!0)},Nt.prototype.resizeWidthRGB=function(c){return this._resizeWidthRGBChannels(c,!1)},Nt.prototype.resizeWidthRGBA=function(c){return this._resizeWidthRGBChannels(c,!0)},Nt.prototype.resizeHeightInterpolated=function(c){const w=this.ratioWeightHeightPass,z=this.heightBuffer;let j,ee=0,he=0,me=0,pe=0,_e=0,Ae=0,Re=0;for(;ee<1/3;ee+=w)for(me=0;me<this.targetWidthMultipliedByChannels;)z[he++]=Math.round(c[me++]);for(ee-=1/3,j=this.heightOriginal-1;ee<j;ee+=w)for(Re=ee%1,Ae=1-Re,pe=Math.floor(ee)*this.targetWidthMultipliedByChannels,_e=pe+this.targetWidthMultipliedByChannels,me=0;me<this.targetWidthMultipliedByChannels;++me)z[he++]=Math.round(c[pe++]*Ae+c[_e++]*Re);for(;he<this.finalResultSize;)for(me=0,pe=j*this.targetWidthMultipliedByChannels;me<this.targetWidthMultipliedByChannels;++me)z[he++]=Math.round(c[pe++]);return z},Nt.prototype.resizeHeightRGB=function(c){return this._resizeHeightRGBChannels(c,!1)},Nt.prototype.resizeHeightRGBA=function(c){return this._resizeHeightRGBChannels(c,!0)},Nt.prototype.resize=function(c){this.resizeCallback(this.resizeHeight(this.resizeWidth(c)))},Nt.prototype.bypassResizer=function(c){return c},Nt.prototype.initializeFirstPassBuffers=function(c){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),c||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},Nt.prototype.initializeSecondPassBuffers=function(c){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),c||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},Nt.prototype.generateFloatBuffer=function(c){try{return new Float32Array(c)}catch{return[]}},Nt.prototype.generateFloat64Buffer=function(c){try{return new Float64Array(c)}catch{return[]}},Nt.prototype.generateUint8Buffer=function(c){try{return new Uint8Array(c)}catch{return[]}};const Pi=Nt;var Ei=__webpack_require__(8834).lW;const Ri={nearestNeighbor(c,w){const z=c.width,j=c.height,ee=w.width,he=w.height,me=c.data,pe=w.data;for(let _e=0;_e<he;_e++)for(let Ae=0;Ae<ee;Ae++){let Re=4*(_e*ee+Ae),Ce=4*(Math.floor(_e*j/he)*z+Math.floor(Ae*z/ee));pe[Re++]=me[Ce++],pe[Re++]=me[Ce++],pe[Re++]=me[Ce++],pe[Re++]=me[Ce++]}},bilinearInterpolation(c,w){const z=c.width,j=c.height,ee=w.width,he=w.height,me=c.data,pe=w.data,_e=function(Re,Ce,et,Ze,je){return Ce===Ze?et:Math.round((Re-Ce)*je+(Ze-Re)*et)},Ae=function(Re,Ce,et,Ze,je,Ge,tt,st){let ft=4*(tt*z+Ze)+Ce,bt=4*(tt*z+je)+Ce;const xt=_e(et,Ze,me[ft],je,me[bt]);if(st===tt)pe[Re+Ce]=xt;else{ft=4*(st*z+Ze)+Ce,bt=4*(st*z+je)+Ce;const pt=_e(et,Ze,me[ft],je,me[bt]);pe[Re+Ce]=_e(Ge,tt,xt,st,pt)}};for(let Re=0;Re<he;Re++)for(let Ce=0;Ce<ee;Ce++){const et=4*(Re*ee+Ce),Ze=Ce*z/ee,je=Math.floor(Ze),Ge=Math.min(Math.ceil(Ze),z-1),tt=Re*j/he,st=Math.floor(tt),ft=Math.min(Math.ceil(tt),j-1);Ae(et,0,Ze,je,Ge,tt,st,ft),Ae(et,1,Ze,je,Ge,tt,st,ft),Ae(et,2,Ze,je,Ge,tt,st,ft),Ae(et,3,Ze,je,Ge,tt,st,ft)}},_interpolate2D(c,w,z,j){const ee=c.data,he=w.data,me=c.width,pe=c.height,_e=w.width,Ae=w.height,Re=Math.max(1,Math.floor(me/_e)),Ce=_e*Re,et=Math.max(1,Math.floor(pe/Ae)),Ze=Ae*et,je=Ei.alloc(Ce*pe*4);for(let st=0;st<pe;st++)for(let ft=0;ft<Ce;ft++){const bt=ft*(me-1)/Ce,xt=Math.floor(bt),pt=bt-xt,yt=4*(st*me+xt),_t=4*(st*Ce+ft);for(let Tt=0;Tt<4;Tt++){const Lt=yt+Tt,Jt=xt>0?ee[Lt-4]:2*ee[Lt]-ee[Lt+4],Kt=ee[Lt],ti=ee[Lt+4],ui=xt<me-2?ee[Lt+8]:2*ee[Lt+4]-ee[Lt];je[_t+Tt]=j(Jt,Kt,ti,ui,pt)}}const Ge=Ei.alloc(Ce*Ze*4);for(let st=0;st<Ze;st++)for(let ft=0;ft<Ce;ft++){const bt=st*(pe-1)/Ze,xt=Math.floor(bt),pt=bt-xt,yt=4*(xt*Ce+ft),_t=4*(st*Ce+ft);for(let Tt=0;Tt<4;Tt++){const Lt=yt+Tt,Jt=xt>0?je[Lt-4*Ce]:2*je[Lt]-je[Lt+4*Ce],Kt=je[Lt],ti=je[Lt+4*Ce],ui=xt<pe-2?je[Lt+8*Ce]:2*je[Lt+4*Ce]-je[Lt];Ge[_t+Tt]=j(Jt,Kt,ti,ui,pt)}}const tt=Re*et;if(tt>1)for(let st=0;st<Ae;st++)for(let ft=0;ft<_e;ft++){let bt=0,xt=0,pt=0,yt=0,_t=0;for(let Lt=0;Lt<et;Lt++){const Jt=st*et+Lt;for(let Kt=0;Kt<Re;Kt++){const ti=4*(Jt*Ce+(ft*Re+Kt)),ui=Ge[ti+3];ui&&(bt+=Ge[ti],xt+=Ge[ti+1],pt+=Ge[ti+2],_t++),yt+=ui}}const Tt=4*(st*_e+ft);he[Tt]=_t?Math.round(bt/_t):0,he[Tt+1]=_t?Math.round(xt/_t):0,he[Tt+2]=_t?Math.round(pt/_t):0,he[Tt+3]=Math.round(yt/tt)}else w.data=Ge},bicubicInterpolation(c,w,z){return this._interpolate2D(c,w,z,function(j,ee,he,me,pe){const _e=me-he-j+ee,Ae=j-ee-_e,Re=he-j,Ce=ee;return Math.max(0,Math.min(255,_e*(pe*pe*pe)+Ae*(pe*pe)+Re*pe+Ce))})},hermiteInterpolation(c,w,z){return this._interpolate2D(c,w,z,function(j,ee,he,me,pe){const _e=ee,Ae=.5*(he-j),Re=j-2.5*ee+2*he-.5*me,Ce=.5*(me-j)+1.5*(ee-he);return Math.max(0,Math.min(255,Math.round(((Ce*pe+Re)*pe+Ae)*pe+_e)))})},bezierInterpolation(c,w,z){return this._interpolate2D(c,w,z,function(j,ee,he,me,pe){const _e=1-pe,Ae=ee*_e*_e*_e,Re=3*(ee+(he-j)/4)*_e*_e*pe,Ce=3*(he-(me-ee)/4)*_e*pe*pe,et=he*pe*pe*pe;return Math.max(0,Math.min(255,Math.round(Ae+Re+Ce+et)))})}},ki=Ri;var Mi=__webpack_require__(8834).lW,Si=__webpack_require__(8834).lW;function Ci(c){if(Math.abs(c)%90!=0)throw new Error("Unsupported matrix rotation degree");if(c%=360,Math.abs(c)===0)return;const w=this.bitmap.width,z=this.bitmap.height;let j;switch(c){case 90:case-270:j=90;break;case 180:case-180:j=180;break;case 270:case-90:j=-90;break;default:throw new Error("Unsupported matrix rotation degree")}const ee=j===180?w:z,he=j===180?z:w,me=Si.alloc(this.bitmap.data.length);function pe(Re,Ce){return function(et,Ze){return Ze*Re+et<<2}}const _e=pe(w),Ae=pe(ee);for(let Re=0;Re<w;Re++)for(let Ce=0;Ce<z;Ce++){const et=_e(Re,Ce),Ze=this.bitmap.data.readUInt32BE(et);let je;switch(j){case 90:je=Ae(Ce,w-Re-1);break;case-90:je=Ae(z-Ce-1,Re);break;case 180:je=Ae(w-Re-1,z-Ce-1);break;default:throw new Error("Unsupported matrix rotation angle")}me.writeUInt32BE(Ze,je)}this.bitmap.data=me,this.bitmap.width=ee,this.bitmap.height=he}function Ui(c,w){const z=(c%=360)*Math.PI/180,j=Math.cos(z),ee=Math.sin(z);let he=this.bitmap.width,me=this.bitmap.height;if(w===!0||typeof w=="string"){he=Math.ceil(Math.abs(this.bitmap.width*j)+Math.abs(this.bitmap.height*ee))+1,me=Math.ceil(Math.abs(this.bitmap.width*ee)+Math.abs(this.bitmap.height*j))+1,he%2!=0&&he++,me%2!=0&&me++;const Ze=this.cloneQuiet();this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(Ge,tt,st){this.bitmap.data.writeUInt32BE(this._background,st)});const je=Math.max(he,me,this.bitmap.width,this.bitmap.height);this.resize(je,je,w),this.blit(Ze,this.bitmap.width/2-Ze.bitmap.width/2,this.bitmap.height/2-Ze.bitmap.height/2)}const pe=this.bitmap.width,_e=this.bitmap.height,Ae=Si.alloc(this.bitmap.data.length);function Re(Ze,je){return function(Ge,tt){return{x:Ge+Ze,y:tt+je}}}const Ce=Re(-pe/2,-_e/2),et=Re(pe/2+.5,_e/2+.5);for(let Ze=1;Ze<=_e;Ze++)for(let je=1;je<=pe;je++){const Ge=Ce(je,Ze),tt=et(j*Ge.x-ee*Ge.y,j*Ge.y+ee*Ge.x),st=pe*(Ze-1)+je-1<<2;if(tt.x>=0&&tt.x<pe&&tt.y>=0&&tt.y<_e){const ft=(pe*(0|tt.y)+tt.x|0)<<2,bt=this.bitmap.data.readUInt32BE(ft);Ae.writeUInt32BE(bt,st)}else Ae.writeUInt32BE(this._background,st)}if(this.bitmap.data=Ae,w===!0||typeof w=="string"){const Ze=pe/2-he/2,je=_e/2-me/2;this.crop(Ze,je,he,me)}}const zi=[()=>({blit(c,w,z,j,ee,he,me,pe){if(!(c instanceof this.constructor))return n.call(this,"The source must be a Jimp image",pe);if(typeof w!="number"||typeof z!="number")return n.call(this,"x and y must be numbers",pe);if(typeof j=="function")pe=j,j=0,ee=0,he=c.bitmap.width,me=c.bitmap.height;else{if(typeof j!=typeof ee||typeof ee!=typeof he||typeof he!=typeof me)return n.call(this,"srcx, srcy, srcw, srch must be numbers",pe);j=j||0,ee=ee||0,he=he||c.bitmap.width,me=me||c.bitmap.height}w=Math.round(w),z=Math.round(z),j=Math.round(j),ee=Math.round(ee),he=Math.round(he),me=Math.round(me);const _e=this.bitmap.width,Ae=this.bitmap.height,Re=this;return c.scanQuiet(j,ee,he,me,function(Ce,et,Ze){const je=w+Ce-j,Ge=z+et-ee;if(je>=0&&Ge>=0&&_e-je>0&&Ae-Ge>0){const tt=Re.getPixelIndex(je,Ge),st={r:this.bitmap.data[Ze],g:this.bitmap.data[Ze+1],b:this.bitmap.data[Ze+2],a:this.bitmap.data[Ze+3]},ft={r:Re.bitmap.data[tt],g:Re.bitmap.data[tt+1],b:Re.bitmap.data[tt+2],a:Re.bitmap.data[tt+3]};Re.bitmap.data[tt]=(st.a*(st.r-ft.r)-ft.r+255>>8)+ft.r,Re.bitmap.data[tt+1]=(st.a*(st.g-ft.g)-ft.g+255>>8)+ft.g,Re.bitmap.data[tt+2]=(st.a*(st.b-ft.b)-ft.b+255>>8)+ft.b,Re.bitmap.data[tt+3]=this.constructor.limit255(ft.a+st.a)}}),a(pe)&&pe.call(this,null,this),this}}),()=>({blur(c,w){if(typeof c!="number")return n.call(this,"r must be a number",w);if(c<1)return n.call(this,"r must be greater than 0",w);let z,j,ee,he,me,pe,_e,Ae,Re,Ce,et,Ze,je,Ge;const tt=this.bitmap.width-1,st=this.bitmap.height-1,ft=c+1,bt=li[c],xt=pi[c],pt=[],yt=[],_t=[],Tt=[],Lt=[],Jt=[];let Kt=2;for(;Kt-- >0;){for(Ze=0,je=0,pe=0;pe<this.bitmap.height;pe++){for(z=this.bitmap.data[je]*ft,j=this.bitmap.data[je+1]*ft,ee=this.bitmap.data[je+2]*ft,he=this.bitmap.data[je+3]*ft,_e=1;_e<=c;_e++)Ae=je+((_e>tt?tt:_e)<<2),z+=this.bitmap.data[Ae++],j+=this.bitmap.data[Ae++],ee+=this.bitmap.data[Ae++],he+=this.bitmap.data[Ae];for(me=0;me<this.bitmap.width;me++)pt[Ze]=z,yt[Ze]=j,_t[Ze]=ee,Tt[Ze]=he,pe===0&&(Lt[me]=((Ae=me+ft)<tt?Ae:tt)<<2,Jt[me]=(Ae=me-c)>0?Ae<<2:0),Re=je+Lt[me],Ce=je+Jt[me],z+=this.bitmap.data[Re++]-this.bitmap.data[Ce++],j+=this.bitmap.data[Re++]-this.bitmap.data[Ce++],ee+=this.bitmap.data[Re++]-this.bitmap.data[Ce++],he+=this.bitmap.data[Re]-this.bitmap.data[Ce],Ze++;je+=this.bitmap.width<<2}for(me=0;me<this.bitmap.width;me++){for(et=me,z=pt[et]*ft,j=yt[et]*ft,ee=_t[et]*ft,he=Tt[et]*ft,_e=1;_e<=c;_e++)et+=_e>st?0:this.bitmap.width,z+=pt[et],j+=yt[et],ee+=_t[et],he+=Tt[et];for(Ze=me<<2,pe=0;pe<this.bitmap.height;pe++)Ge=he*bt>>>xt,this.bitmap.data[Ze+3]=Ge,Ge>255&&(this.bitmap.data[Ze+3]=255),Ge>0?(Ge=255/Ge,this.bitmap.data[Ze]=(z*bt>>>xt)*Ge,this.bitmap.data[Ze+1]=(j*bt>>>xt)*Ge,this.bitmap.data[Ze+2]=(ee*bt>>>xt)*Ge):(this.bitmap.data[Ze+2]=0,this.bitmap.data[Ze+1]=0,this.bitmap.data[Ze]=0),me===0&&(Lt[pe]=((Ae=pe+ft)<st?Ae:st)*this.bitmap.width,Jt[pe]=(Ae=pe-c)>0?Ae*this.bitmap.width:0),Re=me+Lt[pe],Ce=me+Jt[pe],z+=pt[Re]-pt[Ce],j+=yt[Re]-yt[Ce],ee+=_t[Re]-_t[Ce],he+=Tt[Re]-Tt[Ce],Ze+=this.bitmap.width<<2}}return a(w)&&w.call(this,null,this),this}}),()=>({circle(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=arguments.length>1?arguments[1]:void 0;typeof c=="function"&&(w=c,c={});const z=c.radius||(this.bitmap.width>this.bitmap.height?this.bitmap.height:this.bitmap.width)/2,j=typeof c.x=="number"?c.x:this.bitmap.width/2,ee=typeof c.y=="number"?c.y:this.bitmap.height/2;return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(he,me,pe){const _e=Math.sqrt(Math.pow(he-j,2)+Math.pow(me-ee,2));z-_e<=0?this.bitmap.data[pe+3]=0:z-_e<1&&(this.bitmap.data[pe+3]=255*(z-_e))}),a(w)&&w.call(this,null,this),this}}),()=>({brightness(c,w){return typeof c!="number"?n.call(this,"val must be numbers",w):c<-1||c>1?n.call(this,"val must be a number between -1 and +1",w):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(z,j,ee){c<0?(this.bitmap.data[ee]*=1+c,this.bitmap.data[ee+1]*=1+c,this.bitmap.data[ee+2]*=1+c):(this.bitmap.data[ee]+=(255-this.bitmap.data[ee])*c,this.bitmap.data[ee+1]+=(255-this.bitmap.data[ee+1])*c,this.bitmap.data[ee+2]+=(255-this.bitmap.data[ee+2])*c)}),a(w)&&w.call(this,null,this),this)},contrast(c,w){if(typeof c!="number")return n.call(this,"val must be numbers",w);if(c<-1||c>1)return n.call(this,"val must be a number between -1 and +1",w);const z=(c+1)/(1-c);function j(ee){return(ee=Math.floor(z*(ee-127)+127))<0?0:ee>255?255:ee}return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(ee,he,me){this.bitmap.data[me]=j(this.bitmap.data[me]),this.bitmap.data[me+1]=j(this.bitmap.data[me+1]),this.bitmap.data[me+2]=j(this.bitmap.data[me+2])}),a(w)&&w.call(this,null,this),this},posterize(c,w){return typeof c!="number"?n.call(this,"n must be numbers",w):(c<2&&(c=2),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(z,j,ee){this.bitmap.data[ee]=Math.floor(this.bitmap.data[ee]/255*(c-1))/(c-1)*255,this.bitmap.data[ee+1]=Math.floor(this.bitmap.data[ee+1]/255*(c-1))/(c-1)*255,this.bitmap.data[ee+2]=Math.floor(this.bitmap.data[ee+2]/255*(c-1))/(c-1)*255}),a(w)&&w.call(this,null,this),this)},greyscale:hi,grayscale:hi,opacity(c,w){return typeof c!="number"?n.call(this,"f must be a number",w):c<0||c>1?n.call(this,"f must be a number from 0 to 1",w):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(z,j,ee){const he=this.bitmap.data[ee+3]*c;this.bitmap.data[ee+3]=he}),a(w)&&w.call(this,null,this),this)},sepia(c){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(w,z,j){let ee=this.bitmap.data[j],he=this.bitmap.data[j+1],me=this.bitmap.data[j+2];ee=.393*ee+.769*he+.189*me,he=.349*ee+.686*he+.168*me,me=.272*ee+.534*he+.131*me,this.bitmap.data[j]=ee<255?ee:255,this.bitmap.data[j+1]=he<255?he:255,this.bitmap.data[j+2]=me<255?me:255}),a(c)&&c.call(this,null,this),this},fade(c,w){return typeof c!="number"?n.call(this,"f must be a number",w):c<0||c>1?n.call(this,"f must be a number from 0 to 1",w):(this.opacity(1-c),a(w)&&w.call(this,null,this),this)},convolution(c,w,z){typeof w=="function"&&z===void 0&&(z=w,w=null),w||(w=this.constructor.EDGE_EXTEND);const j=si.from(this.bitmap.data),ee=c.length,he=c[0].length,me=Math.floor(ee/2),pe=Math.floor(he/2),_e=-me,Ae=-pe;let Re,Ce,et,Ze,je,Ge,tt,st,ft,bt;return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(xt,pt,yt){Ze=0,et=0,Ce=0;for(let _t=_e;_t<=me;_t++)for(let Tt=Ae;Tt<=pe;Tt++)st=xt+Tt,ft=pt+_t,Re=c[_t+me][Tt+pe],bt=this.getPixelIndex(st,ft,w),bt===-1?(tt=0,Ge=0,je=0):(je=this.bitmap.data[bt+0],Ge=this.bitmap.data[bt+1],tt=this.bitmap.data[bt+2]),Ce+=Re*je,et+=Re*Ge,Ze+=Re*tt;Ce<0&&(Ce=0),et<0&&(et=0),Ze<0&&(Ze=0),Ce>255&&(Ce=255),et>255&&(et=255),Ze>255&&(Ze=255),j[yt+0]=Ce,j[yt+1]=et,j[yt+2]=Ze}),this.bitmap.data=j,a(z)&&z.call(this,null,this),this},opaque(c){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(w,z,j){this.bitmap.data[j+3]=255}),a(c)&&c.call(this,null,this),this},pixelate(c,w,z,j,ee,he){if(typeof w=="function")he=w,ee=null,j=null,z=null,w=null;else{if(typeof c!="number")return n.call(this,"size must be a number",he);if(Wt(w)&&typeof w!="number")return n.call(this,"x must be a number",he);if(Wt(z)&&typeof z!="number")return n.call(this,"y must be a number",he);if(Wt(j)&&typeof j!="number")return n.call(this,"w must be a number",he);if(Wt(ee)&&typeof ee!="number")return n.call(this,"h must be a number",he)}const me=[[1/16,2/16,1/16],[2/16,.25,2/16],[1/16,2/16,1/16]];w=w||0,z=z||0,j=Wt(j)?j:this.bitmap.width-w,ee=Wt(ee)?ee:this.bitmap.height-z;const pe=this.cloneQuiet();return this.scanQuiet(w,z,j,ee,function(_e,Ae,Re){_e=c*Math.floor(_e/c),Ae=c*Math.floor(Ae/c);const Ce=fi(pe,me,_e,Ae);this.bitmap.data[Re]=Ce[0],this.bitmap.data[Re+1]=Ce[1],this.bitmap.data[Re+2]=Ce[2]}),a(he)&&he.call(this,null,this),this},convolute(c,w,z,j,ee,he){if(!Array.isArray(c))return n.call(this,"the kernel must be an array",he);if(typeof w=="function")he=w,w=null,z=null,j=null,ee=null;else{if(Wt(w)&&typeof w!="number")return n.call(this,"x must be a number",he);if(Wt(z)&&typeof z!="number")return n.call(this,"y must be a number",he);if(Wt(j)&&typeof j!="number")return n.call(this,"w must be a number",he);if(Wt(ee)&&typeof ee!="number")return n.call(this,"h must be a number",he)}w=Wt(w)?w:0,z=Wt(z)?z:0,j=Wt(j)?j:this.bitmap.width-w,ee=Wt(ee)?ee:this.bitmap.height-z;const me=this.cloneQuiet();return this.scanQuiet(w,z,j,ee,function(pe,_e,Ae){const Re=fi(me,c,pe,_e);this.bitmap.data[Ae]=this.constructor.limit255(Re[0]),this.bitmap.data[Ae+1]=this.constructor.limit255(Re[1]),this.bitmap.data[Ae+2]=this.constructor.limit255(Re[2])}),a(he)&&he.call(this,null,this),this},color:_i,colour:_i}),()=>({contain(c,w,z,j,ee){if(typeof c!="number"||typeof w!="number")return n.call(this,"w and h must be numbers",ee);typeof z=="string"&&(typeof j=="function"&&ee===void 0&&(ee=j),j=z,z=null),typeof z=="function"&&(ee===void 0&&(ee=z),j=null,z=null),typeof j=="function"&&ee===void 0&&(ee=j,j=null);const he=7&(z=z||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE),me=z>>3;if((he===0||he&he-1)&&(me===0||me&me-1))return n.call(this,"only use one flag per alignment direction",ee);const pe=he>>1,_e=me>>1,Ae=c/w>this.bitmap.width/this.bitmap.height?w/this.bitmap.height:c/this.bitmap.width,Re=this.cloneQuiet().scale(Ae,j);return this.resize(c,w,j),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(Ce,et,Ze){this.bitmap.data.writeUInt32BE(this._background,Ze)}),this.blit(Re,(this.bitmap.width-Re.bitmap.width)/2*pe,(this.bitmap.height-Re.bitmap.height)/2*_e),a(ee)&&ee.call(this,null,this),this}}),()=>({cover(c,w,z,j,ee){if(typeof c!="number"||typeof w!="number")return n.call(this,"w and h must be numbers",ee);z&&typeof z=="function"&&ee===void 0?(ee=z,z=null,j=null):typeof j=="function"&&ee===void 0&&(ee=j,j=null);const he=7&(z=z||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE),me=z>>3;if((he===0||he&he-1)&&(me===0||me&me-1))return n.call(this,"only use one flag per alignment direction",ee);const pe=he>>1,_e=me>>1,Ae=c/w>this.bitmap.width/this.bitmap.height?c/this.bitmap.width:w/this.bitmap.height;return this.scale(Ae,j),this.crop((this.bitmap.width-c)/2*pe,(this.bitmap.height-w)/2*_e,c,w),a(ee)&&ee.call(this,null,this),this}}),function(c){return c("crop",function(w,z,j,ee,he){if(typeof w!="number"||typeof z!="number")return n.call(this,"x and y must be numbers",he);if(typeof j!="number"||typeof ee!="number")return n.call(this,"w and h must be numbers",he);if(w=Math.round(w),z=Math.round(z),j=Math.round(j),ee=Math.round(ee),w===0&&j===this.bitmap.width){const me=j*z+w<<2,pe=me+(ee*j<<2);this.bitmap.data=this.bitmap.data.slice(me,pe)}else{const me=Ai.allocUnsafe(j*ee*4);let pe=0;this.scanQuiet(w,z,j,ee,function(_e,Ae,Re){const Ce=this.bitmap.data.readUInt32BE(Re,!0);me.writeUInt32BE(Ce,pe,!0),pe+=4}),this.bitmap.data=me}return this.bitmap.width=j,this.bitmap.height=ee,a(he)&&he.call(this,null,this),this}),{class:{autocrop(){const w=this.bitmap.width,z=this.bitmap.height;let j,ee=0,he=2e-4,me=!0,pe=!1,_e={north:!1,south:!1,east:!1,west:!1};for(var Ae=arguments.length,Re=new Array(Ae),Ce=0;Ce<Ae;Ce++)Re[Ce]=arguments[Ce];for(let pt=0,yt=Re.length;pt<yt;pt++)if(typeof Re[pt]=="number"&&(he=Re[pt]),typeof Re[pt]=="boolean"&&(me=Re[pt]),typeof Re[pt]=="function"&&(j=Re[pt]),typeof Re[pt]=="object"){const _t=Re[pt];_t.tolerance!==void 0&&({tolerance:he}=_t),_t.cropOnlyFrames!==void 0&&({cropOnlyFrames:me}=_t),_t.cropSymmetric!==void 0&&({cropSymmetric:pe}=_t),_t.leaveBorder!==void 0&&({leaveBorder:ee}=_t),_t.ignoreSides!==void 0&&({ignoreSides:_e}=_t)}let et=this.getPixelColor(0,0);const Ze=this.constructor.intToRGBA(et);let je=0,Ge=0,tt=0,st=0;if(et=this.getPixelColor(0,0),!_e.north)e:for(let pt=0;pt<z-1;pt++){for(let yt=0;yt<w;yt++){const _t=this.getPixelColor(yt,pt),Tt=this.constructor.intToRGBA(_t);if(this.constructor.colorDiff(Ze,Tt)>he)break e}je++}if(et=this.getPixelColor(w,0),!_e.west)e:for(let pt=0;pt<w-1;pt++){for(let yt=0+je;yt<z;yt++){const _t=this.getPixelColor(pt,yt),Tt=this.constructor.intToRGBA(_t);if(this.constructor.colorDiff(Ze,Tt)>he)break e}st++}if(et=this.getPixelColor(0,z),!_e.south)e:for(let pt=z-1;pt>=je+1;pt--){for(let yt=w-Ge-1;yt>=0;yt--){const _t=this.getPixelColor(yt,pt),Tt=this.constructor.intToRGBA(_t);if(this.constructor.colorDiff(Ze,Tt)>he)break e}tt++}if(et=this.getPixelColor(w,z),!_e.east)e:for(let pt=w-1;pt>=0+st+1;pt--){for(let yt=z-1;yt>=0+je;yt--){const _t=this.getPixelColor(pt,yt),Tt=this.constructor.intToRGBA(_t);if(this.constructor.colorDiff(Ze,Tt)>he)break e}Ge++}let ft=!1;if(st-=ee,Ge-=ee,je-=ee,tt-=ee,pe){const pt=Math.min(Ge,st),yt=Math.min(je,tt);st=pt,Ge=pt,je=yt,tt=yt}st=st>=0?st:0,Ge=Ge>=0?Ge:0,je=je>=0?je:0,tt=tt>=0?tt:0;const bt=w-(st+Ge),xt=z-(tt+je);return ft=me?Ge!==0&&je!==0&&st!==0&&tt!==0:Ge!==0||je!==0||st!==0||tt!==0,ft&&this.crop(st,je,bt,xt),a(j)&&j.call(this,null,this),this}}}},()=>({displace(c,w,z){if(typeof c!="object"||c.constructor!==this.constructor)return n.call(this,"The source must be a Jimp image",z);if(typeof w!="number")return n.call(this,"factor must be a number",z);const j=this.cloneQuiet();return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(ee,he,me){let pe=c.bitmap.data[me]/256*w;pe=Math.round(pe);const _e=this.getPixelIndex(ee+pe,he);this.bitmap.data[_e]=j.bitmap.data[me],this.bitmap.data[_e+1]=j.bitmap.data[me+1],this.bitmap.data[_e+2]=j.bitmap.data[me+2]}),a(z)&&z.call(this,null,this),this}}),()=>({dither565:yi,dither16:yi}),()=>({fisheye(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{r:2.5},w=arguments.length>1?arguments[1]:void 0;typeof c=="function"&&(w=c,c={r:2.5});const z=this.cloneQuiet(),{width:j,height:ee}=z.bitmap;return z.scanQuiet(0,0,j,ee,(he,me)=>{const pe=he/j,_e=me/ee,Ae=Math.sqrt(Math.pow(pe-.5,2)+Math.pow(_e-.5,2)),Re=2*Math.pow(Ae,c.r),Ce=(pe-.5)/Ae,et=(_e-.5)/Ae,Ze=Math.round((Re*Ce+.5)*j),je=Math.round((Re*et+.5)*ee),Ge=z.getPixelColor(Ze,je);this.setPixelColor(Ge,he,me)}),this.setPixelColor(z.getPixelColor(j/2,ee/2),j/2,ee/2),a(w)&&w.call(this,null,this),this}}),()=>({flip:vi,mirror:vi}),()=>({gaussian(c,w){if(typeof c!="number")return n.call(this,"r must be a number",w);if(c<1)return n.call(this,"r must be greater than 0",w);const z=Math.ceil(2.57*c),j=2*z+1,ee=c*c*2,he=ee*Math.PI,me=[];for(let pe=0;pe<j;pe++){me[pe]=[];for(let _e=0;_e<j;_e++){const Ae=(_e-z)**2+(pe-z)**2;me[pe][_e]=Math.exp(-Ae/ee)/he}}for(let pe=0;pe<this.bitmap.height;pe++)for(let _e=0;_e<this.bitmap.width;_e++){let Ae=0,Re=0,Ce=0,et=0,Ze=0;for(let je=0;je<j;je++){for(let tt=0;tt<j;tt++){const st=Math.min(this.bitmap.width-1,Math.max(0,tt+_e-z)),ft=Math.min(this.bitmap.height-1,Math.max(0,je+pe-z)),bt=me[je][tt],xt=ft*this.bitmap.width+st<<2;Ae+=this.bitmap.data[xt]*bt,Re+=this.bitmap.data[xt+1]*bt,Ce+=this.bitmap.data[xt+2]*bt,et+=this.bitmap.data[xt+3]*bt,Ze+=bt}const Ge=pe*this.bitmap.width+_e<<2;this.bitmap.data[Ge]=Math.round(Ae/Ze),this.bitmap.data[Ge+1]=Math.round(Re/Ze),this.bitmap.data[Ge+2]=Math.round(Ce/Ze),this.bitmap.data[Ge+3]=Math.round(et/Ze)}}return a(w)&&w.call(this,null,this),this}}),()=>({invert(c){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(w,z,j){this.bitmap.data[j]=255-this.bitmap.data[j],this.bitmap.data[j+1]=255-this.bitmap.data[j+1],this.bitmap.data[j+2]=255-this.bitmap.data[j+2]}),a(c)&&c.call(this,null,this),this}}),()=>({mask(c){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,j=arguments.length>3?arguments[3]:void 0;if(!(c instanceof this.constructor))return n.call(this,"The source must be a Jimp image",j);if(typeof w!="number"||typeof z!="number")return n.call(this,"x and y must be numbers",j);w=Math.round(w),z=Math.round(z);const ee=this.bitmap.width,he=this.bitmap.height,me=this;return c.scanQuiet(0,0,c.bitmap.width,c.bitmap.height,function(pe,_e,Ae){const Re=w+pe,Ce=z+_e;if(Re>=0&&Ce>=0&&Re<ee&&Ce<he){const et=me.getPixelIndex(Re,Ce),{data:Ze}=this.bitmap,je=(Ze[Ae+0]+Ze[Ae+1]+Ze[Ae+2])/3;me.bitmap.data[et+3]*=je/255}}),a(j)&&j.call(this,null,this),this}}),()=>({normalize(c){const w=Ii.call(this),z={r:gi(w.r),g:gi(w.g),b:gi(w.b)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(j,ee,he){const me=this.bitmap.data[he+0],pe=this.bitmap.data[he+1],_e=this.bitmap.data[he+2];this.bitmap.data[he+0]=mi(me,z.r[0],z.r[1]),this.bitmap.data[he+1]=mi(pe,z.g[0],z.g[1]),this.bitmap.data[he+2]=mi(_e,z.b[0],z.b[1])}),a(c)&&c.call(this,null,this),this}}),()=>({constants:{measureText:di,measureTextHeight:bi,FONT_SANS_8_BLACK:l().join(Yt,"fonts/open-sans/open-sans-8-black/open-sans-8-black.fnt"),FONT_SANS_10_BLACK:l().join(Yt,"fonts/open-sans/open-sans-10-black/open-sans-10-black.fnt"),FONT_SANS_12_BLACK:l().join(Yt,"fonts/open-sans/open-sans-12-black/open-sans-12-black.fnt"),FONT_SANS_14_BLACK:l().join(Yt,"fonts/open-sans/open-sans-14-black/open-sans-14-black.fnt"),FONT_SANS_16_BLACK:l().join(Yt,"fonts/open-sans/open-sans-16-black/open-sans-16-black.fnt"),FONT_SANS_32_BLACK:l().join(Yt,"fonts/open-sans/open-sans-32-black/open-sans-32-black.fnt"),FONT_SANS_64_BLACK:l().join(Yt,"fonts/open-sans/open-sans-64-black/open-sans-64-black.fnt"),FONT_SANS_128_BLACK:l().join(Yt,"fonts/open-sans/open-sans-128-black/open-sans-128-black.fnt"),FONT_SANS_8_WHITE:l().join(Yt,"fonts/open-sans/open-sans-8-white/open-sans-8-white.fnt"),FONT_SANS_16_WHITE:l().join(Yt,"fonts/open-sans/open-sans-16-white/open-sans-16-white.fnt"),FONT_SANS_32_WHITE:l().join(Yt,"fonts/open-sans/open-sans-32-white/open-sans-32-white.fnt"),FONT_SANS_64_WHITE:l().join(Yt,"fonts/open-sans/open-sans-64-white/open-sans-64-white.fnt"),FONT_SANS_128_WHITE:l().join(Yt,"fonts/open-sans/open-sans-128-white/open-sans-128-white.fnt"),loadFont(c,w){return typeof c!="string"?n.call(this,"file must be a string",w):new Promise((z,j)=>{w=w||function(ee,he){ee?j(ee):z(he)},Ti()(c,(ee,he)=>{const me={},pe={};if(ee)return n.call(this,ee,w);for(let _e=0;_e<he.chars.length;_e++)me[String.fromCharCode(he.chars[_e].id)]=he.chars[_e];for(let _e=0;_e<he.kernings.length;_e++){const Ae=String.fromCharCode(he.kernings[_e].first);pe[Ae]=pe[Ae]||{},pe[Ae][String.fromCharCode(he.kernings[_e].second)]=he.kernings[_e].amount}(function(_e,Ae,Re){const Ce=Re.map(et=>_e.read(Ae+"/"+et));return Promise.all(Ce)})(this,l().dirname(c),he.pages).then(_e=>{w(null,{chars:me,kernings:pe,pages:_e,common:he.common,info:he.info})})})})}},class:{print(c,w,z,j,ee,he,me){if(typeof ee=="function"&&me===void 0&&(me=ee,ee=1/0),ee===void 0&&(ee=1/0),typeof he=="function"&&me===void 0&&(me=he,he=1/0),he===void 0&&(he=1/0),typeof c!="object")return n.call(this,"font must be a Jimp loadFont",me);if(typeof w!="number"||typeof z!="number"||typeof ee!="number")return n.call(this,"x, y and maxWidth must be numbers",me);if(typeof ee!="number")return n.call(this,"maxWidth must be a number",me);if(typeof he!="number")return n.call(this,"maxHeight must be a number",me);let pe,_e;typeof j=="object"&&j.text!==null&&j.text!==void 0?(pe=j.alignmentX||this.constructor.HORIZONTAL_ALIGN_LEFT,_e=j.alignmentY||this.constructor.VERTICAL_ALIGN_TOP,{text:j}=j):(pe=this.constructor.HORIZONTAL_ALIGN_LEFT,_e=this.constructor.VERTICAL_ALIGN_TOP,j=j.toString()),he!==1/0&&_e===this.constructor.VERTICAL_ALIGN_BOTTOM?z+=he-bi(c,j,ee):he!==1/0&&_e===this.constructor.VERTICAL_ALIGN_MIDDLE&&(z+=he/2-bi(c,j,ee)/2);const Ae=Object.entries(c.chars)[0][1].xadvance,{lines:Re,longestLine:Ce}=xi(c,j,ee);return Re.forEach(et=>{const Ze=et.join(" "),je=function(Ge,tt,st,ft,bt){return bt===Ge.HORIZONTAL_ALIGN_LEFT?0:bt===Ge.HORIZONTAL_ALIGN_CENTER?(ft-di(tt,st))/2:ft-di(tt,st)}(this.constructor,c,Ze,ee,pe);Oi.call(this,c,w+je,z,Ze,Ae),z+=c.common.lineHeight}),a(me)&&me.call(this,null,this,{x:w+Ce,y:z}),this}}}),()=>({constants:{RESIZE_NEAREST_NEIGHBOR:"nearestNeighbor",RESIZE_BILINEAR:"bilinearInterpolation",RESIZE_BICUBIC:"bicubicInterpolation",RESIZE_HERMITE:"hermiteInterpolation",RESIZE_BEZIER:"bezierInterpolation"},class:{resize(c,w,z,j){if(typeof c!="number"||typeof w!="number")return n.call(this,"w and h must be numbers",j);if(typeof z=="function"&&j===void 0&&(j=z,z=null),c===this.constructor.AUTO&&w===this.constructor.AUTO)return n.call(this,"w and h cannot both be set to auto",j);if(c===this.constructor.AUTO&&(c=this.bitmap.width*(w/this.bitmap.height)),w===this.constructor.AUTO&&(w=this.bitmap.height*(c/this.bitmap.width)),c<0||w<0)return n.call(this,"w and h must be positive numbers",j);if(c=Math.round(c)||1,w=Math.round(w)||1,typeof ki[z]=="function"){const ee={data:Mi.alloc(c*w*4),width:c,height:w};ki[z](this.bitmap,ee),this.bitmap=ee}else{const ee=this;new Pi(this.bitmap.width,this.bitmap.height,c,w,!0,!0,he=>{ee.bitmap.data=Mi.from(he),ee.bitmap.width=c,ee.bitmap.height=w}).resize(this.bitmap.data)}return a(j)&&j.call(this,null,this),this}}}),()=>({rotate(c,w,z){return w==null&&(w=!0),typeof w=="function"&&z===void 0&&(z=w,w=!0),typeof c!="number"?n.call(this,"deg must be a number",z):typeof w!="boolean"&&typeof w!="string"?n.call(this,"mode must be a boolean or a string",z):(c%90!=0||!w&&this.bitmap.width!==this.bitmap.height&&c%180!=0?Ui.call(this,c,w,z):Ci.call(this,c),a(z)&&z.call(this,null,this),this)}}),()=>({scale(c,w,z){if(typeof c!="number")return n.call(this,"f must be a number",z);if(c<0)return n.call(this,"f must be a positive number",z);typeof w=="function"&&z===void 0&&(z=w,w=null);const j=this.bitmap.width*c,ee=this.bitmap.height*c;return this.resize(j,ee,w),a(z)&&z.call(this,null,this),this},scaleToFit(c,w,z,j){if(typeof c!="number"||typeof w!="number")return n.call(this,"w and h must be numbers",j);typeof z=="function"&&j===void 0&&(j=z,z=null);const ee=c/w>this.bitmap.width/this.bitmap.height?w/this.bitmap.height:c/this.bitmap.width;return this.scale(ee,z),a(j)&&j.call(this,null,this),this}}),()=>({shadow(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=arguments.length>1?arguments[1]:void 0;typeof c=="function"&&(w=c,c={});const{opacity:z=.7,size:j=1.1,x:ee=-25,y:he=25,blur:me=5}=c,pe=this.clone(),_e=this.clone();return _e.scan(0,0,_e.bitmap.width,_e.bitmap.height,(Ae,Re,Ce)=>{_e.bitmap.data[Ce]=0,_e.bitmap.data[Ce+1]=0,_e.bitmap.data[Ce+2]=0,_e.bitmap.data[Ce+3]=_e.constructor.limit255(_e.bitmap.data[Ce+3]*z),this.bitmap.data[Ce]=0,this.bitmap.data[Ce+1]=0,this.bitmap.data[Ce+2]=0,this.bitmap.data[Ce+3]=0}),_e.resize(_e.bitmap.width*j,_e.bitmap.height*j).blur(me),this.composite(_e,ee,he),this.composite(pe,0,0),a(w)&&w.call(this,null,this),this}}),()=>({threshold(c,w){let{max:z,replace:j=255,autoGreyscale:ee=!0}=c;return typeof z!="number"?n.call(this,"max must be a number",w):typeof j!="number"?n.call(this,"replace must be a number",w):typeof ee!="boolean"?n.call(this,"autoGreyscale must be a boolean",w):(z=this.constructor.limit255(z),j=this.constructor.limit255(j),ee&&this.greyscale(),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(he,me,pe)=>{const _e=this.bitmap.data[pe]<z?this.bitmap.data[pe]:j;this.bitmap.data[pe]=_e,this.bitmap.data[pe+1]=_e,this.bitmap.data[pe+2]=_e}),a(w)&&w.call(this,null,this),this)}})];(function(c){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:de;const z={hasAlpha:{},encoders:{},decoders:{},class:{},constants:{}};function j(ee){Object.entries(ee).forEach(he=>{let[me,pe]=he;z[me]={...z[me],...pe}})}c.types&&(c.types.forEach(function(ee){const he=ee();Array.isArray(he.mime)?Rt(...he.mime):Object.entries(he.mime).forEach(me=>Rt(...me)),delete he.mime,j(he)}),w.decoders={...w.decoders,...z.decoders},w.encoders={...w.encoders,...z.encoders},w.hasAlpha={...w.hasAlpha,...z.hasAlpha}),c.plugins&&c.plugins.forEach(function(ee){const he=ee(se)||{};he.class||he.constants?j(he):j({class:he})}),ci(z.class,w),$t(z.constants,w)})({types:[()=>(0,ye.Ee)(We(),qe(),{mime:{[gt]:["bmp"]},constants:{MIME_BMP:gt,MIME_X_MS_BMP:dt},decoders:{[gt]:ht,[dt]:ht},encoders:{[gt]:lt,[dt]:lt}},{mime:{[Ct]:["tiff","tif"]},constants:{MIME_TIFF:Ct},decoders:{[Ct]:c=>{const w=At().decode(c),z=w[0];w.forEach(ee=>{At().decodeImage(c,ee)});const j=At().toRGBA8(z);return{data:Ut.from(j),width:z.t256[0],height:z.t257[0]}}},encoders:{[Ct]:c=>{const w=At().encodeImage(c.bitmap.data,c.bitmap.width,c.bitmap.height);return Ut.from(w)}}},{mime:{[Xt]:["gif"]},constants:{MIME_GIF:Xt},decoders:{[Xt]:c=>{const w=new Ht.N(c),z=ct.alloc(w.width*w.height*4);return w.decodeAndBlitFrameRGBA(0,z),{data:z,width:w.width,height:w.height}}},encoders:{[Xt]:c=>{const w=new jt.BitmapImage(c.bitmap);jt.GifUtil.quantizeDekker(w,256);const z=new jt.GifFrame(w);return new jt.GifCodec().encodeGif([z],{}).then(j=>j.buffer)}}})],plugins:[c=>{const w=zi.map(z=>{let j=z(c)||{};return j.class||j.constants||(j={class:j}),j});return(0,ye.Ee)(...w)}]})})()})();
