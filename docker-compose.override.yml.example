version: '3.7'
services:
  squadbot:
    environment:
      TELEGRAM_BOT_TOKEN: "<your telegram bot token>"
      DEBUG_CHAT_ID: "-123456789"
      DOMAIN: "<webhook domain>"
      # USE_TEST_MODE: "true"
      # LOG_DATABASE_QUERIES: "true"
    command: |
      ./wait-for-it.sh postgres:5432 -t 120 --
      ./wait-for-it.sh redis:6379 -t 120 --
      npm run start:dev

  postgres:
    ports:
      - 5432:5432

  redis:
    ports:
      - 6379:6379
